import"./main-BfJYzbdv.js";const n=(t,e=document)=>e.querySelector(t);function s(){const t=new URL(location.href);return Object.fromEntries(t.searchParams.entries())}function r(){const t=s();if(t.key)try{const e=sessionStorage.getItem("ws_err_"+t.key);if(e)return JSON.parse(e)}catch{}return{status:Number(t.status)||void 0,title:t.title||"Unexpected error",message:t.message||"No additional details.",endpoint:t.endpoint,method:t.method,requestId:t.rid,when:t.ts?new Date(Number(t.ts)).toISOString():new Date().toISOString(),page:t.page||document.referrer||location.href,userAgent:navigator.userAgent}}function a(t){n("#e_title").textContent=t.title||"Something went wrong",n("#e_subtitle").textContent=t.message||"",n("#e_status").textContent=t.status??"—",n("#e_endpoint").textContent=t.endpoint||"—",n("#e_rid").textContent=t.requestId||"—",n("#e_time").textContent=t.when||new Date().toISOString();const e={status:t.status,title:t.title,message:t.message,endpoint:t.endpoint,method:t.method,requestId:t.requestId,when:t.when,page:t.page,userAgent:t.userAgent,extra:t.extra||void 0};n("#e_json").textContent=JSON.stringify(e,null,2)}function i(){const t=n("#e_json").textContent;t&&navigator.clipboard?.writeText(t).then(()=>{const e=n("#toast");e.classList.remove("hidden"),setTimeout(()=>e.classList.add("hidden"),1500)}).catch(()=>{const e=window.getSelection(),o=document.createRange();o.selectNodeContents(n("#e_json")),e.removeAllRanges(),e.addRange(o);try{document.execCommand("copy")}catch{}e.removeAllRanges()})}n("#btnBack").addEventListener("click",()=>{history.length>1?history.back():location.href="./"});n("#btnCopy").addEventListener("click",i);a(r());
