import{b as g}from"./main-DyUGKaRG.js";function d(e){try{const t=new URL(e,document.baseURI);if(t.origin!==window.location.origin)return"/website-template/";t.searchParams.delete("auth_error");const i=t.pathname+(t.search||"")+(t.hash||"");return i.startsWith("/website-template/")?i:"/website-template/"}catch{const[t,i=""]=String(e||"").split("?"),s=new URLSearchParams(i);s.delete("auth_error");const o=s.toString(),c=t||"/website-template/";return(c.startsWith("/website-template/")?c:"/website-template/")+(o?"?"+o:"")}}function m(){try{if(!document.referrer)return null;const e=new URL(document.referrer);return e.origin===window.location.origin?e.pathname+e.search+e.hash:null}catch{return null}}const r=new URLSearchParams(location.search),a=r.get("code"),h=!!a;let n=r.get("from")||r.get("page")||m()||"/website-template/";n=d(n);const l={invalid_state:"Sign-in failed, please try again.",token:"GitHub sign-in failed during token exchange. Please try again.",token_missing:"GitHub sign-in failed (no token).",user:"GitHub sign-in failed when fetching your user info.",user_parse:"GitHub sign-in failed (user data issue).",db:"Sign-in temporarily unavailable. Please try again shortly.",service:"Sign-in temporarily unavailable (service not configured).",unexpected:"Unexpected error during sign-in. Please try again."},p=r.get("message"),f=r.get("title")||"Something went wrong",b=p||(a?l[a]||l.unexpected:"An unexpected error occurred. Please try again.");document.getElementById("title").textContent=f;document.getElementById("msg").textContent=b;const u=document.getElementById("back");u.setAttribute("href",n);u.addEventListener("click",e=>{e.preventDefault(),location.href=n});document.getElementById("retry").addEventListener("click",()=>{h?location.href=g(n):location.href=n});
