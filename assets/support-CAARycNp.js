import"./main-DyUGKaRG.js";function M({pricePerSeat:n=2500}={}){if(document.querySelector("#wsProCard"))return;const t=o=>`$${o.toLocaleString("en-US")}`,e=document.getElementById("wsSeatCount"),i=document.getElementById("wsSeatsMinus"),u=document.getElementById("wsSeatsPlus"),d=document.getElementById("wsTotal"),s=document.getElementById("wsGoCheckout");if(!e||!i||!u||!d||!s)return;const r=o=>Math.max(1,Math.min(999,o|0));function l(o){const h=r(o);e.value=h,d.textContent=t(h*n),s.href=`./checkout.html?seats=${h}`}i.addEventListener("click",()=>l(+e.value-1)),u.addEventListener("click",()=>l(+e.value+1)),e.addEventListener("input",()=>l(parseInt(e.value||"1",10))),l(+e.value||1)}function E(n="https://api.intellifactory.com/api/contact"){const t=document.getElementById("contactForm"),e=document.getElementById("contact-form-button");if(!t||!e)return;const i=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),u=s=>{const r=s.emailMessage.value.trim(),l=s.emailAddress.value.trim(),o=s.emailName.value.trim();return r&&l&&o&&i(l)},d=()=>{e.disabled=!u(t)};d(),t.addEventListener("input",d),t.addEventListener("submit",async s=>{if(s.preventDefault(),!u(t)){alert("Please fill in all required fields.");return}const r=new FormData;r.append("subject",t.emailSubject.value.trim()),r.append("message",t.emailMessage.value.trim()),r.append("email",t.emailAddress.value.trim()),r.append("name",t.emailName.value.trim()),r.append("country",t.emailCountry.value),e.disabled=!0;const l=e.textContent;e.textContent="Sending...";try{if(!(await fetch(n,{method:"POST",body:r})).ok)throw new Error("Server error");alert("Message sent successfully!"),t.reset(),e.disabled=!0}catch(o){console.error(o),alert("Failed to send message. Please try again later."),t.reset(),e.disabled=!0}finally{e.textContent=l}})}function P(){const n=(a,c=document)=>c.querySelector(a),t=a=>Number.parseInt(a,10),e=n("#wsBillMonth"),i=n("#wsBillYear"),u=n("#wsProCard"),d=n("#wsFreeCard");if(!u||!d||!e||!i)return;const s=n("#wsProPriceText"),r=n("#wsFreePriceText"),l=n("#wsProTotalLabel"),o=n("#wsFreeTotalLabel"),h=n("#wsProTotal"),L=n("#wsFreeTotal"),g=n("#wsSeatsMinus"),C=n("#wsSeatsPlus"),m=n("#wsSeatCount"),w=n("#wsProCheckout"),x=n("#wsFreeCheckout");if(!w||!x||!g||!C||!m)return;let p="year";const y=a=>`$${a.toLocaleString("en-US")}`,f=(a,c)=>{a.dataset.active=String(c),a.setAttribute("aria-pressed",String(c))},T=()=>{const a=t(u.dataset[p==="month"?"priceMonth":"priceYear"]),c=t(d.dataset[p==="month"?"priceMonth":"priceYear"]);return{pro:a,fr:c}};function v(){const{pro:a,fr:c}=T(),S=Math.max(1,Math.min(999,t(m.value)||1));p==="month"?(s.innerHTML=`${y(a)} <span class="text-gray-600 dark:text-gray-400">/ seat / month</span>`,r.innerHTML=`${y(c)} <span class="text-gray-600 dark:text-gray-400">/ month</span>`,l.textContent="Total (monthly)",o.textContent="Total (monthly)"):(s.innerHTML=`${y(a)} <span class="text-gray-600 dark:text-gray-400">/ seat / year</span>`,r.innerHTML=`${y(c)} <span class="text-gray-600 dark:text-gray-400">/ year</span>`,l.textContent="Total (yearly)",o.textContent="Total (yearly)"),h.textContent=y(a*S),L.textContent=y(c),w.href=`./checkout.html?plan=pro&interval=${p}&seats=${S}`,x.href=`./checkout.html?plan=freelancer&interval=${p}&seats=1`}e.addEventListener("click",()=>{p="month",f(e,!0),f(i,!1),v()}),i.addEventListener("click",()=>{p="year",f(e,!1),f(i,!0),v()}),g.addEventListener("click",()=>{const a=Math.max(1,(t(m.value)||1)-1);m.value=String(a),v()}),C.addEventListener("click",()=>{const a=Math.min(999,(t(m.value)||1)+1);m.value=String(a),v()}),m.addEventListener("input",v),v()}document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#wsProCard")?P():M({pricePerSeat:2500}),E()});
