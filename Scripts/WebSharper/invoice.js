var wsbundle=(()=>{var Je=Object.defineProperty;var Ts=Object.getOwnPropertyDescriptor;var Ss=Object.getOwnPropertyNames;var ks=Object.prototype.hasOwnProperty;var Es=(e,t)=>{for(var n in t)Je(e,n,{get:t[n],enumerable:!0})},Vs=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ss(t))!ks.call(e,s)&&s!==n&&Je(e,s,{get:()=>t[s],enumerable:!(r=Ts(t,s))||r.enumerable});return e};var Is=e=>Vs(Je({},"__esModule",{value:!0}),e);var qu={};Es(qu,{Invoice:()=>Gs,Layout:()=>Fs,Runtime:()=>Yn});function Q(e,t){return Object.assign(Object.create(e.prototype),t)}var Ds=Symbol("force");function J(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(function(){},{get(s,i){return i==Ds&&n(),n()[i]},set(s,i,l){return n()[i]=l,!0},construct(s,i,l){return Reflect.construct(n(),i,l)}})}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]===void 0&&delete e[r]}return e}function Tt(e){return e===void 0?null:{$:1,$0:e}}function Ot(e,t,n){n?e[t]=n.$0:delete e[t]}function Zn(e){return function(...t){return e(t)}}function Xn(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}var Qn=globalThis.WebSharperRuntime||{ScriptBasePath:"./",ScriptSkipAssemblyDir:!1};globalThis.WebSharperRuntime=Qn;var Yn=Qn;function et(e){return"Dispose"in e}function Fs(){Ls();let e=ir(),t=sr(),n=rr(),r=nr(),s=ir(),i=sr(),l=rr(),o=nr(),u=Qs(),a=Xs(),f=er(),g=er(),d=Zs(),w=Js(),_=new _e("New_1"),b=(_.h.push(mt(_.k,"togglemenu",()=>_.i,()=>{Ws()})),_),V=(b.h.push(mt(b.k,"toggletheme",()=>b.i,()=>{Rs()})),b),x=(V.h.push(mt(V.k,"onkeydown",()=>V.i,rt=>{Hs(rt)})),V),m=(x.h.push(mt(x.k,"onstoppropagation",()=>x.i,rt=>{qs(rt)})),x),c=(m.h.push(mt(m.k,"closeonbackgroundclick",()=>m.i,rt=>{js(rt)})),m),h=(c.h.push(mt(c.k,"accountbtnclick",()=>c.i,rt=>{Ks(rt)})),c),$=(h.h.push(mt(h.k,"accountbtnkeydown",()=>h.i,()=>{})),h),y=($.h.push(mt($.k,"login",()=>$.i,()=>{ei()})),$),v=(y.h.push(mt(y.k,"logout",()=>y.i,rt=>{zs(rt)})),y),T=(v.h.push(new q("dropdownattr",w)),v),L=(T.h.push(new q("accountbtnaria",d)),T),S=(L.h.push(new q("avatarattr",g)),L),F=(S.h.push(new q("avatarattrhamburger",f)),S),k=(F.h.push(new q("iconattr",a)),F),M=(k.h.push(new q("skeletonattr",u)),k),Y=(M.h.push(new on("accountheadertext",Bs())),M),G=(Y.h.push(new q("headerattrd",o)),Y),X=(G.h.push(new q("btnmanageattrd",l)),G),nt=(X.h.push(new q("btnloginattrd",i)),X),pt=(nt.h.push(new q("btnlogoutattrd",s)),nt),bt=(pt.h.push(new q("headerattr",r)),pt),ye=(bt.h.push(new q("btnmanageattr",n)),bt),Qt=(ye.h.push(new q("btnloginattr",t)),ye),vt=(Qt.h.push(new q("btnlogoutattr",e)),Qt),Rt=kr(vt.k,vt.h,[]);return vt.i=new ee(Rt[1],Zr(Rt[0])),Ys(),P.Empty}function Gs(){let e=new _e("New_1"),t=(e.h.push(new Se("onafterrender","",()=>{wi()})),e),n=(t.h.push(new ut("invid",mi())),t),r=(n.h.push(new ut("invdate",pi())),n),s=(r.h.push(new ut("invstatus",di())),r),i=(s.h.push(new ut("invamount",hi())),s),l=(i.h.push(new ut("invsub",fi())),i),o=(l.h.push(new ut("billtoname",ai())),l),u=(o.h.push(new ut("billtoaddr",ci())),o),a=(u.h.push(new ut("billtovat",ui())),u),f=kr(a.k,a.h,[]),g=new ee(f[1],Ni(f[0]));return(a.i=g,g).Doc}function Ws(){let e=Ye("navmenu"),t=Ye("openIcon"),n=Ye("closeIcon"),r=globalThis.document.body;e.classList.toggle("h-screen"),t.classList.toggle("hidden-open-icon"),n.classList.toggle("visible-close-icon"),r.classList.toggle("overflow-hidden")}function Ls(){xr();let e=globalThis.localStorage.getItem("color-theme");e=="dark"||e==null&&Os()?rn(!0):rn(!1)}function Rs(){Us(Nr()=="dark"?"light":"dark")}function xr(){let e=Nr(),t=globalThis.document.querySelectorAll(".themed-iframe");for(let n=0,r=Ms(t.length)-1;n<=r;n++){let s=t[n],i=s.getAttribute("data-src");if(i!=null){let l=new URL(i,globalThis.location.href);l.searchParams.set("theme",e),s.setAttribute("src",String(l))}}}function Os(){return globalThis.matchMedia("(prefers-color-scheme: dark)").matches}function rn(e){e?sn().classList.add("dark"):sn().classList.remove("dark")}function Us(e){rn(e=="dark"),globalThis.localStorage.setItem("color-theme",e),xr()}function Nr(){return sn().classList.contains("dark")?"dark":"light"}function sn(){return globalThis.document.documentElement}function C(e,t){return br(e,t),e[t]}function E(e){return e.dims===2?e.length*e.length:e.length}function br(e,t){(t<0||t>=e.length)&&O("Index was outside the bounds of the array.")}function In(e,t,n){br(e,t),e[t]=n}function O(e){throw new Error(e)}function Ms(e){let t=Ps(e);return t>2147483647?t-4294967296:t}function Ps(e){return(e<0?Math.ceil(e):Math.floor(e))>>>0}function Ut(e){return[e.K,e.V]}function tr(e,t){let n=1+t-e;return n<=0?[]:io(n,r=>r+e)}var U=class{Equals(t){return this===t}GetHashCode(){return-1}},_e=class extends U{i;k;h;s;constructor(t){if(t=="New_1"){let n;super(),this.i=null,this.k=(n=Ei(),String(n)),this.h=Xn([]),Ot(this,"s",null)}}};function Bs(){return yt.AccountHeaderText}function Hs(e){e.Event.key=="Escape"&&At().Set(!1)}function qs(e){e.Event.stopPropagation()}function js(){At().Get()&&At().Set(!1)}function Ks(){At().Set(!At().Get())}function zs(){Dn(B(()=>(At().Set(!1),W(ri(!0),()=>H(null)))),null)}function Js(){return Ct("hidden",N(e=>!e,At().View))}function Zs(){return kt("aria-expanded",N(e=>e?"true":"false",At().View))}function er(){return tt.Concat([kt("src",Tr()),Ct("hidden",N(e=>!e,Sr())),Ct("opacity-0",te().View)])}function Xs(){return tt.Concat([Ct("hidden",Sr()),Ct("opacity-0",te().View)])}function Qs(){return Ct("opacity-0 hidden",N(e=>!e,te().View))}function nr(){return Re(Oe())}function rr(){return Re(Oe())}function sr(){return Re(N(e=>!e,Oe()))}function ir(){return Re(Oe())}function Ys(){Dn(B(()=>(te().Set(!0),W(si(),()=>W(Bi(500),()=>(te().Set(!1),gt()))))),null)}function At(){return yt.isOpen}function Tr(){return yt.avatarSrcV}function Sr(){return yt.hasAvatarV}function te(){return yt.isLoading}function Re(e){return tt.Concat([Ct("hidden",N(t=>!t,e)),Ct("flex",e)])}function Oe(){return yt.isAuthedV}function lr(){return yt.userV}function ti(){return yt.displayNameV}function mt(e,t,n,r){return new Ne(t,"",s=>i=>{let l=n();return l.SetAnchorRoot(s),r({Vars:l,Anchors:l,Target:s,Event:i})})}function kr(e,t,n){let r=new it("New_5"),s=new lt("New_3"),i=I(t);try{for(;i.MoveNext();){let l=i.Current,o=l.Name;s.SAdd(o),r.set_Item(o,l)}}finally{let l=i;typeof l=="object"&&et(l)&&i.Dispose()}return[zr(t,On(l=>{let o=l[0],u=l[1],a=l[2];if(s.Contains(o))return null;{let f=u===0?z.GetOrAddHoleFor(e,o,()=>{let g=a==null?null:p(a.$0),d=g==null?"":g.$0,w=R.Create_1(d);return new Ee(o,w)}):u===1?z.GetOrAddHoleFor(e,o,()=>{let g=a==null?null:p(a.$0),d=g==null?0:g.$0,w=R.Create_1(d);return new Ve(o,w)}):u===2?z.GetOrAddHoleFor(e,o,()=>{let g=a==null?null:p(a.$0),d=g==null?!1:g.$0,w=R.Create_1(d);return new Ie(o,w)}):u===3?z.GetOrAddHoleFor(e,o,()=>{let g=a==null?null:p(a.$0),d=g==null?-864e13:g.$0,w=R.Create_1(d);return new De(o,w)}):u===4?z.GetOrAddHoleFor(e,o,()=>new Fe(o,R.Create_1([]))):u===5?z.GetOrAddHoleFor(e,o,()=>new se(o,R.Create_1(p(globalThis.document.querySelector("[ws-dom="+o+"]"))))):u===6?z.GetOrAddHoleFor(e,o,()=>{let g=a==null?null:p(a.$0),d=g==null?[]:g.$0,w=R.Create_1(d);return new Ge(o,w)}):O("Invalid kind for template Var type: "+String(u));return r.set_Item(o,f),p(f)}},n)),{$:0,$0:r}]}function ei(){globalThis.location.href=ni()}function ni(){return oi(globalThis.location.pathname+globalThis.location.search)}function ri(e){return B(()=>qi(cn(B(()=>W(Zi(),()=>H(null))),t=>(console.error("AuthClient.Logout RPC failed",t),gt())),B(()=>(Mt().Set(null),e?cn(B(()=>(globalThis.location.reload(),gt())),()=>gt()):gt()))))}function si(){return B(()=>{let e=Mt().Get();return e!=null&&e.$==1?H(p(e.$0)):(ln().Set(!0),ji(B(()=>cn(B(()=>W(Xi(),t=>(Mt().Set(t),H(t)))),t=>(console.error("AuthClient.FetchMe RPC failed",t),Mt().Set(null),H(null)))),()=>{ln().Set(!1)}))})}function ii(){return me.UserView}function li(){return me.IsAuthedView}function oi(e){return"https://api.websharper.io/auth/github/start?returnUrl="+encodeURIComponent(e)}function Mt(){return me.userVar}function ln(){return me.isFetchingVar}var P=class e extends U{docNode;updates;static get Empty(){return e.Mk(null,re())}static Mk(t,n){return new e(t,n)}static RunBefore(t,n){let r=globalThis.document.createTextNode("");t.parentNode.insertBefore(r,t),e.RunBetween(r,t,n)}static TextView(t){let n=Lo();return e.Mk(Dl(n),N(r=>{Ro(n,r)},t))}static RunBetween(t,n,r){Pn(n,r.docNode);let s=Oo(t,n,r.docNode);be(yn()||vn()?_r(wr(!1,s,r.docNode)):()=>{gr(!1,s,r.docNode)},r.updates)}static RunInPlace(t,n,r){let s=Uo(n,r.docNode);be(yn()||vn()?_r(wr(t,s,r.docNode)):()=>{gr(t,s,r.docNode)},r.updates)}static TextNode(t){return e.Mk(Fl(globalThis.document.createTextNode(t)),re())}ReplaceInDom(t){let n=globalThis.document.createTextNode("");t.parentNode.replaceChild(n,t),e.RunBefore(n,this)}constructor(t,n){super(),this.docNode=t,this.updates=n}},ee=class extends U{doc;allVars;anchorRoot;get Doc(){return this.doc}SetAnchorRoot(t){this.anchorRoot=t}Hole(t){return this.allVars.Item(t)}constructor(t,n){super(),this.doc=n,this.allVars=t.$==0?t.$0:O("Should not happen"),this.anchorRoot=null}};function ui(){return dt.BillToVat}function ci(){return dt.BillToAddr}function ai(){return dt.BillToName}function fi(){return dt.InvSub}function hi(){return dt.InvAmount}function di(){return dt.InvStatus}function pi(){return dt.InvDate}function mi(){return dt.InvId}function wi(){Dn(B(()=>W(gi(),e=>(wt().Set(e),gt()))),null)}function gi(){return B(()=>{let e=yi();if(e!=null&&e.$==1){let t=e.$0;return W(Hl(),n=>{function r(s){return B(()=>{if(s>=E(n))return H(null);{let i=C(n,s).id;return W(ql(i),l=>{let o=zl(u=>u.id==t,l);if(o==null)return r(s+1);{let u=o.$0;return H(p(u.subscription==null?Pr(u.id,u.date,u.amount,u.currency,u.status,p(i),u.billingAddress,u.company):u))}})}})}return r(0)})}else return H(null)})}function wt(){return dt.invoiceVar}function $i(e,t){return String(e/100)+" "+(Vt(t)?"USD":t.toUpperCase())}function yi(){let e=new URLSearchParams(globalThis.location.search).get("id");return e==null||e==""?null:p(e)}function A(e,t){if(e===t)return!0;{let s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!A(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return or(e,t);if(e instanceof Date&&t instanceof Date)return vi(e,t);{let i=e,l=t,o=[!0],u;for(var n in i)if((a=>(o[0]=!i.hasOwnProperty(a)||l.hasOwnProperty(a)&&A(i[a],l[a]),!o[0]))(n))break;if(o[0]){let a;for(var r in l)if((f=>(o[0]=!l.hasOwnProperty(f)||i.hasOwnProperty(f),!o[0]))(r))break}return o[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&or(e.$Invokes,t.$Invokes))}}function ne(e){let t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?Ce(e):t=="object"?e==null?0:e instanceof Array?Ai(e):Ci(e):t=="bigint"?Ce(String(e)):t=="symbol"?Ce(e.description):0}function or(e,t){let n,r;if(E(e)===E(t)){for(n=!0,r=0;n&&r<E(e);)A(C(e,r),C(t,r))||(n=!1),r=r+1;return n}else return!1}function vi(e,t){return e.getTime()===t.getTime()}function Ce(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=xe(t,e[n].charCodeAt());return t}function Ai(e){let t=-34948909;for(let n=0,r=E(e)-1;n<=r;n++)t=xe(t,ne(C(e,n)));return t}function Ci(e){if("GetHashCode"in e)return e.GetHashCode();{let n=[0],r;for(var t in e)if((s=>(n[0]=xe(xe(n[0],Ce(s)),ne(e[s])),!1))(t))break;return n[0]}}function xe(e,t){return(e<<5)+e+t}function Ue(e,t){if(e===t)return 0;{let s=typeof e;switch(s=="boolean"||s=="number"||s=="bigint"||s=="string"?1:s=="object"?2:s=="function"?3:s=="symbol"?4:0){case 0:return typeof t>"u"?0:-1;case 1:return e<t?-1:1;case 2:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return _i(e,t);if(e instanceof Date&&t instanceof Date)return xi(e,t);{let i=e,l=t,o=[0],u;for(var n in i)if((a=>i.hasOwnProperty(a)?l.hasOwnProperty(a)?(o[0]=Ue(i[a],l[a]),o[0]!==0):(o[0]=1,!0):!1)(n))break;if(o[0]===0){let a;for(var r in l)if((f=>l.hasOwnProperty(f)?!i.hasOwnProperty(f)&&(o[0]=-1,!0):!1)(r))break}return o[0]}break;case 3:return O("Cannot compare function values.");case 4:return O("Cannot compare symbol values.")}}}function _i(e,t){let n,r;if(E(e)<E(t))return-1;if(E(e)>E(t))return 1;for(n=0,r=0;n===0&&r<E(e);)n=Ue(C(e,r),C(t,r)),r=r+1;return n}function xi(e,t){return Ue(e.getTime(),t.getTime())}var Ze,Xe,Qe;function Ni(e){return e?mo("invoice",p("content"),()=>fn(`\r
        <div class="mx-auto max-w-3xl p-6 text-gray-600 dark:text-white" ws-onafterrender="OnAfterRender">\r
            <div class="mb-6 flex items-center justify-between">\r
                <h1 class="text-xl font-bold">\r
                    Invoice <span ws-hole="InvId">-</span>\r
                </h1>\r
                <a href="./account#subs" class="rounded-md border px-3 py-2 text-sm border-gray-300 dark:border-white/20">Back</a>\r
            </div>\r
\r
            <section class="rounded-xl border border-gray-200 p-5 dark:border-gray-800 space-y-3">\r
                <div class="grid grid-cols-2 gap-4">\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Date</div>\r
                        <div ws-hole="InvDate" class="font-medium">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Status</div>\r
                        <div ws-hole="InvStatus" class="font-medium capitalize">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Amount</div>\r
                        <div ws-hole="InvAmount" class="font-medium">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Subscription</div>\r
                        <div ws-hole="InvSub" class="font-medium">-</div>\r
                    </div>\r
                </div>\r
                <hr class="border-gray-200 dark:border-white/10">\r
                <div class="text-sm">\r
                    <div class="text-gray-600 dark:text-gray-400">Bill to</div>\r
                    <div ws-hole="BillToName">-</div>\r
                    <div ws-hole="BillToAddr" class="text-gray-600 dark:text-gray-400">-</div>\r
                    <div ws-hole="BillToVat" class="text-gray-600 dark:text-gray-400">-</div>\r
                </div>\r
                <!-- Add line items if you expose them -->\r
                <div id="lineItems" class="mt-4"></div>\r
            </section>\r
        </div>\r
    `),e):Jr("invoice",p("content"),()=>fn(`\r
        <div class="mx-auto max-w-3xl p-6 text-gray-600 dark:text-white" ws-onafterrender="OnAfterRender">\r
            <div class="mb-6 flex items-center justify-between">\r
                <h1 class="text-xl font-bold">\r
                    Invoice <span ws-hole="InvId">-</span>\r
                </h1>\r
                <a href="./account#subs" class="rounded-md border px-3 py-2 text-sm border-gray-300 dark:border-white/20">Back</a>\r
            </div>\r
\r
            <section class="rounded-xl border border-gray-200 p-5 dark:border-gray-800 space-y-3">\r
                <div class="grid grid-cols-2 gap-4">\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Date</div>\r
                        <div ws-hole="InvDate" class="font-medium">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Status</div>\r
                        <div ws-hole="InvStatus" class="font-medium capitalize">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Amount</div>\r
                        <div ws-hole="InvAmount" class="font-medium">-</div>\r
                    </div>\r
                    <div>\r
                        <div class="text-sm text-gray-600 dark:text-gray-400">Subscription</div>\r
                        <div ws-hole="InvSub" class="font-medium">-</div>\r
                    </div>\r
                </div>\r
                <hr class="border-gray-200 dark:border-white/10">\r
                <div class="text-sm">\r
                    <div class="text-gray-600 dark:text-gray-400">Bill to</div>\r
                    <div ws-hole="BillToName">-</div>\r
                    <div ws-hole="BillToAddr" class="text-gray-600 dark:text-gray-400">-</div>\r
                    <div ws-hole="BillToVat" class="text-gray-600 dark:text-gray-400">-</div>\r
                </div>\r
                <!-- Add line items if you expose them -->\r
                <div id="lineItems" class="mt-4"></div>\r
            </section>\r
        </div>\r
    `))}function bi(){return Ze||(Ze=ss(void 0,"$",[null,[1,[["$0","Value",Et(),0]]]])())}function Ti(){return Qe||(Qe=Wo(void 0,[["subscriptionId",Et(),0],["planName",Et(),0],["currentPeriodEnd",Et(),0],["cancelAtPeriodEnd",Et(),0],["seats",Et(),0],["githubAssignedNames",is(Si),0]])())}function Si(){return Xe||(Xe=ss(void 0,"$",[null,[1,[["$0","Value",Et(),0]]]])())}function ki(e){let t=[],n;for(var r in e)t.push(e[r]);return t}var K=class extends U{ApplyVarHole(t){console.warn("Not a var hole: ",this.Name)}ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(t,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),jn("")}},q=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}constructor(t,n){super(),this.name=t,this.fillWith=n}},on=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ForTextView(){return p(this.fillWith)}get AsChoiceView(){return Lt(this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},yt=J(e=>class{static{yt=e(this)}static AccountHeaderText;static displayNameV;static hasAvatarV;static avatarSrcV;static isLoading;static isAuthedV;static userV;static isOpen;static{this.isOpen=R.Create_1(!1),this.userV=ii(),this.isAuthedV=li(),this.isLoading=R.Create_1(!0),this.avatarSrcV=N(n=>n!=null&&n.$==1?Vt(n.$0.avatarUrl)?"":n.$0.avatarUrl:"",lr()),this.hasAvatarV=N(n=>n!="",Tr()),this.displayNameV=N(n=>n==null||Vt(n.$0.login)?"Account":n.$0.login,lr()),this.AccountHeaderText=ti()}});function Ei(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Ne=class e extends K{name;key;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.key,this.fillWith)}get Value(){return this.fillWith}constructor(t,n,r){super(),this.name=t,this.key=n,this.fillWith=r}};function Vi(e){let t={},n=I(e);try{for(;n.MoveNext();){let r=n.Current;t[r[0]]=r[1]}}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}return t}function Ye(e){return globalThis.document.getElementById(e)}var un=class extends U{};function Ct(e,t){return Gn(t,n=>r=>r?ol(n,e):ul(n,e))}function kt(e,t){return Gn(t,n=>r=>n.setAttribute(e,r))}function Ii(e,t){return tt.A3(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function ur(e){return tt.A4(e)}function Di(e){return jt(as(),e)}function Fi(e){return jt(fs(),e)}function Gi(e){return jt(hs(),e)}function Wi(e){return jt(ds(),e)}function Li(e){return jt(ps(),e)}function Ri(e){return jt(ms(),e)}function jt(e,t){let n=e(t);return Fr(tt.A3(n[0]),Oi(n[1],n[2]))}function Oi(e,t){return Gn(t,e)}function N(e,t){return ae(()=>Kt(e,t()))}function re(e){let t={s:xt(e)};return()=>t}function ae(e){let t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;let r=n.s;return r!=null&&r.$==0?t.o=null:Or(n,()=>{t.c=null}),n}else return n}}function be(e,t){function n(){$l(t(),e,()=>{_t().Fork(n)})}_t().Fork(n)}function Ui(e,t,n,r){return ae(()=>yl(e,t(),n(),r()))}function Mi(e){return ae(()=>vl(Wt(t=>t(),e)))}function Pi(e,t,n){return ae(()=>Me(e,t(),n()))}function Te(e,t){return ae(()=>Al(e(),t()))}var tt=class e{static Concat(t){let n=Pe(t);return Be(Wn(),(r,s)=>Fr(r,s),n)}static A1(t){return Q(e,{$:1,$0:t})}static A2(t,n){return Q(e,{$:2,$0:t,$1:n})}static HandlerImpl(t,n){return e.A3(r=>{r.addEventListener(t,s=>n(r)(s),!1)})}static Create(t,n){return e.A3(r=>{r.setAttribute(t,n)})}static A4(t){return Q(e,{$:4,$0:t})}static A3(t){return Q(e,{$:3,$0:t})}$;$0;$1},ut=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}constructor(t,n){super(),this.name=t,this.fillWith=n}},dt=J(e=>class{static{dt=e(this)}static BillToAddr;static BillToVat;static BillToName;static InvSub;static InvAmount;static InvStatus;static InvDate;static InvId;static invoiceVar;static{this.invoiceVar=R.Create_1(null),this.InvId=P.TextView(N(n=>n==null?"-":n.$0.id,wt().View)),this.InvDate=P.TextView(N(n=>n==null?"-":n.$0.date,wt().View)),this.InvStatus=P.TextView(N(n=>n==null?"-":n.$0.status,wt().View)),this.InvAmount=P.TextView(N(n=>{if(n==null)return"-";{let r=n.$0;return $i(r.amount,r.currency)}},wt().View)),this.InvSub=P.TextView(N(n=>{if(n==null)return"-";{let r=Gl(s=>!Vt(s),n.$0.subscription);return r==null?"-":r.$0}},wt().View)),this.BillToName=P.TextView(N(n=>{if(n==null)return"-";{let r=n.$0.company;return r!=null&&r.$==1?Vt(r.$0.name)?"-":r.$0.name:"-"}},wt().View)),this.BillToVat=P.TextView(N(n=>{if(n==null)return"";{let r=n.$0.company;return r!=null&&r.$==1?Vt(r.$0.vatin)?"":"VAT: "+r.$0.vatin:""}},wt().View)),this.BillToAddr=P.TextView(N(n=>{if(n==null)return"-";{let r=n.$0.billingAddress;if(r==null)return"-";{let s=r.$0;return Gt(", ",Ll(i=>!Vt(i),Wl([s.line1,s.postal_code,s.city,s.country])))}}},wt().View))}}),Se=class e extends K{name;key;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.key,this.fillWith)}get Value(){return this.fillWith}constructor(t,n,r){super(),this.name=t,this.key=n,this.fillWith=r}};function p(e){return{$:1,$0:e}}var R=J(e=>class extends U{static{R=e(this)}static Create_1(n){return new pn(!1,{s:qe(n,[])},n)}});function B(e){return t=>{try{e()(t)}catch(n){t.k(He(n))}}}function W(e,t){return Hi(n=>{e(we(r=>{if(r.$==0){let s=r.$0;_t().Fork(()=>{try{t(s)(n)}catch(i){n.k(He(i))}})}else _t().Fork(()=>{n.k(r)})},n.ct))})}function H(e){return t=>{t.k(ge(e))}}function Dn(e,t){let n=Er()[0],r=t==null?n:t.$0;r.c||e(we(s=>{s.$==1&&Vr(s.$0)},r))}function Bi(e){return t=>{let n,r;n=void 0,r=void 0,n=setTimeout(()=>{r.Dispose(),_t().Fork(()=>{t.k(ge(null))})},e),r=Ir(t.ct,()=>{clearTimeout(n),_t().Fork(()=>{Dr(t)})})}}function gt(){return zt.Zero}function Hi(e){return t=>{t.ct.c?Dr(t):e(t)}}function qi(e,t){return W(e,()=>t)}function cn(e,t){return n=>{e(we(r=>{if(r.$==0)n.k(ge(r.$0));else if(r.$==1){let s=r.$0;try{t(s)(n)}catch{n.k(r)}}else n.k(r)},n.ct))}}function Er(){return zt.defCTS}function Vr(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function ji(e,t){return n=>{e(we(r=>{try{t(),n.k(r)}catch(s){n.k(He(s))}},n.ct))}}function Ir(e,t){if(e===Ki())return{Dispose(){return null}};{let n=e.r.push(t)-1;return{Dispose(){return In(e.r,n,()=>{})}}}}function Dr(e){e.k(es(new We("New",e.ct)))}function _t(){return zt.scheduler}function Ki(){return zt.noneCT}function zi(e,t){let n=Er()[0],r=t==null?n:t.$0;_t().Fork(()=>{r.c||e(we(s=>{s.$==1&&Vr(s.$0)},r))})}function Fn(e){return t=>{let n=[!1],r=s=>{n[0]?O("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,_t().Fork(s))};e(s=>{r(()=>{t.k(ge(s))})},s=>{r(()=>{t.k(He(s))})},s=>{r(()=>{t.k(es(s))})})}}function Ji(){return zt.GetCT}function Zi(){return new Ht().Async("IRemotingContract/Logout",[])}function Xi(){return W(new Ht().Async("IRemotingContract/Me",[]),e=>H(bi()(e)))}function Qi(){return W(new Ht().Async("IRemotingContract/GetSubscriptions",[]),e=>H(is(Ti)()(e)))}function Yi(){return W(new Ht().Async("IRemotingContract/GetInvoices",[]),e=>H(e))}function Gn(e,t){return tt.A1(new mn(e,t))}function Fr(e,t){if(e===null)return t;if(t===null)return e;{let n=tt.A2(e,t);return tl(n,an(e)|an(t)),n}}function Wn(){return D.EmptyAttr}function tl(e,t){e.flags=t}function an(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function Ln(e,t){let n=[],r=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return n.push(o.$0);if(o!=null&&o.$==2){let u=o.$1,a=o.$0;s(a),o=u}else return o!=null&&o.$==3?o.$0(e):o!=null&&o.$==4?r.push(o.$0):null}else return null}s(t);let i=n.slice(0);return ls(e,an(t),i,r.length===0?null:p(o=>{lo(u=>{u(o)},r)}))}function Gr(e){return Il(t=>t.NChanged,re(),Te,e.DynNodes)}function tn(e){return ls(e,0,[],null)}function el(e){return(e.DynFlags&2)===2}function nl(e){return Rn(e,(t,n)=>t.NGetExitAnim(n))}function rl(e){return(e.DynFlags&1)===1}function sl(e){return Rn(e,(t,n)=>t.NGetEnterAnim(n))}function il(e){return(e.DynFlags&4)===4}function ll(e){return Rn(e,(t,n)=>t.NGetChangeAnim(n))}function Rn(e,t){return je(ot(n=>t(n,e.DynElem),e.DynNodes))}function Wr(e,t){Z(n=>{n.NSync(e)},t.DynNodes)}function ol(e,t){let n=Lr(e);n==""?hn(e,t):Rr(t).test(n)||hn(e,n+" "+t)}function ul(e,t){let n=Rr(t),r=Lr(e).replace(n,(s,i,l)=>i==""||l==""?"":" ");hn(e,r)}function fn(e){let t=globalThis.document.createElement("div");if(cl().test(e)){let l=function(o,u){for(;;){if(u===0)return o;{let a=u;o=o.lastChild,u=a-1}}},n=dl().exec(e),r=A(n,null)?"":C(n,1).toLowerCase(),s=al()[r],i=s||fl();return t.innerHTML=i[1]+e.replace(hl(),"<$1></$2>")+i[2],(o=>{let u=o;return a=>l(u,a)})(t)(i[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Lr(e){return e instanceof SVGElement?e.getAttribute("class"):e.className}function hn(e,t){e instanceof SVGElement?e.setAttribute("class",t):e.className=t}function Rr(e){return new RegExp("(\\s+|^)"+e+"(?:\\s+"+e+")*(\\s+|$)","g")}function cl(){return Zt.rhtml}function al(){return Zt.wrapMap}function fl(){return Zt.defaultWrap}function hl(){return Zt.rxhtmlTag}function dl(){return Zt.rtagName}function pl(e,t,n){let r=e.querySelectorAll(t);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function cr(e){let t=[];for(let n=0,r=e.childNodes.length-1;n<=r;n++)t.push(e.childNodes[n]);return t}function ml(e,t){let n=globalThis.document.querySelectorAll(e);for(let r=0,s=n.length-1;r<=s;r++)t(n[r])}function wl(e,t,n){let r;if(n.parentNode===e){let s=n.nextSibling,i=A(s,null)?null:s;r=t===i}else r=!1;r||e.insertBefore(n,t)}function gl(e,t){t.parentNode===e&&e.removeChild(t)}function Kt(e,t){let n=t.s;if(n!=null&&n.$==0)return{s:xt(e(n.$0))};{let r={s:Jt([],[])};return ft(t,s=>{Ur(r,t,e(s))},r),r}}function Or(e,t){let n=e.s;n==null?t():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(t)):n.$0}function ft(e,t,n){let r=e.s;if(r==null)oe(n);else if(r!=null&&r.$==2){let s=r.$0;ke(r.$1,n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),ke(s,n)}else t(r.$0)}function Ur(e,t,n){let r=t.s;r!=null&&r.$==0?fe(e,n):he(e,n)}function ke(e,t){if(e.push(t),e.length%20===0){let n=e.slice(0);Tu(e);for(let r=0,s=E(n)-1;r<=s;r++){let i=C(n,r);typeof i=="object"?(l=>{l.s&&e.push(l)})(i):(l=>{e.push(l)})(i)}}}function fe(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$0;e.s=xt(t);for(let s=0,i=E(r)-1;s<=i;s++)C(r,s)(t)}}function he(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$1,s=n.$0;e.s=qe(t,r);for(let i=0,l=E(s)-1;i<=l;i++)C(s,i)(t)}}function $l(e,t,n){let r=e.s;if(r==null)n();else if(r!=null&&r.$==2){let s=r.$0;r.$1.push(n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),s.push(n)}else t(r.$0)}function yl(e,t,n,r){let s=t.s,i=n.s,l=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?l!=null&&l.$==0?{s:xt(e(s.$0,i.$0,l.$0))}:_l(e,s.$0,i.$0,r):l!=null&&l.$==0?xl(e,s.$0,l.$0,n):Nl(e,s.$0,n,r);if(i!=null&&i.$==0)return l!=null&&l.$==0?bl(e,i.$0,l.$0,t):Tl(e,i.$0,t,r);if(l!=null&&l.$==0)return Sl(e,l.$0,t,n);{let o={s:Jt([],[])},u=()=>{let a=o.s;if(!(a!=null&&a.$==0||a!=null&&a.$==2)){let f=It(t),g=It(n),d=It(r);f!=null&&f.$==1&&g!=null&&g.$==1&&d!=null&&d.$==1&&(f.$0[1]&&g.$0[1]&&d.$0[1]?fe(o,e(f.$0[0],g.$0[0],d.$0[0])):he(o,e(f.$0[0],g.$0[0],d.$0[0])))}};return ft(t,u,o),ft(n,u,o),ft(r,u,o),o}}function vl(e){let t=Bt(e);if(t.length==0)return{s:xt([])};{let n={s:Jt([],[])},r=[E(t)-1],s=()=>{if(r[0]===0){let i=ot(l=>{let o=l.s;return o!=null&&o.$==0||o!=null&&o.$==2?o.$0:O("value not found by View.Sequence")},t);Kr(l=>{let o=l.s;return o!=null&&o.$==0},t)?fe(n,i):he(n,i)}else r[0]=r[0]-1};return Z(i=>{ft(i,s,n)},t),n}}function Me(e,t,n){let r=t.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:xt(e(r.$0,s.$0))}:kl(e,r.$0,n);if(s!=null&&s.$==0)return El(e,s.$0,t);{let i={s:Jt([],[])},l=()=>{let o=i.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){let u=It(t),a=It(n);u!=null&&u.$==1&&a!=null&&a.$==1&&(u.$0[1]&&a.$0[1]?fe(i,e(u.$0[0],a.$0[0])):he(i,e(u.$0[0],a.$0[0])))}};return ft(t,l,i),ft(n,l,i),i}}function Al(e,t){let n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:xt(null)}:t;if(r!=null&&r.$==0)return e;{let s={s:Jt([],[])},i=()=>{let l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){let o=It(e),u=It(t);o!=null&&o.$==1&&u!=null&&u.$==1&&(o.$0[1]&&u.$0[1]?fe(s,null):he(s,null))}};return ft(e,i,s),ft(t,i,s),s}}function Cl(e){let t=e.s;if(t==null)return e;if(t!=null&&t.$==2){let n={s:qe(t.$0,[])};return Vl(e,n),n}else if(t!=null&&t.$==3){let n={s:Jt([],[])};return ft(e,r=>{Ur(n,e,r)},n),n}else return e}function _l(e,t,n,r){return Kt(s=>e(t,n,s),r)}function xl(e,t,n,r){return Kt(s=>e(t,s,n),r)}function Nl(e,t,n,r){return Me((s,i)=>e(t,s,i),n,r)}function bl(e,t,n,r){return Kt(s=>e(s,t,n),r)}function Tl(e,t,n,r){return Me((s,i)=>e(s,t,i),n,r)}function Sl(e,t,n,r){return Me((s,i)=>e(s,i,t),n,r)}function It(e){let t=e.s;return t!=null&&t.$==0?p([t.$0,!0]):t!=null&&t.$==2?p([t.$0,!1]):null}function kl(e,t,n){return Kt(r=>e(t,r),n)}function El(e,t,n){return Kt(r=>e(r,t),n)}function Vl(e,t){let n=e.s;n==null?oe(t):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,ke(n.$1,t)):n.$0}function Pe(e){if(e instanceof Array)return e;if(e instanceof st)return Hr(e);if(e===null)return[];{let t=[],n=I(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}}}function Be(e,t,n){let r=E(n);function s(i){return l=>{let o;switch(l<=0?0:l===1&&i>=0&&i<r?1:(o=l,2)){case 0:return e;case 1:return C(n,i);case 2:let u=l/2>>0;return t(s(i)(u),s(i+u)(l-u))}}}return s(0)(r)}function Il(e,t,n,r){let s=E(r);function i(l){return o=>{let u;switch(o<=0?0:o===1&&l>=0&&l<s?1:(u=o,2)){case 0:return t;case 1:return e(C(r,l));case 2:let a=o/2>>0;return n(i(l)(a),i(l+a)(o-a))}}}return i(0)(s)}function Dl(e){return{$:4,$0:e}}function Mr(e){return{$:6,$0:e}}function Fl(e){return{$:5,$0:e}}var it=class extends U{equals;hash;count;data;set_Item(t,n){this.set(t,n)}set(t,n){let r=this.hash(t),s=this.data[r];if(s==null)this.count=this.count+1,this.data[r]=new Array({K:t,V:n});else{let i=Un(l=>this.equals.apply(null,[Ut(l)[0],t]),s);i==null?(this.count=this.count+1,s.push({K:t,V:n})):s[i.$0]={K:t,V:n}}}TryGetValue(t,n){let r=this.data[this.hash(t)];if(r==null)return!1;{let s=qr(i=>{let l=Ut(i);return this.equals.apply(null,[l[0],t])?p(l[1]):null},r);return s!=null&&s.$==1&&(n.set(s.$0),!0)}}ContainsKey(t){let n=this.data[this.hash(t)];return n==null?!1:jr(r=>this.equals.apply(null,[Ut(r)[0],t]),n)}GetEnumerator(){return So(Jl(ki(this.data)))}Item(t){return this.get(t)}get Values(){return new bn(this)}RemoveKey(t){return this.remove(t)}get Keys(){return new kn(this)}get(t){let n=this.data[this.hash(t)];return n==null?To():Xl(r=>{let s=Ut(r);return this.equals.apply(null,[s[0],t])?p(s[1]):null},n)}remove(t){let n=this.hash(t),r=this.data[n];if(r==null)return!1;{let s=de(i=>!this.equals.apply(null,[Ut(i)[0],t]),r);return E(s)<r.length&&(this.count=this.count-1,this.data[n]=s,!0)}}constructor(t,n,r,s){if(t=="New_5"&&(t="New_6",n=[],r=A,s=ne),t=="New_6"){let i=n,l=r,o=s;super(),this.equals=l,this.hash=o,this.count=0,this.data=[];let u=I(i);try{for(;u.MoveNext();){let a=u.Current;this.set(a.K,a.V)}}finally{let a=u;typeof a=="object"&&et(a)&&u.Dispose()}}}};function Pr(e,t,n,r,s,i,l,o){return{id:e,date:t,amount:n,currency:r,status:s,subscription:i,billingAddress:l,company:o}}function Gl(e,t){let n;return t!=null&&t.$==1&&e(t.$0)&&(n=t.$0,!0)?t:null}function Wl(e){let t=st.Empty;for(let n=E(e)-1,r=0;n>=r;n--)t=st.Cons(C(e,n),t);return t}function Ll(e,t){let n,r,s,i;if(t.$==0)return t;for(n=st.Empty,r=n,s=t,i=!0;i;){if(e(s.$0)){if(n.$==0)n=Q(st,{$:1}),r=n;else{let o=Q(st,{$:1});r=(r.$1=o,o)}let l=s.$0;r.$=1,r.$0=l}s=s.$1,s.$==0&&(i=!1)}return n.$!=0&&(r.$1=st.Empty),n}function Rl(e){return e.$==1?e.$0:Br()}function Ol(e){return e.$==1?e.$1:Br()}function Br(){return O("The input list was empty.")}function Gt(e,t){return Bt(t).join(e)}function Vt(e){return e==null||new RegExp("^\\s*$").test(e)}function ht(e,t,n){return Ml(e,new RegExp("["+Pl(t.join(""))+"]"),n)}function dn(e,t){return e.substring(0,t.length)==t}function Ul(e,t){return co(e,Bl(t))}function Ml(e,t,n){return n===1?de(r=>r!=="",ar(e,t)):ar(e,t)}function Pl(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function Bl(e){return e??""}function ar(e,t){return e.split(t)}function Hl(){return B(()=>W(Qi(),e=>H(ot(jl,e))))}function ql(){return B(()=>W(Yi(),e=>H(ot(t=>Pr(t.title,t.date,t.amount,t.currency,t.status,null,null,null),e))))}function jl(e){return Kl(String(e.subscriptionId),(t=>n=>r=>s=>t(yr(n)+" ("+String(r)+" seats) - "+yr(s)))(t=>t)(e.planName)(e.seats)(e.currentPeriodEnd),e.planName,e.seats,e.currentPeriodEnd,e.cancelAtPeriodEnd?"canceling":"active")}function Kl(e,t,n,r,s,i){return{id:e,label:t,plan:n,totalSeats:r,renewsAt:s,status:i}}function zl(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=p(t[r])),r=r+1;return n}function On(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++){let i=e(t[r]);i==null||n.push(i.$0)}return n}function Hr(e){let t=[],n=e;for(;n.$!=0;)t.push(Rl(n)),n=Ol(n);return t}function ot(e,t){let n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function Bt(e){if(e instanceof Array)return e.slice();if(e instanceof st)return Hr(e);{let t=[],n=I(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}}}function Un(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=p(r)),r=r+1;return n}function qr(e,t){let n=null,r=0;for(;r<t.length&&n==null;){let s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function jr(e,t){let n=!1,r=0,s=E(t);for(;!n&&r<s;)e(t[r])?n=!0:r=r+1;return n}function Jl(e){return Array.prototype.concat.apply([],Bt(e))}function Zl(e,t){let n=Un(e,t);return n==null?O("KeyNotFoundException"):n.$0}function Z(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function de(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function Mn(e,t,n){let r=n,s=t.length;for(let i=1,l=s;i<=l;i++)r=e(t[s-i],r);return r}function Xl(e,t){let n=qr(e,t);return n==null?O("KeyNotFoundException"):n.$0}function Ql(e,t){return Bt(ho(e,t))}function Kr(e,t){let n=!0,r=0,s=E(t);for(;n&&r<s;)e(t[r])?r=r+1:n=!1;return n}function Yl(e,t){let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function to(e,t){e<0&&O("Negative size given.");let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}var lt=class e extends U{equals;hash;data;count;SAdd(t){return this.add(t)}Contains(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrContains(t,n)}add(t){let n=this.hash(t),r=this.data[n];return r==null?(this.data[n]=[t],this.count=this.count+1,!0):this.arrContains(t,r)?!1:(r.push(t),this.count=this.count+1,!0)}arrContains(t,n){let r=!0,s=0,i=n.length;for(;r&&s<i;)this.equals.apply(null,[n[s],t])?r=!1:s=s+1;return!r}GetEnumerator(){return I(nn(this.data))}ExceptWith(t){let n=I(t);try{for(;n.MoveNext();)this.Remove(n.Current)}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}}get Count(){return this.count}IntersectWith(t){let n=new e("New_4",t,this.equals,this.hash),r=nn(this.data);for(let s=0,i=r.length-1;s<=i;s++){let l=r[s];n.Contains(l)||this.Remove(l)}}Remove(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrRemove(t,n)&&(this.count=this.count-1,!0)}CopyTo(t,n){let r=nn(this.data);for(let s=0,i=r.length-1;s<=i;s++)In(t,s+n,r[s])}arrRemove(t,n){let r=!0,s=0,i=n.length;for(;r&&s<i;)this.equals.apply(null,[n[s],t])?(n.splice(s,1),r=!1):s=s+1;return!r}constructor(t,n,r,s){t=="New_3"&&(t="New_4",n=[],r=A,s=ne);let i;if(t=="New_2"&&(i=n,t="New_4",n=i,r=A,s=ne),t=="New_4"){let l=n,o=r,u=s;super(),this.equals=o,this.hash=u,this.data=[],this.count=0;let a=I(l);try{for(;a.MoveNext();)this.add(a.Current)}finally{let f=a;typeof f=="object"&&et(f)&&a.Dispose()}}}};function zr(e,t){return{GetEnumerator:()=>{let n=I(e),r=[!0];return new ct(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{let i=s.s;return A(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=I(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{let i=s.s;A(i,null)||i.Dispose()})}}}function fr(e){return{GetEnumerator:()=>I(e())}}function eo(e,t){return so(Wt(e,t))}function Wt(e,t){return{GetEnumerator:()=>{let n=I(t);return new ct(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function no(e){let t=I(e);try{return t.MoveNext()?t.Current:Sn()}finally{let n=t;typeof n=="object"&&et(n)&&t.Dispose()}}function ro(e,t,n){let r=t,s=I(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{let i=s;typeof i=="object"&&et(i)&&s.Dispose()}}function so(e){return{GetEnumerator:()=>{let t=I(e);function n(r){for(;;){let s=r.s;if(A(s,null))if(t.MoveNext())r.s=I(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new ct(null,null,n,r=>{let s=r.s;A(s,null)||s.Dispose();let i=t;A(i,null)||i.Dispose()})}}}function io(e,t){return oo(e,uo(t))}function lo(e,t){let n=I(t);try{for(;n.MoveNext();)e(n.Current)}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}}function oo(e,t){return e<0&&ku(),{GetEnumerator:()=>{let n=[I(t)];return new ct(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{let s=n[0];return A(s,null)?Sn():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Sn())}},()=>{let r=n[0];A(r,null)||r.Dispose()})}}}function uo(e){return{GetEnumerator:()=>new ct(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function co(e,t){return!ao(n=>!e(n),t)}function ao(e,t){let n=I(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{let r=n;typeof r=="object"&&et(r)&&n.Dispose()}}function fo(e){let t=I(e);try{t.MoveNext()||po();let n=t.Current;for(;t.MoveNext();){let r=t.Current;Ue(r,n)===1&&(n=r)}return n}finally{let n=t;typeof n=="object"&&et(n)&&t.Dispose()}}function ho(e,t){return{GetEnumerator:()=>{let n=I(t),r=new lt("New_3");return new ct(null,null,s=>{let i,l;if(n.MoveNext()){for(i=n.Current,l=r.SAdd(e(i));!l&&n.MoveNext();)i=n.Current,l=r.SAdd(e(i));return l&&(s.c=i,!0)}else return!1},()=>{n.Dispose()})}}}function po(){return O("The input sequence was empty.")}var z=J(e=>class extends U{static{z=e(this)}static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(n,r,s){let i,l=z.GetHolesFor(n),o=(i=null,[l.TryGetValue(r,{get:()=>i,set:u=>{i=u}}),i]);if(o[0])return o[1];{let u=s();return l.set_Item(r,u),u}}static GetHolesFor(n){let r,s=(r=null,[z.initialized.TryGetValue(n,{get:()=>r,set:i=>{r=i}}),r]);if(s[0])return s[1];{let i=new it("New_5");return z.initialized.set_Item(n,i),i}}static applyVarHole(n,r){r.ApplyVarHole(n)}InitInstance(n){let r=z.GetHolesFor(n),s=this.vars;for(let l=0,o=s.length-1;l<=o;l++)(()=>{let u,a=C(s,l),f=a[1],g=a[2],d=a[0];if(r.ContainsKey(d))return null;if(f===0){let w=g==null?null:p(g.$0),_=w==null?"":w.$0,b=R.Create_1(_);u=new Ee(d,b)}else if(f===1){let w=g==null?null:p(g.$0),_=w==null?0:w.$0,b=R.Create_1(_);u=new Ve(d,b)}else if(f===2){let w=g==null?null:p(g.$0),_=w==null?!1:w.$0,b=R.Create_1(_);u=new Ie(d,b)}else if(f===3){let w=g==null?null:p(g.$0),_=w==null?-864e13:w.$0,b=R.Create_1(_);u=new De(d,b)}else if(f===4){let w=g==null?null:p(g.$0),_=w==null?[]:w.$0,b=R.Create_1(_);u=new Fe(d,b)}else if(f===5){let w=g==null?null:p(g.$0),_=globalThis.document.querySelector("[ws-dom="+d+"]"),b=w==null?_:w.$0,V=p(b),x=R.Create_1(V);u=new se(d,x)}else if(f===6){let w=g==null?null:p(g.$0),_=w==null?[]:w.$0,b=R.Create_1(_);u=new Ge(d,b)}else u=O("Invalid kind for template Var type: "+String(f));return r.set_Item(d,u)})();let i=new ee({$:0,$0:r},P.Empty);return z.instances.set_Item(n,i),i}$preinit(n){let r=this.InitInstance(n),s=globalThis.document.querySelectorAll("[ws-var^='"+n+"::']");for(let i=0,l=s.length-1;i<=l;i++){let o=s[i],u=o.getAttribute("ws-var"),a=r.Hole($t(u,p(n.length+2),null)),f=a.WithName(u);Yr().set_Item(f.Name,f),z.applyVarHole(o,a)}}$init(n){}$postinit(n){Zr([])}static{z.initialized=new it("New_5"),z.instances=new it("New_5")}}),Ee=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(as(),this.fillWith,t)}ForTextView(){return p(this.fillWith.View)}AddAttribute(t,n){t(n)(Di(this.fillWith))}get AsChoiceView(){return Lt(N(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Ve=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(fs(),this.fillWith,t)}ForTextView(){return p(N(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Fi(this.fillWith))}get AsChoiceView(){return Lt(N(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Ie=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(hs(),this.fillWith,t)}ForTextView(){return p(N(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Gi(this.fillWith))}get AsChoiceView(){return Lt(N(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},De=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(ds(),this.fillWith,t)}ForTextView(){return p(N(t=>new Date(t).toLocaleString(),this.fillWith.View))}AddAttribute(t,n){t(n)(Wi(this.fillWith))}get AsChoiceView(){return Lt(N(t=>new Date(t).toLocaleString(),this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Fe=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(ps(),this.fillWith,t)}ForTextView(){return p(N(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Li(this.fillWith))}get AsChoiceView(){return Lt(N(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},se=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}ApplyVarHole(t){}constructor(t,n){super(),this.name=t,this.fillWith=n}},Ge=class e extends K{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Xt(ms(),this.fillWith,t)}ForTextView(){return p(N(t=>Gt(",",t),this.fillWith.View))}AddAttribute(t,n){t(n)(Ri(this.fillWith))}get AsChoiceView(){return Lt(N(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}};function mo(e,t,n,r){return Xr(""),Jr(e,t,n),wo(e,t,r)}function Jr(e,t,n){pe(e).ContainsKey(t==null?"":t.$0)||Dt(e,t,n(),null)}function Zr(e){if(hr()==null){Xr(""),Dt("",null,globalThis.document.body,null);let t=Qr(globalThis.document.body,e),n=globalThis.document.body;(s=>{P.RunInPlace(!0,n,s)})(t);let r=t;return go(p(r)),r}else return hr().$0}function Xr(e){$o()||(yo(!0),vo(globalThis.document.body,"")),ie().set_Item(e,pe(""))}function wo(e,t,n){let r,s=(r=null,[pe(e).TryGetValue(t==null?"":t.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?Qr(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",t),P.Empty)}function pe(e){let t,n=(t=null,[ie().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{let r=new it("New_5");return ie().set_Item(e,r),r}}function Dt(e,t,n,r){let s=new lt("New_3");function i(d,w){for(;;)switch(d){case 0:if(w!==null){let c=w.nextSibling;A(w.nodeType,Node.TEXT_NODE)?Jo(w):A(w.nodeType,Node.ELEMENT_NODE)&&o(w),w=c}else return null;break;case 1:let _=$t(w.nodeName,p(3),null).toLowerCase(),b=_.indexOf("."),V=b===-1?[e,_]:[$t(_,null,p(b-1)),$t(_,p(b+1),null)],x=V[1],m=V[0];if(m!=""&&!ie().ContainsKey(m))return vr(x);{m==""&&r!=null&&r.$0(x);let c=ie().Item(m);if(c.ContainsKey(x)){let $=c.Item(x).cloneNode(!0),y=new lt("New_3"),v=new it("New_5"),T=w.attributes;for(let S=0,F=T.length-1;S<=F;S++){let k=T.item(S).name.toLowerCase(),M=T.item(S).nodeValue,Y=M==""?k:M.toLowerCase();v.set_Item(k,Y),y.SAdd(k)||console.warn("Hole mapped twice",k)}for(let S=0,F=w.childNodes.length-1;S<=F;S++){let k=w.childNodes[S];A(k.nodeType,Node.ELEMENT_NODE)&&(y.SAdd(k.nodeName.toLowerCase())||console.warn("Hole filled twice",x))}let L=w.childNodes.length===1&&A(w.firstChild.nodeType,Node.TEXT_NODE);if(L){let S=Zo($,w.firstChild.textContent,x),F=(M=>Y=>M.SAdd(Y))(y);(M=>Y=>{Y!=null&&M(Y.$0)})(M=>{F(M)})(S)}if(Xo($,y),!L)for(let S=0,F=w.childNodes.length-1;S<=F;S++){let k=w.childNodes[S];A(k.nodeType,Node.ELEMENT_NODE)&&(k.hasAttributes()?Qo($,k):l($,k))}Yo($,v),Ar($,w.parentNode,w),w.parentNode.removeChild(w);return}else return vr(x)}break}}function l(d,w){let _=w.nodeName.toLowerCase(),b=(x,m)=>{if(_=="title"&&w.hasChildNodes()){let c=fn(w.textContent);for(w.removeChild(w.firstChild);c.hasChildNodes();)w.appendChild(c.firstChild)}return o(w),Ar(w,x,m)};j(d,"[ws-attr-holes]",x=>{let m=ht(x.getAttribute("ws-attr-holes"),[" "],1);for(let c=0,h=m.length-1;c<=h;c++){let $=C(m,c),y=new RegExp("\\${"+_+"}","ig"),v=x.getAttribute($).replace(y,w.textContent);x.setAttribute($,v)}});let V=d.querySelector("[ws-hole="+_+"]");if(A(V,null)){let x=d.querySelector("[ws-replace="+_+"]");if(A(x,null)){let m=d.querySelector("slot[name="+_+"]");return d.tagName.toLowerCase()=="template"?(b(m.parentNode,m),void m.parentNode.removeChild(m)):null}else{b(x.parentNode,x),x.parentNode.removeChild(x);return}}else{for(;V.hasChildNodes();)V.removeChild(V.lastChild);return V.removeAttribute("ws-hole"),(x=>{let m=x;return c=>b(m,c)})(V)(null)}}function o(d){d.hasAttribute("ws-preserve")||(dn(d.nodeName.toLowerCase(),"ws-")?a(d):(cs(d),u(d.firstChild)))}function u(d){return i(0,d)}function a(d){return i(1,d)}function f(d){for(;;){let w=d.querySelector("[ws-template]");if(A(w,null)){let _=d.querySelector("[ws-children-template]");if(A(_,null)){let b=d.querySelectorAll("template[id]");for(let x=1,m=b.length-1;x<=m;x++){let c=b[x];s.Contains(c)||(Dt(e,p(c.getAttribute("id")),c,null),s.SAdd(c))}let V=d.querySelectorAll("template[name]");for(let x=1,m=V.length-1;x<=m;x++){let c=V[x];s.Contains(c)||(Dt(e,p(c.getAttribute("name")),c,null),s.SAdd(c))}return null}else{let b=_.getAttribute("ws-children-template");_.removeAttribute("ws-children-template"),Dt(e,p(b),_,null),d=d}}else{let _=w.getAttribute("ws-template");Ao(e,p(_),w)(null),d=d}}}let g=(t==null?"":t.$0).toLowerCase();pe(e).set_Item(g,n),n.hasChildNodes()&&(f(n),u(n.firstChild))}function hr(){return Nt.RenderedFullDocTemplate}function Qr(e,t){let n,r=Co(e,zr(t,Yr().Values)),s=r[1],i=r[0],l=i.Els;return!A(l,null)&&l.length===1&&C(l,0)instanceof Node&&A(C(l,0).nodeType,Node.ELEMENT_NODE)&&(n=C(l,0),!0)?An.TreeNode(i,s):P.Mk(Mr(i),s)}function go(e){Nt.RenderedFullDocTemplate=e}function $o(){return Nt.LocalTemplatesLoaded}function yo(e){Nt.LocalTemplatesLoaded=e}function vo(e,t){let n=pe(t),r=new it("New_5"),s=e.querySelectorAll("[ws-template]");for(let f=0,g=s.length-1;f<=g;f++){let d=s[f],w=d.getAttribute("ws-template").toLowerCase();d.removeAttribute("ws-template"),r.set_Item(w,ts(d))}let i=e.querySelectorAll("[ws-children-template]");for(let f=0,g=i.length-1;f<=g;f++){let d=i[f],w=d.getAttribute("ws-children-template").toLowerCase();d.removeAttribute("ws-children-template"),r.set_Item(w,_o(d))}let l=e.querySelectorAll("template[id]");for(let f=0,g=l.length-1;f<=g;f++){let d=l[f];r.set_Item(d.getAttribute("id").toLowerCase(),dr(d))}let o=e.querySelectorAll("template[name]");for(let f=0,g=o.length-1;f<=g;f++){let d=o[f];r.set_Item(d.getAttribute("name").toLowerCase(),dr(d))}let u=new lt("New_3");function a(f){if(!n.ContainsKey(f)){let g,d=(g=null,[r.TryGetValue(f,{get:()=>g,set:w=>{g=w}}),g]);d[0]?(u.SAdd(f),r.RemoveKey(f),Dt(t,p(f),d[1],p(a))):console.warn(u.Contains(f)?"Encountered loop when instantiating "+f:"Local template does not exist: "+f)}}for(;r.count>0;)a(no(r.Keys))}function ie(){return Nt.LoadedTemplates}function j(e,t,n){pl(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function Ao(e,t,n){let r=ts(n);return s=>{Dt(e,t,r,s)}}function Co(e,t){let n,r=[],s=[],i=[],l=[],o=new it("New_5"),u=I(t);try{for(;u.MoveNext();){let c=u.Current;o.set_Item(c.Name,c)}}finally{let c=u;typeof c=="object"&&et(c)&&u.Dispose()}let a=cr(e),f=(c,h)=>{let $=Ln(c,h);s.push(Gr($)),i.push([c,$]);let y=Tt($.OnAfterRender);if(y==null)return null;{let v=y.$0;l.push(()=>{v(c)});return}},g=c=>{let h,$=(h=null,[o.TryGetValue(c,{get:()=>h,set:y=>{h=y}}),h]);if($[0]){let y=$[1];if(y instanceof ut)return p(y.Value);if(y instanceof Cn)return p(P.TextNode(y.Value));{let v=y.ForTextView();return v==null?null:p(P.TextView(v.$0))}}else return null};j(e,"[ws-hole]",c=>{let h=c.getAttribute("ws-hole");for(c.removeAttribute("ws-hole");c.hasChildNodes();)c.removeChild(c.lastChild);let $=g(h);if($!=null&&$.$==1){let y=$.$0;$n(c,y.docNode),r.push(Ft.New(tn(c),y.docNode,null,c,Pt(),null)),s.push(y.updates)}}),j(e,"[ws-replace]",c=>{let h=g(c.getAttribute("ws-replace"));if(h!=null&&h.$==1){let $=h.$0,y=c.parentNode,v=globalThis.document.createTextNode("");y.replaceChild(v,c);let T=qo(v,$.docNode);a=cr(e);let L=Un(S=>c===S,a);L==null||In(a,L.$0,$.docNode),r.push(Ft.New(tn(y),$.docNode,p([T,v]),y,Pt(),null)),s.push($.updates)}});let d=!1;j(e,"slot",c=>{let h=c.getAttribute("name"),$=h==""||h==null?"default":h.toLowerCase();if(!(d&&$=="default"||!A(e.parentElement,null))){for(;c.hasChildNodes();)c.removeChild(c.lastChild);$=="default"&&(d=!0);let y=g($);if(y!=null&&y.$==1){let v=y.$0;$n(c,v.docNode),r.push(Ft.New(tn(c),v.docNode,null,c,Pt(),null)),s.push(v.updates)}}}),j(e,"[ws-attr]",c=>{let h,$=c.getAttribute("ws-attr");c.removeAttribute("ws-attr");let y=(h=null,[o.TryGetValue($,{get:()=>h,set:v=>{h=v}}),h]);if(y[0]){let v=y[1];v instanceof q?f(c,v.Value):console.warn("Attribute hole filled with non-attribute data",$)}}),j(e,"[ws-on]",c=>{f(c,tt.Concat(On(h=>{let $,y=ht(h,[":"],1),v=($=null,[o.TryGetValue(C(y,1),{get:()=>$,set:T=>{$=T}}),$]);if(v[0]){let T=v[1];return T instanceof _n?p(Ii(C(y,0),T.Value)):T instanceof Ne?p(tt.HandlerImpl(C(y,0),T.Value)):(console.warn("Event hole on"+C(y,0)+" filled with non-event data",C(y,1)),null)}else return null},ht(c.getAttribute("ws-on"),[" "],1)))),c.removeAttribute("ws-on")}),j(e,"[ws-onafterrender]",c=>{let h,$=c.getAttribute("ws-onafterrender"),y=(h=null,[o.TryGetValue($,{get:()=>h,set:v=>{h=v}}),h]);if(y[0]){let v=y[1];v instanceof xn||v instanceof Se?(c.removeAttribute("ws-onafterrender"),f(c,ur(v.Value))):console.warn("onafterrender hole filled with non-onafterrender data",$)}}),j(e,"[ws-var]",c=>{let h,$=c.getAttribute("ws-var");c.removeAttribute("ws-var");let y=(h=null,[o.TryGetValue($,{get:()=>h,set:v=>{h=v}}),h]);y[0]&&y[1].AddAttribute(v=>T=>f(v,T),c)});let w=()=>{xo("[ws-dom]",c=>{let h,$,y,v=(h=null,[o.TryGetValue(c.getAttribute("ws-dom").toLowerCase(),{get:()=>h,set:T=>{h=T}}),h]);if(v[0]){let T=v[1];if(T instanceof se){let L=T.Value;c.removeAttribute("ws-dom"),$=c;let S=new MutationObserver((F,k)=>{Z(M=>{M.removedNodes.forEach(Zn(Y=>Y[0]===$&&M.addedNodes.length!==1?(L.SetFinal(null),k.disconnect()):null),null)},F)});c.parentElement!==null&&S.observe(c.parentElement,(y={},y.childList=!0,y)),L.Set(p(c)),be(F=>{if(F!=null&&F.$==1){let k=F.$0;if($!==k){let M=[k];$.replaceWith.apply($,M),$=k}}else $.remove(),S.disconnect()},L.View)}}})};j(e,"[ws-attr-holes]",c=>{let h=new RegExp(le(),"g"),$=ht(c.getAttribute("ws-attr-holes"),[" "],1);c.removeAttribute("ws-attr-holes");for(let y=0,v=$.length-1;y<=v;y++)(()=>{let T,L=C($,y),S=c.getAttribute(L),F=null,k=0,M=[];for(;F=h.exec(S),F!==null;){let X=$t(S,p(k),p(h.lastIndex-C(F,0).length-1));k=h.lastIndex,M.push([X,C(F,1)])}let Y=$t(S,p(k),null);h.lastIndex=0;let G=Mn((X,nt)=>(pt=>{let bt=pt[0],ye=pt[1];return Qt=>{let vt,Rt=Qt[0],rt=Qt[1],zn=(vt=null,[o.TryGetValue(ye,{get:()=>vt,set:ze=>{vt=ze}}),vt]),ve=zn[0]?zn[1].AsChoiceView:jn("");return ve.$==1?[bt,st.Cons(Rt==""?ve.$0:N(ze=>ze+Rt,ve.$0),rt)]:[bt+ve.$0+Rt,rt]}})(X)(nt),M,[Y,st.Empty]);if(G[1].$==1)if(G[1].$1.$==1)if(G[1].$1.$1.$==1)if(G[1].$1.$1.$1.$==0){let X=G[0];T=kt(L,Ui((nt,pt,bt)=>X+nt+pt+bt,G[1].$0,G[1].$1.$0,G[1].$1.$1.$0))}else{let X=G[0];T=kt(L,N(nt=>X+Gt("",nt),Mi(G[1])))}else{let X=G[0];T=kt(L,Pi((nt,pt)=>X+nt+pt,G[1].$0,G[1].$1.$0))}else if(G[0]=="")T=kt(L,G[1].$0);else{let X=G[0];T=kt(L,N(nt=>X+nt,G[1].$0))}else T=tt.Create(L,G[0]);return f(c,T)})()});let _=a,b=l.length==0?p(()=>{w()}):p(c=>{w(),Z(h=>{h(c)},l)}),V=!A(a,null)&&a.length===1&&C(a,0)instanceof Node&&C(a,0)instanceof Element&&(n=C(a,0),!0)?p(n):null,x={Els:_,Dirty:!0,Holes:r,Attrs:i,Render:b?b.$0:void 0,El:V?V.$0:void 0};return[Jn(x,["Render","El"]),Be(re(),Te,s)]}function Yr(){return Nt.GlobalHoles}function ts(e){e.removeAttribute("ws-template");let t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");let r=e.parentNode;if(!A(r,null)){let s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}let n=globalThis.document.createElement("div");return n.appendChild(e),n}function _o(e){let t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function dr(e){let t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function le(){return Nt.TextHoleRE}function xo(e,t){ml(e,n=>{n.closest("[ws-preserve]")==null&&t(n)})}var pn=class extends un{isConst;current;snap;view;id;get View(){return this.view}Set(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(oe(this.snap),this.current=t,this.snap={s:qe(t,[])})}Get(){return this.current}SetFinal(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(oe(this.snap),this.isConst=!0,this.current=t,this.snap={s:xt(t)})}UpdateMaybe(t){let n=t(this.Get());n!=null&&n.$==1&&this.Set(n.$0)}constructor(t,n,r){super(),this.isConst=t,this.current=r,this.snap=n,this.view=()=>this.snap,this.id=Pt()}},me=J(e=>class{static{me=e(this)}static IsFetchingView;static IsAuthedView;static UserView;static isFetchingVar;static userVar;static API;static{this.API="https://api.websharper.io",Eo("https://api.websharper.io"),this.userVar=R.Create_1(null),this.isFetchingVar=R.Create_1(!1),this.UserView=Mt().View,this.IsAuthedView=N(n=>n!=null,Mt().View),this.IsFetchingView=ln().View}});function we(e,t){return{k:e,ct:t}}function He(e){return{$:1,$0:e}}function ge(e){return{$:0,$0:e}}function es(e){return{$:2,$0:e}}var Ht=class extends U{AsyncBase(t,n){return B(()=>{let r=Do(this.Headers),s=Io(n);return W(Ji(),i=>W(Fn((l,o,u)=>{let a=[!0],f=Ir(i,()=>{a[0]&&(a[0]=!1,u(new We("New",i)))});return Vo().Async(this.EndPoint+"/"+t,r,s,g=>{a[0]&&(a[0]=!1,f.Dispose(),l(g))},g=>{a[0]&&(a[0]=!1,f.Dispose(),o(g))})}),l=>H(JSON.parse(l))))})}get EndPoint(){return Fo()}get Headers(){return[]}Async(t,n){return this.AsyncBase(t,n)}};function No(e,t){return{c:e,r:t}}var mn=class extends U{push;value;dirty;updates;get NChanged(){return this.updates}NGetExitAnim(t){return en()}NGetEnterAnim(t){return en()}NGetChangeAnim(t){return en()}NSync(t){this.dirty&&(this.push(t)(this.value),this.dirty=!1)}constructor(t,n){super(),this.push=n,this.value=void 0,this.dirty=!1,this.updates=N(r=>{this.value=r,this.dirty=!0},t)}};function oe(e){let t,n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=E(t)-1;r<=s;r++){let i=C(t,r);typeof i=="object"?(l=>{oe(l)})(i):i()}}}var st=class e{static Empty=Q(e,{$:0});static Cons(t,n){return Q(e,{$:1,$0:t,$1:n})}GetEnumerator(){return new ct(this,null,t=>{let n=t.s;if(n.$==0)return!1;{let r=n.$1;return t.c=n.$0,t.s=r,!0}},void 0)}$;$0;$1},zt=J(e=>class{static{zt=e(this)}static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static{this.noneCT=No(!1,[]),this.scheduler=new wn,this.defCTS=[new gn],this.Zero=H(),this.GetCT=n=>{n.k(ge(n.ct))}}}),Ft=class e{Attr;Children;Delimiters;El;ElKey;Render;Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,i,l){let o={Attr:t,Children:n,El:s,ElKey:i},u=(Ot(o,"Delimiters",r),Ot(o,"Render",l),o);return Q(e,u)}};function xt(e){return{$:0,$0:e}}function qe(e,t){return{$:2,$0:e,$1:t}}function Jt(e,t){return{$:3,$0:e,$1:t}}function bo(e,t){return Iu(e,-2147483648,2147483647,t)}function To(){throw new En("New")}function I(e){return e instanceof Array?ns(e):A(typeof e,"string")?rs(e):e.GetEnumerator()}function ns(e){return new ct(0,null,t=>{let n=t.s;return n<E(e)&&(t.c=C(e,n),t.s=n+1,!0)},void 0)}function rs(e){return new ct(0,null,t=>{let n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function So(e){return e instanceof Array?ns(e):A(typeof e,"string")?rs(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}var ct=class extends U{s;c;n;d;e;MoveNext(){let t=this.n(this);return this.e=t?1:2,t}get Current(){return this.e===1?this.c:this.e===0?O("Enumeration has not started. Call MoveNext."):O("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}constructor(t,n,r,s){super(),this.s=t,this.c=n,this.n=r,this.d=s,this.e=0}};function Pt(){return ko(pr()+1),pr()}function ko(e){Kn.counter=e}function pr(){return Kn.counter}function Eo(e){Ke.EndPoint=e}function Vo(){return Ke.AjaxProvider}function Io(e){return JSON.stringify(e)}function Do(e){return Vi(ot(t=>[t[0],t[1]],Ql(t=>t[0],e.concat([["content-type","application/json"]]))))}function Fo(){return Ke.EndPoint}function mr(e,t,n,r,s,i,l){let o=new XMLHttpRequest,u=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");o.open("POST",t,e),e==!0&&(o.withCredentials=!0);let a;for(var f in n)o.setRequestHeader(f,n[f]);u&&o.setRequestHeader("x-csrftoken",u);function g(){if(o.status==200)s(o.responseText);else if(l&&o.status==403&&o.responseText=="CSRF")l();else{let d="Response status is not 200: ";i(new Error(d+o.status))}}"onload"in o?o.onload=o.onerror=o.onabort=g:o.onreadystatechange=()=>{o.readyState==4&&g()},o.send(r)}var wn=class extends U{idle;robin;Fork(t){this.robin.push(t),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){let t=Date.now(),n=!0;for(;n;)this.robin.length===0?(this.idle=!0,n=!1):(this.robin.shift()(),Date.now()-t>40&&(setTimeout(()=>{this.tick()},0),n=!1))}constructor(){super(),this.idle=!0,this.robin=[]}},D=J(e=>class{static{D=e(this)}static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static{this.EmptyAttr=null,this.BoolCheckedApply=m=>[c=>{c.addEventListener("change",()=>m.Get()!=c.checked?m.Set(c.checked):null)},c=>h=>h!=null&&h.$==1?void(c.checked=h.$0):null,N(c=>p(c),m.View)],this.StringSet=m=>c=>{m.value=c},this.StringGet=m=>p(m.value);let n=ru(),r=nu();this.StringApply=m=>St(n,r,m),this.StringListSet=m=>c=>{let h=m.options;for(let $=0,y=h.length-1;$<=y;$++)(()=>{let v=h.item($);v.selected=Su(v.value,c)})()},this.StringListGet=m=>{let c=m.selectedOptions;return p(Bt(fr(()=>eo(h=>[c.item(h).value],tr(0,c.length-1)))))};let s=iu(),i=su();this.StringListApply=m=>St(s,i,m),this.DateTimeSetUnchecked=m=>c=>{m.value=new Date(c).toLocaleString()},this.DateTimeGetUnchecked=m=>{let c,h,$=m.value;if(Yt($))return p(-864e13);{c=0;let y=Vu($);return h=[y!=null&&y.$==1&&(c=y.$0,!0),c],h[0]?p(h[1]):null}};let l=ou(),o=lu();this.DateTimeApplyUnchecked=m=>St(l,o,m),this.FileSetUnchecked=()=>()=>null,this.FileGetUnchecked=m=>{let c=m.files;return p(Bt(fr(()=>Wt(h=>c.item(h),tr(0,c.length-1)))))};let u=au(),a=cu();this.FileApplyUnchecked=m=>uu(u,a,m),this.IntSetUnchecked=m=>c=>{m.value=String(c)},this.IntGetUnchecked=m=>{let c=m.value;if(Yt(c))return p(0);{let h=+c;return h!==h>>0?null:p(h)}};let f=hu(),g=fu();this.IntApplyUnchecked=m=>St(f,g,m),this.IntSetChecked=m=>c=>{let h=c.Input;return m.value!=h?void(m.value=h):null},this.IntGetChecked=m=>{let c,h,$=m.value;if(Yt($))c=!m.checkValidity||m.checkValidity()?at.Blank($):at.Invalid($);else{let y=(h=0,[bo($,{get:()=>h,set:v=>{h=v}}),h]);c=y[0]?at.Valid(y[1],$):at.Invalid($)}return p(c)};let d=pu(),w=du();this.IntApplyChecked=m=>St(d,w,m),this.FloatSetUnchecked=m=>c=>{m.value=String(c)},this.FloatGetUnchecked=m=>{let c=m.value;if(Yt(c))return p(0);{let h=+c;return isNaN(h)?null:p(h)}};let _=wu(),b=mu();this.FloatApplyUnchecked=m=>St(_,b,m),this.FloatSetChecked=m=>c=>{let h=c.Input;return m.value!=h?void(m.value=h):null},this.FloatGetChecked=m=>{let c,h=m.value;if(Yt(h))c=!m.checkValidity||m.checkValidity()?at.Blank(h):at.Invalid(h);else{let $=+h;c=isNaN($)?at.Invalid(h):at.Valid($,h)}return p(c)};let V=$u(),x=gu();this.FloatApplyChecked=m=>St(V,x,m)}});function ss(e,t,n){return()=>r=>{let s;if(typeof r=="object"&&r!=null){let l={};if(typeof t=="string"){let o=r[t];s=Zl(u=>!A(u,null)&&u[0]==o,n)}else{let o=[void 0],u;for(var i in t)if((a=>r.hasOwnProperty(a)&&(o[0]=t[a],!0))(i))break;s=o[0]}return l.$=s,Z(o=>{let u=o[0],a=o[1],f=o[2],g=o[3];if(u==null){let d=f()(r);a&&delete d[t],l.$0=d;return}else return g===0?void(l[u]=f()(r[a])):g===1?void(l[u]=r.hasOwnProperty(a)?p(f()(r[a])):null):O("Invalid field option kind")},C(n,s)[1]),e===void 0?l:e(l)}else return r}}function Et(){return()=>e=>e}function is(e){return Go(e)}function Go(e){return()=>t=>ot(e(),t)}function Wo(e,t){return()=>n=>{let r={};return Z(s=>{let i=s[0],l=s[1],o=s[2];return o===0?n.hasOwnProperty(i)?void(r[i]=l()(n[i])):O("Missing mandatory field: "+i):o===1?void(r[i]=n.hasOwnProperty(i)?p(l()(n[i])):null):o===2?n.hasOwnProperty(i)?void(r[i]=l()(n[i])):null:o===3?n[i]===void 0?void(r[i]=l()(n[i])):null:O("Invalid field option kind")},t),e===void 0?r:e(r)}}var We=class extends Error{ct;constructor(t,n,r,s){let i;if(t=="New"&&(i=n,t="New_1",n="The operation was canceled.",r=null,s=i),t=="New_1"){let l=n,o=r,u=s;super(l),this.inner=o,this.ct=u}}},gn=class extends U{init;c;pending;r;constructor(){super(),this.c=!1,this.pending=null,this.r=[],this.init=1}};function ls(e,t,n,r){let s={DynElem:e,DynFlags:t,DynNodes:n};return Ot(s,"OnAfterRender",r),s}function Lo(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function Ro(e,t){e.Value=t,e.Dirty=!0}function Pn(e,t){ue(e.parentNode,t,e)}function Oo(e,t,n){return ws(gs(),Mo(e,t,Wn(),n))}function wr(e,t,n){return yn()?B(()=>{let r=$s(n),s=Ho(t,r),i=Bo(t,r);return W(Cr(tu(s,Po(t,r))),()=>W($r(e,t),()=>W(Cr(i),()=>(t.PreviousNodes=r,H(null)))))}):$r(e,t)}function gr(e,t,n){let r=$s(n);ce(e,t.Top),t.PreviousNodes=r}function Uo(e,t){return ws(gs(),jo(e,Wn(),t))}function ue(e,t,n){for(;;){if(t!=null&&t.$==1)return Ae(e,t.$0.El,n);if(t!=null&&t.$==2){let r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return Ae(e,t.$0.Text,n);if(t!=null&&t.$==5)return Ae(e,t.$0,n);if(t!=null&&t.$==6)return Mn((r,s)=>(i=>l=>o=>l==null||l.constructor===Object?ue(i,l,o):Ae(i,l,o))(e)(r)(s),t.$0.Els,n);{let r=t.$1;t=t.$0,n=ue(e,r,n)}}}}function Mo(e,t,n,r){let s=e.parentNode;Pn(t,r);let i=Ln(s,n);return Ft.New(i,r,p([e,t]),s,Pt(),Tt(i.OnAfterRender))}function $r(e,t){if(vn()){let n=r=>{requestAnimationFrame(()=>{ce(e,t.Top),r()})};return Fn((r,s,i)=>n.apply(null,[r,s,i]))}else return ce(e,t.Top),H(null)}function Po(e,t){return je(ot(n=>nl(n.Attr),qn(ys(t,Hn(n=>el(n.Attr),e.PreviousNodes)))))}function Bo(e,t){return je(ot(n=>sl(n.Attr),qn(ys(e.PreviousNodes,Hn(n=>rl(n.Attr),t)))))}function Ho(e,t){let n=s=>il(s.Attr),r=s=>Hn(n,s);return je(ot(s=>ll(s.Attr),qn(yu(r(e.PreviousNodes),r(t)))))}function ce(e,t){e||Ko(t),os(t.Children),us(t)}function $n(e,t){ue(e,t,null)}function qo(e,t){let n=e.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,e),Pn(e,t),r}function jo(e,t,n){$n(e,n);let r=Ln(e,t);return Ft.New(r,n,null,e,Pt(),Tt(r.OnAfterRender))}function Ae(e,t,n){return wl(e,n,t),t}function Ko(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){let i=s.$1,l=s.$0;if(r(l))return!0;s=i}else if(s!=null&&s.$==2){let i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){let i=s.$0;return i.Dirty||jr(t,i.Holes)}else return!1}return r(n.Children)}Wr(e.El,e.Attr),t(e)&&zo(e)}function os(e){for(;;){if(e!=null&&e.$==1)return ce(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){let t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){let t=e.$0;return Z(n=>{ce(!1,n)},t.Holes),Z(n=>{Wr(n[0],n[1])},t.Attrs),us(t)}else{let t=e.$1,n=e.$0;os(n),e=t}}}}function us(e){let t=Tt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Ot(e,"Render",null))}function zo(e){let t=e.El;function n(o,u){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){let a=o.$0;if(a.Dirty)return a.Dirty=!1,ue(t,a.Current,u);o=a.Current}else{if(o==null)return u;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){let a=o.$0;return a.Dirty&&(a.Dirty=!1),Mn((f,g)=>f==null||f.constructor===Object?n(f,g):f,a.Els,u)}else{let a=o.$1;o=o.$0,u=n(a,u)}}}}let r=e.El;Ou(o=>{gl(r,o)},Ru(Uu(e),Lu(e.El,Tt(e.Delimiters))));let s=e.Children,i=Tt(e.Delimiters),l=i!=null&&i.$==1?i.$0[1]:null;n(s,l)}function yr(e){return e??""}var Zt=J(e=>class{static{Zt=e(this)}static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static{this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),this.rtagName=new RegExp("<([\\w:]+)"),this.rhtml=new RegExp("<|&#?\\w+;");let n=[1,"<table>","</table>"],r=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",n],["tbody",n],["tfoot",n],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);this.wrapMap=r,this.defaultWrap=[0,"",""]}});function Jo(e){let t=null,n=0,r=e.textContent,s=new RegExp(le(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode($t(r,p(n),p(s.lastIndex-C(t,0).length-1))),e),n=s.lastIndex;let i=globalThis.document.createElement("span");i.setAttribute("ws-replace",C(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=$t(r,p(n),null)}function vr(e){console.warn("Instantiating non-loaded template",e)}function Zo(e,t,n){let r=e.querySelector("[ws-replace]");return A(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),p(r.getAttribute("ws-replace")))}function Xo(e,t){let n=r=>{j(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),j(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),j(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),j(e,"[ws-on]",r=>{r.setAttribute("ws-on",Gt(" ",de(s=>t.Contains(C(ht(s,[":"],1),1)),ht(r.getAttribute("ws-on"),[" "],1))))}),j(e,"[ws-attr-holes]",r=>{let s=ht(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){let o=C(s,i),u=new RegExp(le(),"g"),a=r.getAttribute(o).replace(u,(f,g)=>t.Contains(g)?f:"");r.setAttribute(o,a)}})}function Qo(e,t){cs(t);let n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(A(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){let l=t.attributes.item(s);l.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+l.nodeValue):r.setAttribute(l.name,l.nodeValue)}}}function Yo(e,t){let n=r=>{j(e,"["+r+"]",s=>{let i,l=(i=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:o=>{i=o}}),i]);l[0]&&s.setAttribute(r,l[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),j(e,"[ws-on]",r=>{r.setAttribute("ws-on",Gt(" ",ot(s=>{let i,l=ht(s,[":"],1),o=(i=null,[t.TryGetValue(C(l,1),{get:()=>i,set:u=>{i=u}}),i]);return o[0]?C(l,0)+":"+o[1]:s},ht(r.getAttribute("ws-on"),[" "],1))))}),j(e,"[ws-attr-holes]",r=>{let s=ht(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{let o=C(s,i);return r.setAttribute(o,ro((u,a)=>{let f=Ut(a);return u.replace(new RegExp("\\${"+f[0]+"}","ig"),"${"+f[1]+"}")},r.getAttribute(o),t))})()})}function Ar(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function cs(e){let t=e.attributes,n=[],r=[],s=[];for(let l=0,o=t.length-1;l<=o;l++){let u=t.item(l);if(dn(u.nodeName,"ws-on")&&u.nodeName!="ws-onafterrender"&&u.nodeName!="ws-on")n.push(u.nodeName),r.push($t(u.nodeName,p(5),null)+":"+u.nodeValue.toLowerCase());else if(!dn(u.nodeName,"ws-")&&new RegExp(le()).test(u.nodeValue)){let a=new RegExp(le(),"g"),f=u.nodeValue.replace(a,(g,d)=>"${"+d.toLowerCase()+"}");u.nodeValue=f,s.push(u.nodeName)}}r.length!=0&&e.setAttribute("ws-on",Gt(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",Gt(" ",s));let i=l=>{let o=e.getAttribute(l);o==null||e.setAttribute(l,o.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),Z(l=>{e.removeAttribute(l)},n)}function $t(e,t,n){if(t==null)if(n!=null&&n.$==1){let r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{let r=n.$0,s=t.$0;return r<0?"":e.slice(s,r+1)}}}function yn(){return vu()}function Cr(e){return B(()=>W(eu(()=>{},Au(e)),()=>(Cu(e),H(null))))}function tu(e,t){return Bn(_s(e.$0,t.$0))}function eu(e,t){let n=t.Duration;if(n===0)return gt();{let r=s=>{function i(l){return o=>{let u=o-l;return t.Compute(u),e(),u<=n?void requestAnimationFrame(a=>{i(l)(a)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return Fn((s,i,l)=>r.apply(null,[s,i,l]))}}function Bn(e){return{$:0,$0:e}}function je(e){return Bn(Du(Wt(xu,e)))}function en(){return Bn(Ns())}function vn(){return As.BatchUpdatesEnabled}function _r(e){let t=[0];function n(){return B(()=>W(e,()=>{let r=t[0];return A(r,1)?(t[0]=0,gt()):A(r,2)?(t[0]=1,n()):gt()}))}return()=>{let r=t[0];A(r,0)?(t[0]=1,zi(n(),null)):A(r,1)&&(t[0]=2)}}var Nt=J(e=>class{static{Nt=e(this)}static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static{this.LoadedTemplates=new it("New_5"),this.LocalTemplatesLoaded=!1,this.GlobalHoles=new it("New_5"),this.TextHoleRE="\\${([^}]+)}",this.RenderedFullDocTemplate=null}}),An=class e extends P{docNode_1;updates_1;elt;rvUpdates;static TreeNode(t,n){let r=Nn.Create(n),s=Mr(t),i=ot(u=>Gr(u[1]),t.Attrs),l=Be(re(),Te,i),o=Te(l,r.v);return new e(s,o,C(t.Els,0),r)}constructor(t,n,r,s){super(t,n),this.docNode_1=t,this.updates_1=n,this.elt=r,this.rvUpdates=s}},Ke=J(e=>class{static{Ke=e(this)}static AjaxProvider;static EndPoint;static{this.EndPoint=globalThis.location.origin,this.AjaxProvider=new Tn}});function St(e,t,n){let r;return r=null,[s=>{let i=()=>{n.UpdateMaybe(l=>{let o;return r=e(s),r!=null&&r.$==1&&!A(r.$0,l)&&(o=[r,r.$0],!0)?o[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{let i=t(s);return l=>l==null?null:i(l.$0)},N(s=>{let i;return r!=null&&r.$==1&&A(r.$0,s)&&(i=r.$0,!0)?null:p(s)},n.View)]}function nu(){return D.StringSet}function ru(){return D.StringGet}function su(){return D.StringListSet}function iu(){return D.StringListGet}function lu(){return D.DateTimeSetUnchecked}function ou(){return D.DateTimeGetUnchecked}function uu(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let l;return r=e(s),r!=null&&r.$==1&&r.$0!==i&&(l=[r,r.$0],!0)?l[0]:null})})},s=>{let i=t(s);return l=>l==null?null:i(l.$0)},N(s=>{let i;return r!=null&&r.$==1&&A(r.$0,s)&&(i=r.$0,!0)?null:p(s)},n.View)]}function cu(){return D.FileSetUnchecked}function au(){return D.FileGetUnchecked}function fu(){return D.IntSetUnchecked}function hu(){return D.IntGetUnchecked}function du(){return D.IntSetChecked}function pu(){return D.IntGetChecked}function mu(){return D.FloatSetUnchecked}function wu(){return D.FloatGetUnchecked}function gu(){return D.FloatSetChecked}function $u(){return D.FloatGetChecked}function as(){return D.StringApply}function fs(){return D.FloatApplyUnchecked}function hs(){return D.BoolCheckedApply}function ds(){return D.DateTimeApplyUnchecked}function ps(){return D.FileApplyUnchecked}function ms(){return D.StringListApply}function Yt(e){return Ul(Eu,e)}var at=class e{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return Q(e,{$:2,$0:t})}static Invalid(t){return Q(e,{$:1,$0:t})}static Valid(t,n){return Q(e,{$:0,$0:t,$1:n})}$;$0;$1};function ws(e,t){return{PreviousNodes:e,Top:t}}function gs(){return $e(new lt("New_3"))}function $s(e){let t=[];function n(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){let o=l.$1,u=l.$0;n(0,u),l=o}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){let o=l.$0.Holes;return(u=>a=>{Z(u,a)})(s)(o)}else return null;break;case 1:t.push(l),l=l.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(e),$e(new lt("New_2",t))}function $e(e){return{$:0,$0:e}}function Hn(e,t){return $e(Fu(e,t.$0))}function ys(e,t){return $e(Gu(e.$0,t.$0))}function qn(e){return qt(e.$0)}function yu(e,t){return $e(Wu(e.$0,t.$0))}function vu(){return Cs.UseAnimations}function Au(e){return _u(On(t=>t.$==1?p(t.$0):null,xs(e.$0)))}function Cu(e){Z(t=>{t.$==0&&t.$0()},xs(e.$0))}function _u(e){let t=Pe(e),n=E(t);if(n===0)return Nu();if(n===1)return C(t,0);{let r=fo(Wt(i=>i.Duration,t)),s=ot(i=>bu(r,i),t);return vs(r,i=>{Z(l=>{l.Compute(i)},s)})}}function xu(e){return e.$0}function Nu(e){return vs(0,()=>e)}function vs(e,t){return{Compute:t,Duration:e}}function bu(e,t){let n=t.Compute,r=t.Duration,s=Mu(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:e}}var As=J(e=>class{static{As=e(this)}static BatchUpdatesEnabled;static{this.BatchUpdatesEnabled=!0}});function nn(e){let t=[],n;for(var r in e)t.push.apply(t,e[r]);return t}var Cn=class e extends K{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get AsChoiceView(){return jn(this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},_n=class e extends K{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},xn=class e extends K{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}};function jn(e){return{$:0,$0:e}}function Lt(e){return{$:1,$0:e}}var Nn=class e{c;s;v;static Create(t){let n;return n=null,n=e.New(t,null,()=>{let r;return r=n.s,r===null&&(r=Cl(n.c()),n.s=r,Or(r,()=>{n.s=null})),r}),n}static New(t,n,r){return Q(e,{c:t,s:n,v:r})}},bn=class extends U{d;GetEnumerator(){return I(Wt(t=>t.V,this.d))}constructor(t){super(),this.d=t}},Kn=J(e=>class{static{Kn=e(this)}static counter;static{this.counter=0}}),Tn=class extends U{Async(t,n,r,s,i){mr(!0,t,n,r,s,i,()=>{mr(!0,t,n,r,s,i,void 0)})}};function Tu(e){e.splice(0,E(e))}function Su(e,t){let n=!0,r=0,s=E(t);for(;n&&r<s;)A(t[r],e)?n=!1:r=r+1;return!n}function Sn(){return O("The input sequence has an insufficient number of elements.")}function ku(){return O("The input must be non-negative.")}function Eu(e){return e.match(new RegExp("\\s"))!==null}function Vu(e){let t=Date.parse(e);return isNaN(t)?null:p(t)}function Iu(e,t,n,r){let s=+e,i=s===s-s%1&&s>=t&&s<=n;return i&&r.set(s),i}var kn=class extends U{d;GetEnumerator(){return I(Wt(t=>t.K,this.d))}constructor(t){super(),this.d=t}},Cs=J(e=>class{static{Cs=e(this)}static UseAnimations;static CubicInOut;static{this.CubicInOut=Vn.Custom(n=>{let r=n*n;return 3*r-2*(r*n)}),this.UseAnimations=!0}});function _s(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function xs(e){let t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){let s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?Z(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function Du(e){let t=Pe(e);return Be(Ns(),_s,t)}function Ns(){return bs.Empty}var En=class extends Error{constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){let r=n;super(r)}}},Vn=class e extends U{transformTime;static Custom(t){return new e(t)}constructor(t){super(),this.transformTime=t}};function Fu(e,t){return new lt("New_2",de(e,qt(t)))}function Gu(e,t){let n=new lt("New_2",qt(t));return n.ExceptWith(qt(e)),n}function qt(e){let t=Yl(e.Count,void 0);return e.CopyTo(t,0),t}function Wu(e,t){let n=new lt("New_2",qt(e));return n.IntersectWith(qt(t)),n}function Xt(e,t,n){let r=e(t);r[0](n),be(r[1](n),r[2])}function Lu(e,t){let n;if(t!=null&&t.$==1){let r=t.$0[1],s=t.$0[0],i=[];for(n=s.nextSibling;n!==r;)i.push(n),n=n.nextSibling;return Le(i)}else{let r=e.childNodes.length,s=e.childNodes,i=to(r,l=>s[l]);return Le(i)}}function Ru(e,t){let n=e.$0;return Le(de(r=>Kr(s=>r!==s,n),t.$0))}function Ou(e,t){Z(e,t.$0)}function Uu(e){let t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){let s=r.$0.Els;return(i=>l=>{Z(i,l)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(s)}else{let s=r.$1,i=r.$0;n(i),r=s}}}return n(e.Children),Le(Pe(t))}function Le(e){return{$:0,$0:e}}function Mu(e){return Hu(!1,e,Pu)}function Pu(){let e=this.v();return this.c=!0,this.v=e,this.f=Bu,e}function Bu(){return this.v}var bs=J(e=>class{static{bs=e(this)}static Empty;static{this.Empty={$:0}}});function Hu(e,t,n){return{c:e,v:t,f:n}}return Is(qu);})();
