var wsbundle=(()=>{var Ye=Object.defineProperty;var bs=Object.getOwnPropertyDescriptor;var Ts=Object.getOwnPropertyNames;var Ss=Object.prototype.hasOwnProperty;var Es=(e,t)=>{for(var n in t)Ye(e,n,{get:t[n],enumerable:!0})},ks=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ts(t))!Ss.call(e,s)&&s!==n&&Ye(e,s,{get:()=>t[s],enumerable:!(r=bs(t,s))||r.enumerable});return e};var Vs=e=>ks(Ye({},"__esModule",{value:!0}),e);var Wu={};Es(Wu,{Layout:()=>Fs,Runtime:()=>er,Success:()=>Is});function rt(e,t){return Object.assign(Object.create(e.prototype),t)}var Ds=Symbol("force");function z(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(function(){},{get(s,i){return i==Ds&&n(),n()[i]},set(s,i,o){return n()[i]=o,!0},construct(s,i,o){return Reflect.construct(n(),i,o)}})}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[r]===void 0&&delete e[r]}return e}function Nt(e){return e===void 0?null:{$:1,$0:e}}function Ft(e,t,n){n?e[t]=n.$0:delete e[t]}function Yn(e){return function(...t){return e(t)}}function Qn(e){return Object.defineProperty(e,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e}var tr=globalThis.WebSharperRuntime||{ScriptBasePath:"./",ScriptSkipAssemblyDir:!1};globalThis.WebSharperRuntime=tr;var er=tr;function tt(e){return"Dispose"in e}function Fs(){Gs();let e=lr(),t=or(),n=ir(),r=sr(),s=lr(),i=or(),o=ir(),l=sr(),c=Xs(),a=Zs(),h=rr(),$=rr(),d=Js(),w=zs(),_=new xe("New_1"),v=(_.h.push(ht(_.k,"togglemenu",()=>_.i,()=>{Ws()})),_),k=(v.h.push(ht(v.k,"toggletheme",()=>v.i,()=>{Ls()})),v),N=(k.h.push(ht(k.k,"onkeydown",()=>k.i,nt=>{Hs(nt)})),k),p=(N.h.push(ht(N.k,"onstoppropagation",()=>N.i,nt=>{qs(nt)})),N),u=(p.h.push(ht(p.k,"closeonbackgroundclick",()=>p.i,nt=>{Bs(nt)})),p),f=(u.h.push(ht(u.k,"accountbtnclick",()=>u.i,nt=>{js(nt)})),u),g=(f.h.push(ht(f.k,"accountbtnkeydown",()=>f.i,()=>{})),f),y=(g.h.push(ht(g.k,"login",()=>g.i,()=>{ti()})),g),A=(y.h.push(ht(y.k,"logout",()=>y.i,nt=>{Ks(nt)})),y),T=(A.h.push(new M("dropdownattr",w)),A),L=(T.h.push(new M("accountbtnaria",d)),T),S=(L.h.push(new M("avatarattr",$)),L),I=(S.h.push(new M("avatarattrhamburger",h)),S),E=(I.h.push(new M("iconattr",a)),I),O=(E.h.push(new M("skeletonattr",c)),E),Q=(O.h.push(new cn("accountheadertext",Ps())),O),W=(Q.h.push(new M("headerattrd",l)),Q),Z=(W.h.push(new M("btnmanageattrd",o)),W),et=(Z.h.push(new M("btnloginattrd",i)),Z),ft=(et.h.push(new M("btnlogoutattrd",s)),et),_t=(ft.h.push(new M("headerattr",r)),ft),Ae=(_t.h.push(new M("btnmanageattr",n)),_t),Xt=(Ae.h.push(new M("btnloginattr",t)),Ae),gt=(Xt.h.push(new M("btnlogoutattr",e)),Xt),Dt=kr(gt.k,gt.h,[]);return gt.i=new ee(Dt[1],zr(Dt[0])),Ys(),U.Empty}function Is(){let e=new xe("New_1"),t=(e.h.push(new ke("onafterrender","",()=>{ai()})),e),n=(t.h.push(new se("messagetext",ci())),t),r=(n.h.push(new M("detailsattr",ui())),n),s=(r.h.push(new se("detailsdoc",li())),r),i=kr(s.k,s.h,[]),o=new ee(i[1],yi(i[0]));return(s.i=o,o).Doc}function Ws(){let e=en("navmenu"),t=en("openIcon"),n=en("closeIcon"),r=globalThis.document.body;e.classList.toggle("h-screen"),t.classList.toggle("hidden-open-icon"),n.classList.toggle("visible-close-icon"),r.classList.toggle("overflow-hidden")}function Gs(){vr();let e=globalThis.localStorage.getItem("color-theme");e=="dark"||e==null&&Rs()?on(!0):on(!1)}function Ls(){Os(br()=="dark"?"light":"dark")}function vr(){let e=br(),t=globalThis.document.querySelectorAll(".themed-iframe");for(let n=0,r=Ms(t.length)-1;n<=r;n++){let s=t[n],i=s.getAttribute("data-src");if(i!=null){let o=new URL(i,globalThis.location.href);o.searchParams.set("theme",e),s.setAttribute("src",String(o))}}}function Rs(){return globalThis.matchMedia("(prefers-color-scheme: dark)").matches}function on(e){e?ln().classList.add("dark"):ln().classList.remove("dark")}function Os(e){on(e=="dark"),globalThis.localStorage.setItem("color-theme",e),vr()}function br(){return ln().classList.contains("dark")?"dark":"light"}function ln(){return globalThis.document.documentElement}function x(e,t){return Tr(e,t),e[t]}function F(e){return e.dims===2?e.length*e.length:e.length}function Tr(e,t){(t<0||t>=e.length)&&P("Index was outside the bounds of the array.")}function In(e,t,n){Tr(e,t),e[t]=n}function P(e){throw new Error(e)}function Ms(e){let t=Us(e);return t>2147483647?t-4294967296:t}function Us(e){return(e<0?Math.ceil(e):Math.floor(e))>>>0}function It(e){return[e.K,e.V]}function nr(e,t){let n=1+t-e;return n<=0?[]:Mo(n,r=>r+e)}var R=class{Equals(t){return this===t}GetHashCode(){return-1}},xe=class extends R{i;k;h;s;constructor(t){if(t=="New_1"){let n;super(),this.i=null,this.k=(n=Ni(),String(n)),this.h=Qn([]),Ft(this,"s",null)}}};function Ps(){return mt.AccountHeaderText}function Hs(e){e.Event.key=="Escape"&&$t().Set(!1)}function qs(e){e.Event.stopPropagation()}function Bs(){$t().Get()&&$t().Set(!1)}function js(){$t().Set(!$t().Get())}function Ks(){Wn(K(()=>($t().Set(!1),q(ni(!0),()=>J(null)))),null)}function zs(){return pt("hidden",b(e=>!e,$t().View))}function Js(){return vt("aria-expanded",b(e=>e?"true":"false",$t().View))}function rr(){return X.Concat([vt("src",Sr()),pt("hidden",b(e=>!e,Er())),pt("opacity-0",te().View)])}function Zs(){return X.Concat([pt("hidden",Er()),pt("opacity-0",te().View)])}function Xs(){return pt("opacity-0 hidden",b(e=>!e,te().View))}function sr(){return He(qe())}function ir(){return He(qe())}function or(){return He(b(e=>!e,qe()))}function lr(){return He(qe())}function Ys(){Wn(K(()=>(te().Set(!0),q(ri(),()=>q(Oi(500),()=>(te().Set(!1),lt()))))),null)}function $t(){return mt.isOpen}function Sr(){return mt.avatarSrcV}function Er(){return mt.hasAvatarV}function te(){return mt.isLoading}function He(e){return X.Concat([pt("hidden",b(t=>!t,e)),pt("flex",e)])}function qe(){return mt.isAuthedV}function ur(){return mt.userV}function Qs(){return mt.displayNameV}function ht(e,t,n,r){return new Se(t,"",s=>i=>{let o=n();return o.SetAnchorRoot(s),r({Vars:o,Anchors:o,Target:s,Event:i})})}function kr(e,t,n){let r=new it("New_5"),s=new ot("New_3"),i=V(t);try{for(;i.MoveNext();){let o=i.Current,l=o.Name;s.SAdd(l),r.set_Item(l,o)}}finally{let o=i;typeof o=="object"&&tt(o)&&i.Dispose()}return[Pr(t,Un(o=>{let l=o[0],c=o[1],a=o[2];if(s.Contains(l))return null;{let h=c===0?j.GetOrAddHoleFor(e,l,()=>{let $=a==null?null:m(a.$0),d=$==null?"":$.$0,w=G.Create_1(d);return new Fe(l,w)}):c===1?j.GetOrAddHoleFor(e,l,()=>{let $=a==null?null:m(a.$0),d=$==null?0:$.$0,w=G.Create_1(d);return new Ie(l,w)}):c===2?j.GetOrAddHoleFor(e,l,()=>{let $=a==null?null:m(a.$0),d=$==null?!1:$.$0,w=G.Create_1(d);return new We(l,w)}):c===3?j.GetOrAddHoleFor(e,l,()=>{let $=a==null?null:m(a.$0),d=$==null?-864e13:$.$0,w=G.Create_1(d);return new Ge(l,w)}):c===4?j.GetOrAddHoleFor(e,l,()=>new Le(l,G.Create_1([]))):c===5?j.GetOrAddHoleFor(e,l,()=>new ie(l,G.Create_1(m(globalThis.document.querySelector("[ws-dom="+l+"]"))))):c===6?j.GetOrAddHoleFor(e,l,()=>{let $=a==null?null:m(a.$0),d=$==null?[]:$.$0,w=G.Create_1(d);return new Re(l,w)}):P("Invalid kind for template Var type: "+String(c));return r.set_Item(l,h),m(h)}},n)),{$:0,$0:r}]}function ti(){globalThis.location.href=ei()}function ei(){return oi(globalThis.location.pathname+globalThis.location.search)}function ni(e){return K(()=>Ui(Ve(K(()=>q(ji(),()=>J(null))),t=>(console.error("AuthClient.Logout RPC failed",t),lt())),K(()=>(Wt().Set(null),e?Ve(K(()=>(globalThis.location.reload(),lt())),()=>lt()):lt()))))}function ri(){return K(()=>{let e=Wt().Get();return e!=null&&e.$==1?J(m(e.$0)):(un().Set(!0),Pi(K(()=>Ve(K(()=>q(Ki(),t=>(Wt().Set(t),J(t)))),t=>(console.error("AuthClient.FetchMe RPC failed",t),Wt().Set(null),J(null)))),()=>{un().Set(!1)}))})}function si(){return we.UserView}function ii(){return we.IsAuthedView}function oi(e){return"https://api.websharper.io/auth/github/start?returnUrl="+encodeURIComponent(e)}function Wt(){return we.userVar}function un(){return we.isFetchingVar}var U=class e extends R{docNode;updates;static get Empty(){return e.Mk(null,re())}static Mk(t,n){return new e(t,n)}static Concat(t){return de(e.Empty,e.Append,he(t))}static RunBefore(t,n){let r=globalThis.document.createTextNode("");t.parentNode.insertBefore(r,t),e.RunBetween(r,t,n)}static TextView(t){let n=bl();return e.Mk(ko(n),b(r=>{Tl(n,r)},t))}static BindView(t,n){return e.EmbedView(b(t,n))}static Append(t,n){return e.Mk(Vo(t.docNode,n.docNode),Gt(t.updates,n.updates))}static RunBetween(t,n,r){qn(n,r.docNode);let s=Sl(t,n,r.docNode);Ee(Nn()||xn()?xr($r(!1,s,r.docNode)):()=>{yr(!1,s,r.docNode)},r.updates)}static RunInPlace(t,n,r){let s=El(n,r.docNode);Ee(Nn()||xn()?xr($r(t,s,r.docNode)):()=>{yr(t,s,r.docNode)},r.updates)}static EmbedView(t){let n=kl();return e.Mk(Do(n),b(()=>{},Ii(r=>(Vl(n,r.docNode),r.updates),t)))}static TextNode(t){return e.Mk(Fo(globalThis.document.createTextNode(t)),re())}static Element(t,n,r){let s=X.Concat(n),i=e.Concat(r);return Me.New(globalThis.document.createElement(t),s,i)}ReplaceInDom(t){let n=globalThis.document.createTextNode("");t.parentNode.replaceChild(n,t),e.RunBefore(n,this)}constructor(t,n){super(),this.docNode=t,this.updates=n}},ee=class extends R{doc;allVars;anchorRoot;get Doc(){return this.doc}SetAnchorRoot(t){this.anchorRoot=t}Hole(t){return this.allVars.Item(t)}constructor(t,n){super(),this.doc=n,this.allVars=t.$==0?t.$0:P("Should not happen"),this.anchorRoot=null}};function li(){return qt.DetailsDoc}function ui(){return qt.DetailsAttr}function ci(){return qt.MessageText}function ai(){Wn(K(()=>{let e=new URLSearchParams(globalThis.location.search).get("session_id");return e==null||e==""?(fi("Missing session id."),lt()):(ve().Set("Confirming your payment\u2026"),q(hi(e),t=>{if(t==null)return lt();{let n=t.$0;return be().Set(m(n)),ve().Set(n.paid?"Your payment has been received.":"Payment recorded; awaiting confirmation."),lt()}}))}),null)}function fi(e){ve().Set(e),be().Set(null)}function ve(){return qt.messageVar}function hi(e){return K(()=>Ve(K(()=>q(zi(e),t=>t.$==0?J(m(t.$0)):J(null))),()=>J(null)))}function be(){return qt.confirmationVar}function Yt(e,t){let n=wn(t)?"-":t;return U.Element("div",[],[U.TextNode(e+": "),U.Element("b",[],[U.TextNode(n)])])}function di(e){return vi(e/100)}function C(e,t){if(e===t)return!0;{let s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!C(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return cr(e,t);if(e instanceof Date&&t instanceof Date)return pi(e,t);{let i=e,o=t,l=[!0],c;for(var n in i)if((a=>(l[0]=!i.hasOwnProperty(a)||o.hasOwnProperty(a)&&C(i[a],o[a]),!l[0]))(n))break;if(l[0]){let a;for(var r in o)if((h=>(l[0]=!o.hasOwnProperty(h)||i.hasOwnProperty(h),!l[0]))(r))break}return l[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&cr(e.$Invokes,t.$Invokes))}}function ne(e){let t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?Ne(e):t=="object"?e==null?0:e instanceof Array?mi(e):wi(e):t=="bigint"?Ne(String(e)):t=="symbol"?Ne(e.description):0}function cr(e,t){let n,r;if(F(e)===F(t)){for(n=!0,r=0;n&&r<F(e);)C(x(e,r),x(t,r))||(n=!1),r=r+1;return n}else return!1}function pi(e,t){return e.getTime()===t.getTime()}function Ne(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=Te(t,e[n].charCodeAt());return t}function mi(e){let t=-34948909;for(let n=0,r=F(e)-1;n<=r;n++)t=Te(t,ne(x(e,n)));return t}function wi(e){if("GetHashCode"in e)return e.GetHashCode();{let n=[0],r;for(var t in e)if((s=>(n[0]=Te(Te(n[0],Ne(s)),ne(e[s])),!1))(t))break;return n[0]}}function Te(e,t){return(e<<5)+e+t}function Be(e,t){if(e===t)return 0;{let s=typeof e;switch(s=="boolean"||s=="number"||s=="bigint"||s=="string"?1:s=="object"?2:s=="function"?3:s=="symbol"?4:0){case 0:return typeof t>"u"?0:-1;case 1:return e<t?-1:1;case 2:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return gi(e,t);if(e instanceof Date&&t instanceof Date)return $i(e,t);{let i=e,o=t,l=[0],c;for(var n in i)if((a=>i.hasOwnProperty(a)?o.hasOwnProperty(a)?(l[0]=Be(i[a],o[a]),l[0]!==0):(l[0]=1,!0):!1)(n))break;if(l[0]===0){let a;for(var r in o)if((h=>o.hasOwnProperty(h)?!i.hasOwnProperty(h)&&(l[0]=-1,!0):!1)(r))break}return l[0]}break;case 3:return P("Cannot compare function values.");case 4:return P("Cannot compare symbol values.")}}}function gi(e,t){let n,r;if(F(e)<F(t))return-1;if(F(e)>F(t))return 1;for(n=0,r=0;n===0&&r<F(e);)n=Be(x(e,r),x(t,r)),r=r+1;return n}function $i(e,t){return Be(e.getTime(),t.getTime())}var Qe;var tn;function yi(e){return e?el("success",m("content"),()=>dn(`\r
        <div class="max-w-xl mx-auto px-6 py-16 text-center" ws-onafterrender="OnAfterRender">\r
            <h1 class="text-3xl font-bold text-gray-950 dark:text-white">Thanks! \u{1F389}</h1>\r
\r
            <p id="wsMsg" ws-hole="MessageText" class="mt-3 text-gray-600 dark:text-gray-400">\r
                Confirming your payment\u2026\r
            </p>\r
\r
            <div id="wsDetails" class="mt-6 text-md text-gray-700 dark:text-gray-300 space-y-4" ws-attr="DetailsAttr" ws-hole="DetailsDoc">\r
            </div>\r
\r
            <a href="./account" class="mt-8 inline-flex items-center justify-center rounded-xl h-10 px-4 bg-gray-950 text-white dark:bg-white dark:text-gray-950">\r
                My account\r
            </a>\r
        </div>\r
    `),e):Kr("success",m("content"),()=>dn(`\r
        <div class="max-w-xl mx-auto px-6 py-16 text-center" ws-onafterrender="OnAfterRender">\r
            <h1 class="text-3xl font-bold text-gray-950 dark:text-white">Thanks! \u{1F389}</h1>\r
\r
            <p id="wsMsg" ws-hole="MessageText" class="mt-3 text-gray-600 dark:text-gray-400">\r
                Confirming your payment\u2026\r
            </p>\r
\r
            <div id="wsDetails" class="mt-6 text-md text-gray-700 dark:text-gray-300 space-y-4" ws-attr="DetailsAttr" ws-hole="DetailsDoc">\r
            </div>\r
\r
            <a href="./account" class="mt-8 inline-flex items-center justify-center rounded-xl h-10 px-4 bg-gray-950 text-white dark:bg-white dark:text-gray-950">\r
                My account\r
            </a>\r
        </div>\r
    `))}function Ai(){return Qe||(Qe=rs(void 0,"$",[null,[1,[["$0","Value",An(),0]]]])())}function Ci(){return tn||(tn=rs(void 0,"$",[[0,[["$0","ResultValue",An(),0]]],[1,[["$0","ErrorValue",An(),0]]]])())}function _i(e){let t=[],n;for(var r in e)t.push(e[r]);return t}var B=class extends R{ApplyVarHole(t){console.warn("Not a var hole: ",this.Name)}ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(t,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),zn("")}},M=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}constructor(t,n){super(),this.name=t,this.fillWith=n}},cn=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ForTextView(){return m(this.fillWith)}get AsChoiceView(){return Vt(this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},mt=z(e=>class{static{mt=e(this)}static AccountHeaderText;static displayNameV;static hasAvatarV;static avatarSrcV;static isLoading;static isAuthedV;static userV;static isOpen;static{this.isOpen=G.Create_1(!1),this.userV=si(),this.isAuthedV=ii(),this.isLoading=G.Create_1(!0),this.avatarSrcV=b(n=>n!=null&&n.$==1?wn(n.$0.avatarUrl)?"":n.$0.avatarUrl:"",ur()),this.hasAvatarV=b(n=>n!="",Sr()),this.displayNameV=b(n=>n==null||wn(n.$0.login)?"Account":n.$0.login,ur()),this.AccountHeaderText=Qs()}});function Ni(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),e=>{let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Se=class e extends B{name;key;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.key,this.fillWith)}get Value(){return this.fillWith}constructor(t,n,r){super(),this.name=t,this.key=n,this.fillWith=r}};function xi(e){let t={},n=V(e);try{for(;n.MoveNext();){let r=n.Current;t[r[0]]=r[1]}}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}return t}function en(e){return globalThis.document.getElementById(e)}function vi(e){return"$"+String(e)}var an=class extends R{};function pt(e,t){return Ln(t,n=>r=>r?no(n,e):ro(n,e))}function vt(e,t){return Ln(t,n=>r=>n.setAttribute(e,r))}function bi(e,t){return X.A3(n=>{n.addEventListener(e,r=>t(n)(r),!1)})}function ar(e){return X.A4(e)}function Ti(e){return Pt(cs(),e)}function Si(e){return Pt(as(),e)}function Ei(e){return Pt(fs(),e)}function ki(e){return Pt(hs(),e)}function Vi(e){return Pt(ds(),e)}function Di(e){return Pt(ps(),e)}function Pt(e,t){let n=e(t);return Wr(X.A3(n[0]),Fi(n[1],n[2]))}function Fi(e,t){return Ln(t,e)}function b(e,t){return Ht(()=>Bt(e,t()))}function re(e){let t={s:At(e)};return()=>t}function Ht(e){let t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;let r=n.s;return r!=null&&r.$==0?t.o=null:Or(n,()=>{t.c=null}),n}else return n}}function Gt(e,t){return Ht(()=>po(e(),t()))}function Ee(e,t){function n(){mo(t(),e,()=>{yt().Fork(n)})}yt().Fork(n)}function Ii(e,t){return Ri(b(e,t))}function Wi(e,t,n,r){return Ht(()=>wo(e,t(),n(),r()))}function Gi(e){return Ht(()=>go(Et(t=>t(),e)))}function Li(e,t,n){return Ht(()=>je(e,t(),n()))}function Ri(e){return Ht(()=>yo(e()))}var X=class e{static Concat(t){let n=he(t);return de(Rn(),(r,s)=>Wr(r,s),n)}static A1(t){return rt(e,{$:1,$0:t})}static A2(t,n){return rt(e,{$:2,$0:t,$1:n})}static HandlerImpl(t,n){return e.A3(r=>{r.addEventListener(t,s=>n(r)(s),!1)})}static Create(t,n){return e.A3(r=>{r.setAttribute(t,n)})}static A4(t){return rt(e,{$:4,$0:t})}static A3(t){return rt(e,{$:3,$0:t})}$;$0;$1},se=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}constructor(t,n){super(),this.name=t,this.fillWith=n}},qt=z(e=>class{static{qt=e(this)}static DetailsDoc;static DetailsAttr;static MessageText;static messageVar;static confirmationVar;static{this.confirmationVar=G.Create_1(null),this.messageVar=G.Create_1("Confirming your payment\u2026"),this.MessageText=U.TextView(ve().View),this.DetailsAttr=pt("hidden",b(n=>n==null,be().View)),this.DetailsDoc=U.BindView(n=>{if(n==null)return U.Empty;{let r=n.$0;return U.Concat([Yt("Seats",String(r.seats)),Yt("Email",r.email),Yt("Amount",di(r.amountTotal,r.currency)),Yt("Status",r.status),Yt("Subscription",r.subscriptionId)])}},be().View)}}),ke=class e extends B{name;key;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.key,this.fillWith)}get Value(){return this.fillWith}constructor(t,n,r){super(),this.name=t,this.key=n,this.fillWith=r}};function m(e){return{$:1,$0:e}}var G=z(e=>class extends R{static{G=e(this)}static Create_1(n){return new mn(!1,{s:ze(n,[])},n)}});function K(e){return t=>{try{e()(t)}catch(n){t.k(Ke(n))}}}function q(e,t){return Mi(n=>{e(ge(r=>{if(r.$==0){let s=r.$0;yt().Fork(()=>{try{t(s)(n)}catch(i){n.k(Ke(i))}})}else yt().Fork(()=>{n.k(r)})},n.ct))})}function J(e){return t=>{t.k($e(e))}}function Wn(e,t){let n=Vr()[0],r=t==null?n:t.$0;r.c||e(ge(s=>{s.$==1&&Dr(s.$0)},r))}function Oi(e){return t=>{let n,r;n=void 0,r=void 0,n=setTimeout(()=>{r.Dispose(),yt().Fork(()=>{t.k($e(null))})},e),r=Fr(t.ct,()=>{clearTimeout(n),yt().Fork(()=>{Ir(t)})})}}function lt(){return zt.Zero}function Mi(e){return t=>{t.ct.c?Ir(t):e(t)}}function Ui(e,t){return q(e,()=>t)}function Ve(e,t){return n=>{e(ge(r=>{if(r.$==0)n.k($e(r.$0));else if(r.$==1){let s=r.$0;try{t(s)(n)}catch{n.k(r)}}else n.k(r)},n.ct))}}function Vr(){return zt.defCTS}function Dr(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function Pi(e,t){return n=>{e(ge(r=>{try{t(),n.k(r)}catch(s){n.k(Ke(s))}},n.ct))}}function Fr(e,t){if(e===Hi())return{Dispose(){return null}};{let n=e.r.push(t)-1;return{Dispose(){return In(e.r,n,()=>{})}}}}function Ir(e){e.k(Qr(new Oe("New",e.ct)))}function yt(){return zt.scheduler}function Hi(){return zt.noneCT}function qi(e,t){let n=Vr()[0],r=t==null?n:t.$0;yt().Fork(()=>{r.c||e(ge(s=>{s.$==1&&Dr(s.$0)},r))})}function Gn(e){return t=>{let n=[!1],r=s=>{n[0]?P("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,yt().Fork(s))};e(s=>{r(()=>{t.k($e(s))})},s=>{r(()=>{t.k(Ke(s))})},s=>{r(()=>{t.k(Qr(s))})})}}function Bi(){return zt.GetCT}function ji(){return new ue().Async("IRemotingContract/Logout",[])}function Ki(){return q(new ue().Async("IRemotingContract/Me",[]),e=>J(Ai()(e)))}function zi(e){return q(new ue().Async("IRemotingContract/ConfirmStripeOrder",[e]),t=>J(Ci()(t)))}function Ln(e,t){return X.A1(new $n(e,t))}function Wr(e,t){if(e===null)return t;if(t===null)return e;{let n=X.A2(e,t);return Ji(n,fn(e)|fn(t)),n}}function Rn(){return D.EmptyAttr}function Ji(e,t){e.flags=t}function fn(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function On(e,t){let n=[],r=[];function s(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return n.push(l.$0);if(l!=null&&l.$==2){let c=l.$1,a=l.$0;s(a),l=c}else return l!=null&&l.$==3?l.$0(e):l!=null&&l.$==4?r.push(l.$0):null}else return null}s(t);let i=n.slice(0);return ss(e,fn(t),i,r.length===0?null:m(l=>{Uo(c=>{c(l)},r)}))}function hn(e){return Eo(t=>t.NChanged,re(),Gt,e.DynNodes)}function nn(e){return ss(e,0,[],null)}function Zi(e){return(e.DynFlags&2)===2}function Xi(e){return Mn(e,(t,n)=>t.NGetExitAnim(n))}function Yi(e){return(e.DynFlags&1)===1}function Qi(e){return Mn(e,(t,n)=>t.NGetEnterAnim(n))}function to(e){return(e.DynFlags&4)===4}function eo(e){return Mn(e,(t,n)=>t.NGetChangeAnim(n))}function Mn(e,t){return Je(wt(n=>t(n,e.DynElem),e.DynNodes))}function Gr(e,t){Y(n=>{n.NSync(e)},t.DynNodes)}function no(e,t){let n=Lr(e);n==""?pn(e,t):Rr(t).test(n)||pn(e,n+" "+t)}function ro(e,t){let n=Rr(t),r=Lr(e).replace(n,(s,i,o)=>i==""||o==""?"":" ");pn(e,r)}function dn(e){let t=globalThis.document.createElement("div");if(so().test(e)){let o=function(l,c){for(;;){if(c===0)return l;{let a=c;l=l.lastChild,c=a-1}}},n=uo().exec(e),r=C(n,null)?"":x(n,1).toLowerCase(),s=io()[r],i=s||oo();return t.innerHTML=i[1]+e.replace(lo(),"<$1></$2>")+i[2],(l=>{let c=l;return a=>o(c,a)})(t)(i[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Lr(e){return e instanceof SVGElement?e.getAttribute("class"):e.className}function pn(e,t){e instanceof SVGElement?e.setAttribute("class",t):e.className=t}function Rr(e){return new RegExp("(\\s+|^)"+e+"(?:\\s+"+e+")*(\\s+|$)","g")}function so(){return Jt.rhtml}function io(){return Jt.wrapMap}function oo(){return Jt.defaultWrap}function lo(){return Jt.rxhtmlTag}function uo(){return Jt.rtagName}function co(e,t,n){let r=e.querySelectorAll(t);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function fr(e){let t=[];for(let n=0,r=e.childNodes.length-1;n<=r;n++)t.push(e.childNodes[n]);return t}function ao(e,t){let n=globalThis.document.querySelectorAll(e);for(let r=0,s=n.length-1;r<=s;r++)t(n[r])}function fo(e,t,n){let r;if(n.parentNode===e){let s=n.nextSibling,i=C(s,null)?null:s;r=t===i}else r=!1;r||e.insertBefore(n,t)}function ho(e,t){t.parentNode===e&&e.removeChild(t)}function Bt(e,t){let n=t.s;if(n!=null&&n.$==0)return{s:At(e(n.$0))};{let r={s:kt([],[])};return st(t,s=>{Mr(r,t,e(s))},r),r}}function Or(e,t){let n=e.s;n==null?t():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(t)):n.$0}function st(e,t,n){let r=e.s;if(r==null)ce(n);else if(r!=null&&r.$==2){let s=r.$0;De(r.$1,n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),De(s,n)}else t(r.$0)}function Mr(e,t,n){let r=t.s;r!=null&&r.$==0?jt(e,n):Kt(e,n)}function De(e,t){if(e.push(t),e.length%20===0){let n=e.slice(0);gu(e);for(let r=0,s=F(n)-1;r<=s;r++){let i=x(n,r);typeof i=="object"?(o=>{o.s&&e.push(o)})(i):(o=>{e.push(o)})(i)}}}function jt(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$0;e.s=At(t);for(let s=0,i=F(r)-1;s<=i;s++)x(r,s)(t)}}function Kt(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$1,s=n.$0;e.s=ze(t,r);for(let i=0,o=F(s)-1;i<=o;i++)x(s,i)(t)}}function po(e,t){let n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:At(null)}:t;if(r!=null&&r.$==0)return e;{let s={s:kt([],[])},i=()=>{let o=s.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){let l=bt(e),c=bt(t);l!=null&&l.$==1&&c!=null&&c.$==1&&(l.$0[1]&&c.$0[1]?jt(s,null):Kt(s,null))}};return st(e,i,s),st(t,i,s),s}}function mo(e,t,n){let r=e.s;if(r==null)n();else if(r!=null&&r.$==2){let s=r.$0;r.$1.push(n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),s.push(n)}else t(r.$0)}function bt(e){let t=e.s;return t!=null&&t.$==0?m([t.$0,!0]):t!=null&&t.$==2?m([t.$0,!1]):null}function wo(e,t,n,r){let s=t.s,i=n.s,o=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?o!=null&&o.$==0?{s:At(e(s.$0,i.$0,o.$0))}:Ao(e,s.$0,i.$0,r):o!=null&&o.$==0?Co(e,s.$0,o.$0,n):_o(e,s.$0,n,r);if(i!=null&&i.$==0)return o!=null&&o.$==0?No(e,i.$0,o.$0,t):xo(e,i.$0,t,r);if(o!=null&&o.$==0)return vo(e,o.$0,t,n);{let l={s:kt([],[])},c=()=>{let a=l.s;if(!(a!=null&&a.$==0||a!=null&&a.$==2)){let h=bt(t),$=bt(n),d=bt(r);h!=null&&h.$==1&&$!=null&&$.$==1&&d!=null&&d.$==1&&(h.$0[1]&&$.$0[1]&&d.$0[1]?jt(l,e(h.$0[0],$.$0[0],d.$0[0])):Kt(l,e(h.$0[0],$.$0[0],d.$0[0])))}};return st(t,c,l),st(n,c,l),st(r,c,l),l}}function go(e){let t=Rt(e);if(t.length==0)return{s:At([])};{let n={s:kt([],[])},r=[F(t)-1],s=()=>{if(r[0]===0){let i=wt(o=>{let l=o.s;return l!=null&&l.$==0||l!=null&&l.$==2?l.$0:P("value not found by View.Sequence")},t);jr(o=>{let l=o.s;return l!=null&&l.$==0},t)?jt(n,i):Kt(n,i)}else r[0]=r[0]-1};return Y(i=>{st(i,s,n)},t),n}}function je(e,t,n){let r=t.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:At(e(r.$0,s.$0))}:bo(e,r.$0,n);if(s!=null&&s.$==0)return To(e,s.$0,t);{let i={s:kt([],[])},o=()=>{let l=i.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){let c=bt(t),a=bt(n);c!=null&&c.$==1&&a!=null&&a.$==1&&(c.$0[1]&&a.$0[1]?jt(i,e(c.$0[0],a.$0[0])):Kt(i,e(c.$0[0],a.$0[0])))}};return st(t,o,i),st(n,o,i),i}}function $o(e){let t=e.s;if(t==null)return e;if(t!=null&&t.$==2){let n={s:ze(t.$0,[])};return So(e,n),n}else if(t!=null&&t.$==3){let n={s:kt([],[])};return st(e,r=>{Mr(n,e,r)},n),n}else return e}function yo(e){let t={s:kt([],[])};return st(e,n=>{let r=n();st(r,s=>{let i,o=r.s;if(o!=null&&o.$==0){let l=e.s;i=l!=null&&l.$==0}else i=!1;i?jt(t,s):Kt(t,s)},t)},t),t}function Ao(e,t,n,r){return Bt(s=>e(t,n,s),r)}function Co(e,t,n,r){return Bt(s=>e(t,s,n),r)}function _o(e,t,n,r){return je((s,i)=>e(t,s,i),n,r)}function No(e,t,n,r){return Bt(s=>e(s,t,n),r)}function xo(e,t,n,r){return je((s,i)=>e(s,t,i),n,r)}function vo(e,t,n,r){return je((s,i)=>e(s,i,t),n,r)}function bo(e,t,n){return Bt(r=>e(t,r),n)}function To(e,t,n){return Bt(r=>e(r,t),n)}function So(e,t){let n=e.s;n==null?ce(t):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,De(n.$1,t)):n.$0}function he(e){if(e instanceof Array)return e;if(e instanceof Mt)return Hr(e);if(e===null)return[];{let t=[],n=V(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}}}function de(e,t,n){let r=F(n);function s(i){return o=>{let l;switch(o<=0?0:o===1&&i>=0&&i<r?1:(l=o,2)){case 0:return e;case 1:return x(n,i);case 2:let c=o/2>>0;return t(s(i)(c),s(i+c)(o-c))}}}return s(0)(r)}function Eo(e,t,n,r){let s=F(r);function i(o){return l=>{let c;switch(l<=0?0:l===1&&o>=0&&o<s?1:(c=l,2)){case 0:return t;case 1:return e(x(r,o));case 2:let a=l/2>>0;return n(i(o)(a),i(o+a)(l-a))}}}return i(0)(s)}function ko(e){return{$:4,$0:e}}function Vo(e,t){return{$:0,$0:e,$1:t}}function Ur(e){return{$:6,$0:e}}function Do(e){return{$:2,$0:e}}function Fo(e){return{$:5,$0:e}}function Io(e){return{$:1,$0:e}}var it=class extends R{equals;hash;count;data;set_Item(t,n){this.set(t,n)}set(t,n){let r=this.hash(t),s=this.data[r];if(s==null)this.count=this.count+1,this.data[r]=new Array({K:t,V:n});else{let i=Pn(o=>this.equals.apply(null,[It(o)[0],t]),s);i==null?(this.count=this.count+1,s.push({K:t,V:n})):s[i.$0]={K:t,V:n}}}TryGetValue(t,n){let r=this.data[this.hash(t)];if(r==null)return!1;{let s=qr(i=>{let o=It(i);return this.equals.apply(null,[o[0],t])?m(o[1]):null},r);return s!=null&&s.$==1&&(n.set(s.$0),!0)}}ContainsKey(t){let n=this.data[this.hash(t)];return n==null?!1:Br(r=>this.equals.apply(null,[It(r)[0],t]),n)}GetEnumerator(){return gl(Jo(_i(this.data)))}Item(t){return this.get(t)}get Values(){return new Sn(this)}RemoveKey(t){return this.remove(t)}get Keys(){return new Vn(this)}get(t){let n=this.data[this.hash(t)];return n==null?wl():Xo(r=>{let s=It(r);return this.equals.apply(null,[s[0],t])?m(s[1]):null},n)}remove(t){let n=this.hash(t),r=this.data[n];if(r==null)return!1;{let s=pe(i=>!this.equals.apply(null,[It(i)[0],t]),r);return F(s)<r.length&&(this.count=this.count-1,this.data[n]=s,!0)}}constructor(t,n,r,s){if(t=="New_5"&&(t="New_6",n=[],r=C,s=ne),t=="New_6"){let i=n,o=r,l=s;super(),this.equals=o,this.hash=l,this.count=0,this.data=[];let c=V(i);try{for(;c.MoveNext();){let a=c.Current;this.set(a.K,a.V)}}finally{let a=c;typeof a=="object"&&tt(a)&&c.Dispose()}}}};function Wo(e,t){return _u(e,-2147483648,2147483647,t)}var ot=class e extends R{equals;hash;data;count;SAdd(t){return this.add(t)}Contains(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrContains(t,n)}add(t){let n=this.hash(t),r=this.data[n];return r==null?(this.data[n]=[t],this.count=this.count+1,!0):this.arrContains(t,r)?!1:(r.push(t),this.count=this.count+1,!0)}arrContains(t,n){let r=!0,s=0,i=n.length;for(;r&&s<i;)this.equals.apply(null,[n[s],t])?r=!1:s=s+1;return!r}GetEnumerator(){return V(sn(this.data))}ExceptWith(t){let n=V(t);try{for(;n.MoveNext();)this.Remove(n.Current)}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}}get Count(){return this.count}IntersectWith(t){let n=new e("New_4",t,this.equals,this.hash),r=sn(this.data);for(let s=0,i=r.length-1;s<=i;s++){let o=r[s];n.Contains(o)||this.Remove(o)}}Remove(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrRemove(t,n)&&(this.count=this.count-1,!0)}CopyTo(t,n){let r=sn(this.data);for(let s=0,i=r.length-1;s<=i;s++)In(t,s+n,r[s])}arrRemove(t,n){let r=!0,s=0,i=n.length;for(;r&&s<i;)this.equals.apply(null,[n[s],t])?(n.splice(s,1),r=!1):s=s+1;return!r}constructor(t,n,r,s){t=="New_3"&&(t="New_4",n=[],r=C,s=ne);let i;if(t=="New_2"&&(i=n,t="New_4",n=i,r=C,s=ne),t=="New_4"){let o=n,l=r,c=s;super(),this.equals=l,this.hash=c,this.data=[],this.count=0;let a=V(o);try{for(;a.MoveNext();)this.add(a.Current)}finally{let h=a;typeof h=="object"&&tt(h)&&a.Dispose()}}}};function Pr(e,t){return{GetEnumerator:()=>{let n=V(e),r=[!0];return new ut(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{let i=s.s;return C(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=V(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{let i=s.s;C(i,null)||i.Dispose()})}}}function hr(e){return{GetEnumerator:()=>V(e())}}function Go(e,t){return Oo(Et(e,t))}function Et(e,t){return{GetEnumerator:()=>{let n=V(t);return new ut(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function Lo(e){let t=V(e);try{return t.MoveNext()?t.Current:kn()}finally{let n=t;typeof n=="object"&&tt(n)&&t.Dispose()}}function Ro(e,t,n){let r=t,s=V(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{let i=s;typeof i=="object"&&tt(i)&&s.Dispose()}}function Oo(e){return{GetEnumerator:()=>{let t=V(e);function n(r){for(;;){let s=r.s;if(C(s,null))if(t.MoveNext())r.s=V(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new ut(null,null,n,r=>{let s=r.s;C(s,null)||s.Dispose();let i=t;C(i,null)||i.Dispose()})}}}function Mo(e,t){return Po(e,Ho(t))}function Uo(e,t){let n=V(t);try{for(;n.MoveNext();)e(n.Current)}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}}function Po(e,t){return e<0&&yu(),{GetEnumerator:()=>{let n=[V(t)];return new ut(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{let s=n[0];return C(s,null)?kn():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,kn())}},()=>{let r=n[0];C(r,null)||r.Dispose()})}}}function Ho(e){return{GetEnumerator:()=>new ut(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function qo(e,t){return!Bo(n=>!e(n),t)}function Bo(e,t){let n=V(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}}function jo(e){let t=V(e);try{t.MoveNext()||zo();let n=t.Current;for(;t.MoveNext();){let r=t.Current;Be(r,n)===1&&(n=r)}return n}finally{let n=t;typeof n=="object"&&tt(n)&&t.Dispose()}}function Ko(e,t){return{GetEnumerator:()=>{let n=V(t),r=new ot("New_3");return new ut(null,null,s=>{let i,o;if(n.MoveNext()){for(i=n.Current,o=r.SAdd(e(i));!o&&n.MoveNext();)i=n.Current,o=r.SAdd(e(i));return o&&(s.c=i,!0)}else return!1},()=>{n.Dispose()})}}}function zo(){return P("The input sequence was empty.")}function Un(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++){let i=e(t[r]);i==null||n.push(i.$0)}return n}function Hr(e){let t=[],n=e;for(;n.$!=0;)t.push(xl(n)),n=vl(n);return t}function Pn(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=m(r)),r=r+1;return n}function qr(e,t){let n=null,r=0;for(;r<t.length&&n==null;){let s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function Br(e,t){let n=!1,r=0,s=F(t);for(;!n&&r<s;)e(t[r])?n=!0:r=r+1;return n}function Jo(e){return Array.prototype.concat.apply([],Rt(e))}function Zo(e,t){let n=Pn(e,t);return n==null?P("KeyNotFoundException"):n.$0}function Y(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function pe(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function wt(e,t){let n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function Rt(e){if(e instanceof Array)return e.slice();if(e instanceof Mt)return Hr(e);{let t=[],n=V(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&tt(r)&&n.Dispose()}}}function Hn(e,t,n){let r=n,s=t.length;for(let i=1,o=s;i<=o;i++)r=e(t[s-i],r);return r}function Xo(e,t){let n=qr(e,t);return n==null?P("KeyNotFoundException"):n.$0}function Yo(e,t){return Rt(Ko(e,t))}function jr(e,t){let n=!0,r=0,s=F(t);for(;n&&r<s;)e(t[r])?r=r+1:n=!1;return n}function Qo(e,t){let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function tl(e,t){e<0&&P("Negative size given.");let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}var j=z(e=>class extends R{static{j=e(this)}static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(n,r,s){let i,o=j.GetHolesFor(n),l=(i=null,[o.TryGetValue(r,{get:()=>i,set:c=>{i=c}}),i]);if(l[0])return l[1];{let c=s();return o.set_Item(r,c),c}}static GetHolesFor(n){let r,s=(r=null,[j.initialized.TryGetValue(n,{get:()=>r,set:i=>{r=i}}),r]);if(s[0])return s[1];{let i=new it("New_5");return j.initialized.set_Item(n,i),i}}static applyVarHole(n,r){r.ApplyVarHole(n)}InitInstance(n){let r=j.GetHolesFor(n),s=this.vars;for(let o=0,l=s.length-1;o<=l;o++)(()=>{let c,a=x(s,o),h=a[1],$=a[2],d=a[0];if(r.ContainsKey(d))return null;if(h===0){let w=$==null?null:m($.$0),_=w==null?"":w.$0,v=G.Create_1(_);c=new Fe(d,v)}else if(h===1){let w=$==null?null:m($.$0),_=w==null?0:w.$0,v=G.Create_1(_);c=new Ie(d,v)}else if(h===2){let w=$==null?null:m($.$0),_=w==null?!1:w.$0,v=G.Create_1(_);c=new We(d,v)}else if(h===3){let w=$==null?null:m($.$0),_=w==null?-864e13:w.$0,v=G.Create_1(_);c=new Ge(d,v)}else if(h===4){let w=$==null?null:m($.$0),_=w==null?[]:w.$0,v=G.Create_1(_);c=new Le(d,v)}else if(h===5){let w=$==null?null:m($.$0),_=globalThis.document.querySelector("[ws-dom="+d+"]"),v=w==null?_:w.$0,k=m(v),N=G.Create_1(k);c=new ie(d,N)}else if(h===6){let w=$==null?null:m($.$0),_=w==null?[]:w.$0,v=G.Create_1(_);c=new Re(d,v)}else c=P("Invalid kind for template Var type: "+String(h));return r.set_Item(d,c)})();let i=new ee({$:0,$0:r},U.Empty);return j.instances.set_Item(n,i),i}$preinit(n){let r=this.InitInstance(n),s=globalThis.document.querySelectorAll("[ws-var^='"+n+"::']");for(let i=0,o=s.length-1;i<=o;i++){let l=s[i],c=l.getAttribute("ws-var"),a=r.Hole(dt(c,m(n.length+2),null)),h=a.WithName(c);Xr().set_Item(h.Name,h),j.applyVarHole(l,a)}}$init(n){}$postinit(n){zr([])}static{j.initialized=new it("New_5"),j.instances=new it("New_5")}}),Fe=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(cs(),this.fillWith,t)}ForTextView(){return m(this.fillWith.View)}AddAttribute(t,n){t(n)(Ti(this.fillWith))}get AsChoiceView(){return Vt(b(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Ie=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(as(),this.fillWith,t)}ForTextView(){return m(b(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Si(this.fillWith))}get AsChoiceView(){return Vt(b(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},We=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(fs(),this.fillWith,t)}ForTextView(){return m(b(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Ei(this.fillWith))}get AsChoiceView(){return Vt(b(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Ge=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(hs(),this.fillWith,t)}ForTextView(){return m(b(t=>new Date(t).toLocaleString(),this.fillWith.View))}AddAttribute(t,n){t(n)(ki(this.fillWith))}get AsChoiceView(){return Vt(b(t=>new Date(t).toLocaleString(),this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},Le=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(ds(),this.fillWith,t)}ForTextView(){return m(b(String,this.fillWith.View))}AddAttribute(t,n){t(n)(Vi(this.fillWith))}get AsChoiceView(){return Vt(b(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}},ie=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get Value(){return this.fillWith}ApplyVarHole(t){}constructor(t,n){super(),this.name=t,this.fillWith=n}},Re=class e extends B{name;fillWith;get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}ApplyVarHole(t){Zt(ps(),this.fillWith,t)}ForTextView(){return m(b(t=>Ot(",",t),this.fillWith.View))}AddAttribute(t,n){t(n)(Di(this.fillWith))}get AsChoiceView(){return Vt(b(String,this.fillWith.View))}constructor(t,n){super(),this.name=t,this.fillWith=n}};function el(e,t,n,r){return Jr(""),Kr(e,t,n),nl(e,t,r)}function Kr(e,t,n){me(e).ContainsKey(t==null?"":t.$0)||Tt(e,t,n(),null)}function zr(e){if(dr()==null){Jr(""),Tt("",null,globalThis.document.body,null);let t=Zr(globalThis.document.body,e),n=globalThis.document.body;(s=>{U.RunInPlace(!0,n,s)})(t);let r=t;return rl(m(r)),r}else return dr().$0}function Jr(e){sl()||(il(!0),ol(globalThis.document.body,"")),oe().set_Item(e,me(""))}function nl(e,t,n){let r,s=(r=null,[me(e).TryGetValue(t==null?"":t.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?Zr(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",t),U.Empty)}function me(e){let t,n=(t=null,[oe().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{let r=new it("New_5");return oe().set_Item(e,r),r}}function Tt(e,t,n,r){let s=new ot("New_3");function i(d,w){for(;;)switch(d){case 0:if(w!==null){let u=w.nextSibling;C(w.nodeType,Node.TEXT_NODE)?Ol(w):C(w.nodeType,Node.ELEMENT_NODE)&&l(w),w=u}else return null;break;case 1:let _=dt(w.nodeName,m(3),null).toLowerCase(),v=_.indexOf("."),k=v===-1?[e,_]:[dt(_,null,m(v-1)),dt(_,m(v+1),null)],N=k[1],p=k[0];if(p!=""&&!oe().ContainsKey(p))return Cr(N);{p==""&&r!=null&&r.$0(N);let u=oe().Item(p);if(u.ContainsKey(N)){let g=u.Item(N).cloneNode(!0),y=new ot("New_3"),A=new it("New_5"),T=w.attributes;for(let S=0,I=T.length-1;S<=I;S++){let E=T.item(S).name.toLowerCase(),O=T.item(S).nodeValue,Q=O==""?E:O.toLowerCase();A.set_Item(E,Q),y.SAdd(E)||console.warn("Hole mapped twice",E)}for(let S=0,I=w.childNodes.length-1;S<=I;S++){let E=w.childNodes[S];C(E.nodeType,Node.ELEMENT_NODE)&&(y.SAdd(E.nodeName.toLowerCase())||console.warn("Hole filled twice",N))}let L=w.childNodes.length===1&&C(w.firstChild.nodeType,Node.TEXT_NODE);if(L){let S=Ml(g,w.firstChild.textContent,N),I=(O=>Q=>O.SAdd(Q))(y);(O=>Q=>{Q!=null&&O(Q.$0)})(O=>{I(O)})(S)}if(Ul(g,y),!L)for(let S=0,I=w.childNodes.length-1;S<=I;S++){let E=w.childNodes[S];C(E.nodeType,Node.ELEMENT_NODE)&&(E.hasAttributes()?Pl(g,E):o(g,E))}Hl(g,A),_r(g,w.parentNode,w),w.parentNode.removeChild(w);return}else return Cr(N)}break}}function o(d,w){let _=w.nodeName.toLowerCase(),v=(N,p)=>{if(_=="title"&&w.hasChildNodes()){let u=dn(w.textContent);for(w.removeChild(w.firstChild);u.hasChildNodes();)w.appendChild(u.firstChild)}return l(w),_r(w,N,p)};H(d,"[ws-attr-holes]",N=>{let p=at(N.getAttribute("ws-attr-holes"),[" "],1);for(let u=0,f=p.length-1;u<=f;u++){let g=x(p,u),y=new RegExp("\\${"+_+"}","ig"),A=N.getAttribute(g).replace(y,w.textContent);N.setAttribute(g,A)}});let k=d.querySelector("[ws-hole="+_+"]");if(C(k,null)){let N=d.querySelector("[ws-replace="+_+"]");if(C(N,null)){let p=d.querySelector("slot[name="+_+"]");return d.tagName.toLowerCase()=="template"?(v(p.parentNode,p),void p.parentNode.removeChild(p)):null}else{v(N.parentNode,N),N.parentNode.removeChild(N);return}}else{for(;k.hasChildNodes();)k.removeChild(k.lastChild);return k.removeAttribute("ws-hole"),(N=>{let p=N;return u=>v(p,u)})(k)(null)}}function l(d){d.hasAttribute("ws-preserve")||(gn(d.nodeName.toLowerCase(),"ws-")?a(d):(us(d),c(d.firstChild)))}function c(d){return i(0,d)}function a(d){return i(1,d)}function h(d){for(;;){let w=d.querySelector("[ws-template]");if(C(w,null)){let _=d.querySelector("[ws-children-template]");if(C(_,null)){let v=d.querySelectorAll("template[id]");for(let N=1,p=v.length-1;N<=p;N++){let u=v[N];s.Contains(u)||(Tt(e,m(u.getAttribute("id")),u,null),s.SAdd(u))}let k=d.querySelectorAll("template[name]");for(let N=1,p=k.length-1;N<=p;N++){let u=k[N];s.Contains(u)||(Tt(e,m(u.getAttribute("name")),u,null),s.SAdd(u))}return null}else{let v=_.getAttribute("ws-children-template");_.removeAttribute("ws-children-template"),Tt(e,m(v),_,null),d=d}}else{let _=w.getAttribute("ws-template");ll(e,m(_),w)(null),d=d}}}let $=(t==null?"":t.$0).toLowerCase();me(e).set_Item($,n),n.hasChildNodes()&&(h(n),c(n.firstChild))}function dr(){return Ct.RenderedFullDocTemplate}function Zr(e,t){let n,r=ul(e,Pr(t,Xr().Values)),s=r[1],i=r[0],o=i.Els;return!C(o,null)&&o.length===1&&x(o,0)instanceof Node&&C(x(o,0).nodeType,Node.ELEMENT_NODE)&&(n=x(o,0),!0)?Me.TreeNode(i,s):U.Mk(Ur(i),s)}function rl(e){Ct.RenderedFullDocTemplate=e}function sl(){return Ct.LocalTemplatesLoaded}function il(e){Ct.LocalTemplatesLoaded=e}function ol(e,t){let n=me(t),r=new it("New_5"),s=e.querySelectorAll("[ws-template]");for(let h=0,$=s.length-1;h<=$;h++){let d=s[h],w=d.getAttribute("ws-template").toLowerCase();d.removeAttribute("ws-template"),r.set_Item(w,Yr(d))}let i=e.querySelectorAll("[ws-children-template]");for(let h=0,$=i.length-1;h<=$;h++){let d=i[h],w=d.getAttribute("ws-children-template").toLowerCase();d.removeAttribute("ws-children-template"),r.set_Item(w,cl(d))}let o=e.querySelectorAll("template[id]");for(let h=0,$=o.length-1;h<=$;h++){let d=o[h];r.set_Item(d.getAttribute("id").toLowerCase(),pr(d))}let l=e.querySelectorAll("template[name]");for(let h=0,$=l.length-1;h<=$;h++){let d=l[h];r.set_Item(d.getAttribute("name").toLowerCase(),pr(d))}let c=new ot("New_3");function a(h){if(!n.ContainsKey(h)){let $,d=($=null,[r.TryGetValue(h,{get:()=>$,set:w=>{$=w}}),$]);d[0]?(c.SAdd(h),r.RemoveKey(h),Tt(t,m(h),d[1],m(a))):console.warn(c.Contains(h)?"Encountered loop when instantiating "+h:"Local template does not exist: "+h)}}for(;r.count>0;)a(Lo(r.Keys))}function oe(){return Ct.LoadedTemplates}function H(e,t,n){co(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function ll(e,t,n){let r=Yr(n);return s=>{Tt(e,t,r,s)}}function ul(e,t){let n,r=[],s=[],i=[],o=[],l=new it("New_5"),c=V(t);try{for(;c.MoveNext();){let u=c.Current;l.set_Item(u.Name,u)}}finally{let u=c;typeof u=="object"&&tt(u)&&c.Dispose()}let a=fr(e),h=(u,f)=>{let g=On(u,f);s.push(hn(g)),i.push([u,g]);let y=Nt(g.OnAfterRender);if(y==null)return null;{let A=y.$0;o.push(()=>{A(u)});return}},$=u=>{let f,g=(f=null,[l.TryGetValue(u,{get:()=>f,set:y=>{f=y}}),f]);if(g[0]){let y=g[1];if(y instanceof se)return m(y.Value);if(y instanceof vn)return m(U.TextNode(y.Value));{let A=y.ForTextView();return A==null?null:m(U.TextView(A.$0))}}else return null};H(e,"[ws-hole]",u=>{let f=u.getAttribute("ws-hole");for(u.removeAttribute("ws-hole");u.hasChildNodes();)u.removeChild(u.lastChild);let g=$(f);if(g!=null&&g.$==1){let y=g.$0;_n(u,y.docNode),r.push(St.New(nn(u),y.docNode,null,u,Lt(),null)),s.push(y.updates)}}),H(e,"[ws-replace]",u=>{let f=$(u.getAttribute("ws-replace"));if(f!=null&&f.$==1){let g=f.$0,y=u.parentNode,A=globalThis.document.createTextNode("");y.replaceChild(A,u);let T=Gl(A,g.docNode);a=fr(e);let L=Pn(S=>u===S,a);L==null||In(a,L.$0,g.docNode),r.push(St.New(nn(y),g.docNode,m([T,A]),y,Lt(),null)),s.push(g.updates)}});let d=!1;H(e,"slot",u=>{let f=u.getAttribute("name"),g=f==""||f==null?"default":f.toLowerCase();if(!(d&&g=="default"||!C(e.parentElement,null))){for(;u.hasChildNodes();)u.removeChild(u.lastChild);g=="default"&&(d=!0);let y=$(g);if(y!=null&&y.$==1){let A=y.$0;_n(u,A.docNode),r.push(St.New(nn(u),A.docNode,null,u,Lt(),null)),s.push(A.updates)}}}),H(e,"[ws-attr]",u=>{let f,g=u.getAttribute("ws-attr");u.removeAttribute("ws-attr");let y=(f=null,[l.TryGetValue(g,{get:()=>f,set:A=>{f=A}}),f]);if(y[0]){let A=y[1];A instanceof M?h(u,A.Value):console.warn("Attribute hole filled with non-attribute data",g)}}),H(e,"[ws-on]",u=>{h(u,X.Concat(Un(f=>{let g,y=at(f,[":"],1),A=(g=null,[l.TryGetValue(x(y,1),{get:()=>g,set:T=>{g=T}}),g]);if(A[0]){let T=A[1];return T instanceof bn?m(bi(x(y,0),T.Value)):T instanceof Se?m(X.HandlerImpl(x(y,0),T.Value)):(console.warn("Event hole on"+x(y,0)+" filled with non-event data",x(y,1)),null)}else return null},at(u.getAttribute("ws-on"),[" "],1)))),u.removeAttribute("ws-on")}),H(e,"[ws-onafterrender]",u=>{let f,g=u.getAttribute("ws-onafterrender"),y=(f=null,[l.TryGetValue(g,{get:()=>f,set:A=>{f=A}}),f]);if(y[0]){let A=y[1];A instanceof Tn||A instanceof ke?(u.removeAttribute("ws-onafterrender"),h(u,ar(A.Value))):console.warn("onafterrender hole filled with non-onafterrender data",g)}}),H(e,"[ws-var]",u=>{let f,g=u.getAttribute("ws-var");u.removeAttribute("ws-var");let y=(f=null,[l.TryGetValue(g,{get:()=>f,set:A=>{f=A}}),f]);y[0]&&y[1].AddAttribute(A=>T=>h(A,T),u)});let w=()=>{al("[ws-dom]",u=>{let f,g,y,A=(f=null,[l.TryGetValue(u.getAttribute("ws-dom").toLowerCase(),{get:()=>f,set:T=>{f=T}}),f]);if(A[0]){let T=A[1];if(T instanceof ie){let L=T.Value;u.removeAttribute("ws-dom"),g=u;let S=new MutationObserver((I,E)=>{Y(O=>{O.removedNodes.forEach(Yn(Q=>Q[0]===g&&O.addedNodes.length!==1?(L.SetFinal(null),E.disconnect()):null),null)},I)});u.parentElement!==null&&S.observe(u.parentElement,(y={},y.childList=!0,y)),L.Set(m(u)),Ee(I=>{if(I!=null&&I.$==1){let E=I.$0;if(g!==E){let O=[E];g.replaceWith.apply(g,O),g=E}}else g.remove(),S.disconnect()},L.View)}}})};H(e,"[ws-attr-holes]",u=>{let f=new RegExp(le(),"g"),g=at(u.getAttribute("ws-attr-holes"),[" "],1);u.removeAttribute("ws-attr-holes");for(let y=0,A=g.length-1;y<=A;y++)(()=>{let T,L=x(g,y),S=u.getAttribute(L),I=null,E=0,O=[];for(;I=f.exec(S),I!==null;){let Z=dt(S,m(E),m(f.lastIndex-x(I,0).length-1));E=f.lastIndex,O.push([Z,x(I,1)])}let Q=dt(S,m(E),null);f.lastIndex=0;let W=Hn((Z,et)=>(ft=>{let _t=ft[0],Ae=ft[1];return Xt=>{let gt,Dt=Xt[0],nt=Xt[1],Zn=(gt=null,[l.TryGetValue(Ae,{get:()=>gt,set:Xe=>{gt=Xe}}),gt]),Ce=Zn[0]?Zn[1].AsChoiceView:zn("");return Ce.$==1?[_t,Mt.Cons(Dt==""?Ce.$0:b(Xe=>Xe+Dt,Ce.$0),nt)]:[_t+Ce.$0+Dt,nt]}})(Z)(et),O,[Q,Mt.Empty]);if(W[1].$==1)if(W[1].$1.$==1)if(W[1].$1.$1.$==1)if(W[1].$1.$1.$1.$==0){let Z=W[0];T=vt(L,Wi((et,ft,_t)=>Z+et+ft+_t,W[1].$0,W[1].$1.$0,W[1].$1.$1.$0))}else{let Z=W[0];T=vt(L,b(et=>Z+Ot("",et),Gi(W[1])))}else{let Z=W[0];T=vt(L,Li((et,ft)=>Z+et+ft,W[1].$0,W[1].$1.$0))}else if(W[0]=="")T=vt(L,W[1].$0);else{let Z=W[0];T=vt(L,b(et=>Z+et,W[1].$0))}else T=X.Create(L,W[0]);return h(u,T)})()});let _=a,v=o.length==0?m(()=>{w()}):m(u=>{w(),Y(f=>{f(u)},o)}),k=!C(a,null)&&a.length===1&&x(a,0)instanceof Node&&x(a,0)instanceof Element&&(n=x(a,0),!0)?m(n):null,N={Els:_,Dirty:!0,Holes:r,Attrs:i,Render:v?v.$0:void 0,El:k?k.$0:void 0};return[Xn(N,["Render","El"]),de(re(),Gt,s)]}function Xr(){return Ct.GlobalHoles}function Yr(e){e.removeAttribute("ws-template");let t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");let r=e.parentNode;if(!C(r,null)){let s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}let n=globalThis.document.createElement("div");return n.appendChild(e),n}function cl(e){let t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function pr(e){let t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function le(){return Ct.TextHoleRE}function al(e,t){ao(e,n=>{n.closest("[ws-preserve]")==null&&t(n)})}var mn=class extends an{isConst;current;snap;view;id;get View(){return this.view}Set(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(ce(this.snap),this.current=t,this.snap={s:ze(t,[])})}Get(){return this.current}SetFinal(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(ce(this.snap),this.isConst=!0,this.current=t,this.snap={s:At(t)})}UpdateMaybe(t){let n=t(this.Get());n!=null&&n.$==1&&this.Set(n.$0)}constructor(t,n,r){super(),this.isConst=t,this.current=r,this.snap=n,this.view=()=>this.snap,this.id=Lt()}},we=z(e=>class{static{we=e(this)}static IsFetchingView;static IsAuthedView;static UserView;static isFetchingVar;static userVar;static API;static{this.API="https://api.websharper.io",yl("https://api.websharper.io"),this.userVar=G.Create_1(null),this.isFetchingVar=G.Create_1(!1),this.UserView=Wt().View,this.IsAuthedView=b(n=>n!=null,Wt().View),this.IsFetchingView=un().View}});function wn(e){return e==null||new RegExp("^\\s*$").test(e)}function Ot(e,t){return Rt(t).join(e)}function at(e,t,n){return hl(e,new RegExp("["+dl(t.join(""))+"]"),n)}function gn(e,t){return e.substring(0,t.length)==t}function fl(e,t){return qo(e,pl(t))}function hl(e,t,n){return n===1?pe(r=>r!=="",mr(e,t)):mr(e,t)}function dl(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function pl(e){return e??""}function mr(e,t){return e.split(t)}function ge(e,t){return{k:e,ct:t}}function Ke(e){return{$:1,$0:e}}function $e(e){return{$:0,$0:e}}function Qr(e){return{$:2,$0:e}}var ue=class extends R{AsyncBase(t,n){return K(()=>{let r=_l(this.Headers),s=Cl(n);return q(Bi(),i=>q(Gn((o,l,c)=>{let a=[!0],h=Fr(i,()=>{a[0]&&(a[0]=!1,c(new Oe("New",i)))});return Al().Async(this.EndPoint+"/"+t,r,s,$=>{a[0]&&(a[0]=!1,h.Dispose(),o($))},$=>{a[0]&&(a[0]=!1,h.Dispose(),l($))})}),o=>J(JSON.parse(o))))})}get EndPoint(){return Nl()}get Headers(){return[]}Async(t,n){return this.AsyncBase(t,n)}};function ml(e,t){return{c:e,r:t}}var $n=class extends R{push;value;dirty;updates;get NChanged(){return this.updates}NGetExitAnim(t){return rn()}NGetEnterAnim(t){return rn()}NGetChangeAnim(t){return rn()}NSync(t){this.dirty&&(this.push(t)(this.value),this.dirty=!1)}constructor(t,n){super(),this.push=n,this.value=void 0,this.dirty=!1,this.updates=b(r=>{this.value=r,this.dirty=!0},t)}};function ce(e){let t,n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=F(t)-1;r<=s;r++){let i=x(t,r);typeof i=="object"?(o=>{ce(o)})(i):i()}}}var Mt=class e{static Cons(t,n){return rt(e,{$:1,$0:t,$1:n})}static Empty=rt(e,{$:0});GetEnumerator(){return new ut(this,null,t=>{let n=t.s;if(n.$==0)return!1;{let r=n.$1;return t.c=n.$0,t.s=r,!0}},void 0)}$;$0;$1},zt=z(e=>class{static{zt=e(this)}static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static{this.noneCT=ml(!1,[]),this.scheduler=new yn,this.defCTS=[new Cn],this.Zero=J(),this.GetCT=n=>{n.k($e(n.ct))}}}),St=class e{Attr;Children;Delimiters;El;ElKey;Render;Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,i,o){let l={Attr:t,Children:n,El:s,ElKey:i},c=(Ft(l,"Delimiters",r),Ft(l,"Render",o),l);return rt(e,c)}};function At(e){return{$:0,$0:e}}function ze(e,t){return{$:2,$0:e,$1:t}}function kt(e,t){return{$:3,$0:e,$1:t}}function wl(){throw new Dn("New")}function V(e){return e instanceof Array?ts(e):C(typeof e,"string")?es(e):e.GetEnumerator()}function ts(e){return new ut(0,null,t=>{let n=t.s;return n<F(e)&&(t.c=x(e,n),t.s=n+1,!0)},void 0)}function es(e){return new ut(0,null,t=>{let n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function gl(e){return e instanceof Array?ts(e):C(typeof e,"string")?es(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}var ut=class extends R{s;c;n;d;e;MoveNext(){let t=this.n(this);return this.e=t?1:2,t}get Current(){return this.e===1?this.c:this.e===0?P("Enumeration has not started. Call MoveNext."):P("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}constructor(t,n,r,s){super(),this.s=t,this.c=n,this.n=r,this.d=s,this.e=0}};function Lt(){return $l(wr()+1),wr()}function $l(e){Jn.counter=e}function wr(){return Jn.counter}function yl(e){Ze.EndPoint=e}function Al(){return Ze.AjaxProvider}function Cl(e){return JSON.stringify(e)}function _l(e){return xi(wt(t=>[t[0],t[1]],Yo(t=>t[0],e.concat([["content-type","application/json"]]))))}function Nl(){return Ze.EndPoint}function gr(e,t,n,r,s,i,o){let l=new XMLHttpRequest,c=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");l.open("POST",t,e),e==!0&&(l.withCredentials=!0);let a;for(var h in n)l.setRequestHeader(h,n[h]);c&&l.setRequestHeader("x-csrftoken",c);function $(){if(l.status==200)s(l.responseText);else if(o&&l.status==403&&l.responseText=="CSRF")o();else{let d="Response status is not 200: ";i(new Error(d+l.status))}}"onload"in l?l.onload=l.onerror=l.onabort=$:l.onreadystatechange=()=>{l.readyState==4&&$()},l.send(r)}var yn=class extends R{idle;robin;Fork(t){this.robin.push(t),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){let t=Date.now(),n=!0;for(;n;)this.robin.length===0?(this.idle=!0,n=!1):(this.robin.shift()(),Date.now()-t>40&&(setTimeout(()=>{this.tick()},0),n=!1))}constructor(){super(),this.idle=!0,this.robin=[]}};function xl(e){return e.$==1?e.$0:ns()}function vl(e){return e.$==1?e.$1:ns()}function ns(){return P("The input list was empty.")}var D=z(e=>class{static{D=e(this)}static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static{this.EmptyAttr=null,this.BoolCheckedApply=p=>[u=>{u.addEventListener("change",()=>p.Get()!=u.checked?p.Set(u.checked):null)},u=>f=>f!=null&&f.$==1?void(u.checked=f.$0):null,b(u=>m(u),p.View)],this.StringSet=p=>u=>{p.value=u},this.StringGet=p=>m(p.value);let n=Kl(),r=jl();this.StringApply=p=>xt(n,r,p),this.StringListSet=p=>u=>{let f=p.options;for(let g=0,y=f.length-1;g<=y;g++)(()=>{let A=f.item(g);A.selected=$u(A.value,u)})()},this.StringListGet=p=>{let u=p.selectedOptions;return m(Rt(hr(()=>Go(f=>[u.item(f).value],nr(0,u.length-1)))))};let s=Jl(),i=zl();this.StringListApply=p=>xt(s,i,p),this.DateTimeSetUnchecked=p=>u=>{p.value=new Date(u).toLocaleString()},this.DateTimeGetUnchecked=p=>{let u,f,g=p.value;if(Qt(g))return m(-864e13);{u=0;let y=Cu(g);return f=[y!=null&&y.$==1&&(u=y.$0,!0),u],f[0]?m(f[1]):null}};let o=Xl(),l=Zl();this.DateTimeApplyUnchecked=p=>xt(o,l,p),this.FileSetUnchecked=()=>()=>null,this.FileGetUnchecked=p=>{let u=p.files;return m(Rt(hr(()=>Et(f=>u.item(f),nr(0,u.length-1)))))};let c=tu(),a=Ql();this.FileApplyUnchecked=p=>Yl(c,a,p),this.IntSetUnchecked=p=>u=>{p.value=String(u)},this.IntGetUnchecked=p=>{let u=p.value;if(Qt(u))return m(0);{let f=+u;return f!==f>>0?null:m(f)}};let h=nu(),$=eu();this.IntApplyUnchecked=p=>xt(h,$,p),this.IntSetChecked=p=>u=>{let f=u.Input;return p.value!=f?void(p.value=f):null},this.IntGetChecked=p=>{let u,f,g=p.value;if(Qt(g))u=!p.checkValidity||p.checkValidity()?ct.Blank(g):ct.Invalid(g);else{let y=(f=0,[Wo(g,{get:()=>f,set:A=>{f=A}}),f]);u=y[0]?ct.Valid(y[1],g):ct.Invalid(g)}return m(u)};let d=su(),w=ru();this.IntApplyChecked=p=>xt(d,w,p),this.FloatSetUnchecked=p=>u=>{p.value=String(u)},this.FloatGetUnchecked=p=>{let u=p.value;if(Qt(u))return m(0);{let f=+u;return isNaN(f)?null:m(f)}};let _=ou(),v=iu();this.FloatApplyUnchecked=p=>xt(_,v,p),this.FloatSetChecked=p=>u=>{let f=u.Input;return p.value!=f?void(p.value=f):null},this.FloatGetChecked=p=>{let u,f=p.value;if(Qt(f))u=!p.checkValidity||p.checkValidity()?ct.Blank(f):ct.Invalid(f);else{let g=+f;u=isNaN(g)?ct.Invalid(f):ct.Valid(g,f)}return m(u)};let k=uu(),N=lu();this.FloatApplyChecked=p=>xt(k,N,p)}});function rs(e,t,n){return()=>r=>{let s;if(typeof r=="object"&&r!=null){let o={};if(typeof t=="string"){let l=r[t];s=Zo(c=>!C(c,null)&&c[0]==l,n)}else{let l=[void 0],c;for(var i in t)if((a=>r.hasOwnProperty(a)&&(l[0]=t[a],!0))(i))break;s=l[0]}return o.$=s,Y(l=>{let c=l[0],a=l[1],h=l[2],$=l[3];if(c==null){let d=h()(r);a&&delete d[t],o.$0=d;return}else return $===0?void(o[c]=h()(r[a])):$===1?void(o[c]=r.hasOwnProperty(a)?m(h()(r[a])):null):P("Invalid field option kind")},x(n,s)[1]),e===void 0?o:e(o)}else return r}}function An(){return()=>e=>e}var Oe=class extends Error{ct;constructor(t,n,r,s){let i;if(t=="New"&&(i=n,t="New_1",n="The operation was canceled.",r=null,s=i),t=="New_1"){let o=n,l=r,c=s;super(o),this.inner=l,this.ct=c}}},Cn=class extends R{init;c;pending;r;constructor(){super(),this.c=!1,this.pending=null,this.r=[],this.init=1}};function ss(e,t,n,r){let s={DynElem:e,DynFlags:t,DynNodes:n};return Ft(s,"OnAfterRender",r),s}function bl(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function Tl(e,t){e.Value=t,e.Dirty=!0}function qn(e,t){ae(e.parentNode,t,e)}function Sl(e,t,n){return ms(ws(),Dl(e,t,Rn(),n))}function $r(e,t,n){return Nn()?K(()=>{let r=gs(n),s=Wl(t,r),i=Il(t,r);return q(Nr(ql(s,Fl(t,r))),()=>q(Ar(e,t),()=>q(Nr(i),()=>(t.PreviousNodes=r,J(null)))))}):Ar(e,t)}function yr(e,t,n){let r=gs(n);fe(e,t.Top),t.PreviousNodes=r}function El(e,t){return ms(ws(),is(e,Rn(),t))}function kl(){return{Current:null,Dirty:!1}}function Vl(e,t){e.Current=t,e.Dirty=!0}function ae(e,t,n){for(;;){if(t!=null&&t.$==1)return _e(e,t.$0.El,n);if(t!=null&&t.$==2){let r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return _e(e,t.$0.Text,n);if(t!=null&&t.$==5)return _e(e,t.$0,n);if(t!=null&&t.$==6)return Hn((r,s)=>(i=>o=>l=>o==null||o.constructor===Object?ae(i,o,l):_e(i,o,l))(e)(r)(s),t.$0.Els,n);{let r=t.$1;t=t.$0,n=ae(e,r,n)}}}}function Dl(e,t,n,r){let s=e.parentNode;qn(t,r);let i=On(s,n);return St.New(i,r,m([e,t]),s,Lt(),Nt(i.OnAfterRender))}function Ar(e,t){if(xn()){let n=r=>{requestAnimationFrame(()=>{fe(e,t.Top),r()})};return Gn((r,s,i)=>n.apply(null,[r,s,i]))}else return fe(e,t.Top),J(null)}function Fl(e,t){return Je(wt(n=>Xi(n.Attr),Kn($s(t,jn(n=>Zi(n.Attr),e.PreviousNodes)))))}function Il(e,t){return Je(wt(n=>Qi(n.Attr),Kn($s(e.PreviousNodes,jn(n=>Yi(n.Attr),t)))))}function Wl(e,t){let n=s=>to(s.Attr),r=s=>jn(n,s);return Je(wt(s=>eo(s.Attr),Kn(cu(r(e.PreviousNodes),r(t)))))}function fe(e,t){e||Ll(t),os(t.Children),ls(t)}function _n(e,t){ae(e,t,null)}function Gl(e,t){let n=e.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,e),qn(e,t),r}function is(e,t,n){_n(e,n);let r=On(e,t);return St.New(r,n,null,e,Lt(),Nt(r.OnAfterRender))}function _e(e,t,n){return fo(e,n,t),t}function Ll(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){let i=s.$1,o=s.$0;if(r(o))return!0;s=i}else if(s!=null&&s.$==2){let i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){let i=s.$0;return i.Dirty||Br(t,i.Holes)}else return!1}return r(n.Children)}Gr(e.El,e.Attr),t(e)&&Rl(e)}function os(e){for(;;){if(e!=null&&e.$==1)return fe(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){let t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){let t=e.$0;return Y(n=>{fe(!1,n)},t.Holes),Y(n=>{Gr(n[0],n[1])},t.Attrs),ls(t)}else{let t=e.$1,n=e.$0;os(n),e=t}}}}function ls(e){let t=Nt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Ft(e,"Render",null))}function Rl(e){let t=e.El;function n(l,c){for(;;){if(l!=null&&l.$==1)return l.$0.El;if(l!=null&&l.$==2){let a=l.$0;if(a.Dirty)return a.Dirty=!1,ae(t,a.Current,c);l=a.Current}else{if(l==null)return c;if(l!=null&&l.$==4)return l.$0.Text;if(l!=null&&l.$==5)return l.$0;if(l!=null&&l.$==6){let a=l.$0;return a.Dirty&&(a.Dirty=!1),Hn((h,$)=>h==null||h.constructor===Object?n(h,$):h,a.Els,c)}else{let a=l.$1;l=l.$0,c=n(a,c)}}}}let r=e.El;Eu(l=>{ho(r,l)},Su(ku(e),Tu(e.El,Nt(e.Delimiters))));let s=e.Children,i=Nt(e.Delimiters),o=i!=null&&i.$==1?i.$0[1]:null;n(s,o)}var Jt=z(e=>class{static{Jt=e(this)}static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static{this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),this.rtagName=new RegExp("<([\\w:]+)"),this.rhtml=new RegExp("<|&#?\\w+;");let n=[1,"<table>","</table>"],r=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",n],["tbody",n],["tfoot",n],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);this.wrapMap=r,this.defaultWrap=[0,"",""]}});function Ol(e){let t=null,n=0,r=e.textContent,s=new RegExp(le(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(dt(r,m(n),m(s.lastIndex-x(t,0).length-1))),e),n=s.lastIndex;let i=globalThis.document.createElement("span");i.setAttribute("ws-replace",x(t,1).toLowerCase()),e.parentNode.insertBefore(i,e)}s.lastIndex=0,e.textContent=dt(r,m(n),null)}function Cr(e){console.warn("Instantiating non-loaded template",e)}function Ml(e,t,n){let r=e.querySelector("[ws-replace]");return C(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),m(r.getAttribute("ws-replace")))}function Ul(e,t){let n=r=>{H(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),H(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),H(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),H(e,"[ws-on]",r=>{r.setAttribute("ws-on",Ot(" ",pe(s=>t.Contains(x(at(s,[":"],1),1)),at(r.getAttribute("ws-on"),[" "],1))))}),H(e,"[ws-attr-holes]",r=>{let s=at(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,o=s.length-1;i<=o;i++){let l=x(s,i),c=new RegExp(le(),"g"),a=r.getAttribute(l).replace(c,(h,$)=>t.Contains($)?h:"");r.setAttribute(l,a)}})}function Pl(e,t){us(t);let n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(C(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=t.attributes.length-1;s<=i;s++){let o=t.attributes.item(s);o.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+o.nodeValue):r.setAttribute(o.name,o.nodeValue)}}}function Hl(e,t){let n=r=>{H(e,"["+r+"]",s=>{let i,o=(i=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:l=>{i=l}}),i]);o[0]&&s.setAttribute(r,o[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),H(e,"[ws-on]",r=>{r.setAttribute("ws-on",Ot(" ",wt(s=>{let i,o=at(s,[":"],1),l=(i=null,[t.TryGetValue(x(o,1),{get:()=>i,set:c=>{i=c}}),i]);return l[0]?x(o,0)+":"+l[1]:s},at(r.getAttribute("ws-on"),[" "],1))))}),H(e,"[ws-attr-holes]",r=>{let s=at(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,o=s.length-1;i<=o;i++)(()=>{let l=x(s,i);return r.setAttribute(l,Ro((c,a)=>{let h=It(a);return c.replace(new RegExp("\\${"+h[0]+"}","ig"),"${"+h[1]+"}")},r.getAttribute(l),t))})()})}function _r(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function us(e){let t=e.attributes,n=[],r=[],s=[];for(let o=0,l=t.length-1;o<=l;o++){let c=t.item(o);if(gn(c.nodeName,"ws-on")&&c.nodeName!="ws-onafterrender"&&c.nodeName!="ws-on")n.push(c.nodeName),r.push(dt(c.nodeName,m(5),null)+":"+c.nodeValue.toLowerCase());else if(!gn(c.nodeName,"ws-")&&new RegExp(le()).test(c.nodeValue)){let a=new RegExp(le(),"g"),h=c.nodeValue.replace(a,($,d)=>"${"+d.toLowerCase()+"}");c.nodeValue=h,s.push(c.nodeName)}}r.length!=0&&e.setAttribute("ws-on",Ot(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",Ot(" ",s));let i=o=>{let l=e.getAttribute(o);l==null||e.setAttribute(o,l.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),Y(o=>{e.removeAttribute(o)},n)}function dt(e,t,n){if(t==null)if(n!=null&&n.$==1){let r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{let r=n.$0,s=t.$0;return r<0?"":e.slice(s,r+1)}}}function Nn(){return au()}function Nr(e){return K(()=>q(Bl(()=>{},fu(e)),()=>(hu(e),J(null))))}function ql(e,t){return Bn(_s(e.$0,t.$0))}function Bl(e,t){let n=t.Duration;if(n===0)return lt();{let r=s=>{function i(o){return l=>{let c=l-o;return t.Compute(c),e(),c<=n?void requestAnimationFrame(a=>{i(o)(a)}):s()}}requestAnimationFrame(o=>{i(o)(o)})};return Gn((s,i,o)=>r.apply(null,[s,i,o]))}}function Bn(e){return{$:0,$0:e}}function Je(e){return Bn(Nu(Et(pu,e)))}function rn(){return Bn(xs())}function xn(){return As.BatchUpdatesEnabled}function xr(e){let t=[0];function n(){return K(()=>q(e,()=>{let r=t[0];return C(r,1)?(t[0]=0,lt()):C(r,2)?(t[0]=1,n()):lt()}))}return()=>{let r=t[0];C(r,0)?(t[0]=1,qi(n(),null)):C(r,1)&&(t[0]=2)}}var Ct=z(e=>class{static{Ct=e(this)}static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static{this.LoadedTemplates=new it("New_5"),this.LocalTemplatesLoaded=!1,this.GlobalHoles=new it("New_5"),this.TextHoleRE="\\${([^}]+)}",this.RenderedFullDocTemplate=null}}),Me=class e extends U{docNode_1;updates_1;elt;rvUpdates;static TreeNode(t,n){let r=Ue.Create(n),s=Ur(t),i=wt(c=>hn(c[1]),t.Attrs),o=de(re(),Gt,i),l=Gt(o,r.v);return new e(s,l,x(t.Els,0),r)}static New(t,n,r){let s=is(t,n,r.docNode),i=Ue.Create(r.updates);return new e(Io(s),Gt(hn(s.Attr),i.v),t,i)}constructor(t,n,r,s){super(t,n),this.docNode_1=t,this.updates_1=n,this.elt=r,this.rvUpdates=s}},Ze=z(e=>class{static{Ze=e(this)}static AjaxProvider;static EndPoint;static{this.EndPoint=globalThis.location.origin,this.AjaxProvider=new En}});function xt(e,t,n){let r;return r=null,[s=>{let i=()=>{n.UpdateMaybe(o=>{let l;return r=e(s),r!=null&&r.$==1&&!C(r.$0,o)&&(l=[r,r.$0],!0)?l[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{let i=t(s);return o=>o==null?null:i(o.$0)},b(s=>{let i;return r!=null&&r.$==1&&C(r.$0,s)&&(i=r.$0,!0)?null:m(s)},n.View)]}function jl(){return D.StringSet}function Kl(){return D.StringGet}function zl(){return D.StringListSet}function Jl(){return D.StringListGet}function Zl(){return D.DateTimeSetUnchecked}function Xl(){return D.DateTimeGetUnchecked}function Yl(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let o;return r=e(s),r!=null&&r.$==1&&r.$0!==i&&(o=[r,r.$0],!0)?o[0]:null})})},s=>{let i=t(s);return o=>o==null?null:i(o.$0)},b(s=>{let i;return r!=null&&r.$==1&&C(r.$0,s)&&(i=r.$0,!0)?null:m(s)},n.View)]}function Ql(){return D.FileSetUnchecked}function tu(){return D.FileGetUnchecked}function eu(){return D.IntSetUnchecked}function nu(){return D.IntGetUnchecked}function ru(){return D.IntSetChecked}function su(){return D.IntGetChecked}function iu(){return D.FloatSetUnchecked}function ou(){return D.FloatGetUnchecked}function lu(){return D.FloatSetChecked}function uu(){return D.FloatGetChecked}function cs(){return D.StringApply}function as(){return D.FloatApplyUnchecked}function fs(){return D.BoolCheckedApply}function hs(){return D.DateTimeApplyUnchecked}function ds(){return D.FileApplyUnchecked}function ps(){return D.StringListApply}function Qt(e){return fl(Au,e)}var ct=class e{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return rt(e,{$:2,$0:t})}static Invalid(t){return rt(e,{$:1,$0:t})}static Valid(t,n){return rt(e,{$:0,$0:t,$1:n})}$;$0;$1};function ms(e,t){return{PreviousNodes:e,Top:t}}function ws(){return ye(new ot("New_3"))}function gs(e){let t=[];function n(i,o){for(;;)switch(i){case 0:if(o!=null&&o.$==0){let l=o.$1,c=o.$0;n(0,c),o=l}else if(o!=null&&o.$==1)o=o.$0,i=1;else if(o!=null&&o.$==2)o=o.$0.Current;else if(o!=null&&o.$==6){let l=o.$0.Holes;return(c=>a=>{Y(c,a)})(s)(l)}else return null;break;case 1:t.push(o),o=o.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(e),ye(new ot("New_2",t))}function ye(e){return{$:0,$0:e}}function jn(e,t){return ye(xu(e,t.$0))}function $s(e,t){return ye(vu(e.$0,t.$0))}function Kn(e){return Ut(e.$0)}function cu(e,t){return ye(bu(e.$0,t.$0))}function au(){return Cs.UseAnimations}function fu(e){return du(Un(t=>t.$==1?m(t.$0):null,Ns(e.$0)))}function hu(e){Y(t=>{t.$==0&&t.$0()},Ns(e.$0))}function du(e){let t=he(e),n=F(t);if(n===0)return mu();if(n===1)return x(t,0);{let r=jo(Et(i=>i.Duration,t)),s=wt(i=>wu(r,i),t);return ys(r,i=>{Y(o=>{o.Compute(i)},s)})}}function pu(e){return e.$0}function mu(e){return ys(0,()=>e)}function ys(e,t){return{Compute:t,Duration:e}}function wu(e,t){let n=t.Compute,r=t.Duration,s=Vu(()=>t.Compute(t.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:e}}var As=z(e=>class{static{As=e(this)}static BatchUpdatesEnabled;static{this.BatchUpdatesEnabled=!0}});function sn(e){let t=[],n;for(var r in e)t.push.apply(t,e[r]);return t}var vn=class e extends B{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}get AsChoiceView(){return zn(this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},bn=class e extends B{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}},Tn=class e extends B{name;fillWith;get Value(){return this.fillWith}get Name(){return this.name}WithName(t){return new e(t,this.fillWith)}constructor(t,n){super(),this.name=t,this.fillWith=n}};function zn(e){return{$:0,$0:e}}function Vt(e){return{$:1,$0:e}}var Ue=class e{c;s;v;static Create(t){let n;return n=null,n=e.New(t,null,()=>{let r;return r=n.s,r===null&&(r=$o(n.c()),n.s=r,Or(r,()=>{n.s=null})),r}),n}static New(t,n,r){return rt(e,{c:t,s:n,v:r})}},Sn=class extends R{d;GetEnumerator(){return V(Et(t=>t.V,this.d))}constructor(t){super(),this.d=t}},Jn=z(e=>class{static{Jn=e(this)}static counter;static{this.counter=0}}),En=class extends R{Async(t,n,r,s,i){gr(!0,t,n,r,s,i,()=>{gr(!0,t,n,r,s,i,void 0)})}};function gu(e){e.splice(0,F(e))}function $u(e,t){let n=!0,r=0,s=F(t);for(;n&&r<s;)C(t[r],e)?n=!1:r=r+1;return!n}function kn(){return P("The input sequence has an insufficient number of elements.")}function yu(){return P("The input must be non-negative.")}function Au(e){return e.match(new RegExp("\\s"))!==null}function Cu(e){let t=Date.parse(e);return isNaN(t)?null:m(t)}function _u(e,t,n,r){let s=+e,i=s===s-s%1&&s>=t&&s<=n;return i&&r.set(s),i}var Vn=class extends R{d;GetEnumerator(){return V(Et(t=>t.K,this.d))}constructor(t){super(),this.d=t}},Cs=z(e=>class{static{Cs=e(this)}static UseAnimations;static CubicInOut;static{this.CubicInOut=Fn.Custom(n=>{let r=n*n;return 3*r-2*(r*n)}),this.UseAnimations=!0}});function _s(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function Ns(e){let t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){let s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?Y(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function Nu(e){let t=he(e);return de(xs(),_s,t)}function xs(){return vs.Empty}var Dn=class extends Error{constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){let r=n;super(r)}}},Fn=class e extends R{transformTime;static Custom(t){return new e(t)}constructor(t){super(),this.transformTime=t}};function xu(e,t){return new ot("New_2",pe(e,Ut(t)))}function vu(e,t){let n=new ot("New_2",Ut(t));return n.ExceptWith(Ut(e)),n}function Ut(e){let t=Qo(e.Count,void 0);return e.CopyTo(t,0),t}function bu(e,t){let n=new ot("New_2",Ut(e));return n.IntersectWith(Ut(t)),n}function Zt(e,t,n){let r=e(t);r[0](n),Ee(r[1](n),r[2])}function Tu(e,t){let n;if(t!=null&&t.$==1){let r=t.$0[1],s=t.$0[0],i=[];for(n=s.nextSibling;n!==r;)i.push(n),n=n.nextSibling;return Pe(i)}else{let r=e.childNodes.length,s=e.childNodes,i=tl(r,o=>s[o]);return Pe(i)}}function Su(e,t){let n=e.$0;return Pe(pe(r=>jr(s=>r!==s,n),t.$0))}function Eu(e,t){Y(e,t.$0)}function ku(e){let t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){let s=r.$0.Els;return(i=>o=>{Y(i,o)})(i=>{i==null||i.constructor===Object?n(i):t.push(i)})(s)}else{let s=r.$1,i=r.$0;n(i),r=s}}}return n(e.Children),Pe(he(t))}function Pe(e){return{$:0,$0:e}}function Vu(e){return Iu(!1,e,Du)}function Du(){let e=this.v();return this.c=!0,this.v=e,this.f=Fu,e}function Fu(){return this.v}var vs=z(e=>class{static{vs=e(this)}static Empty;static{this.Empty={$:0}}});function Iu(e,t,n){return{c:e,v:t,f:n}}return Vs(Wu);})();
