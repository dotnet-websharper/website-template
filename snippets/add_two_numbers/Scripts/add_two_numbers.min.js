var wsbundle=(()=>{function j(e,t){return Object.assign(Object.create(e.prototype),t)}var hn=Symbol("force");function G(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(function(){},{get(s,o){return o==hn&&n(),n()[o]},set(s,o,u){return n()[o]=u,!0},construct(s,o,u){return Reflect.construct(n(),o,u)}})}function rt(e){return e===void 0?null:{$:1,$0:e}}function st(e,t,n){n?e[t]=n.$0:delete e[t]}var ge=globalThis.WebSharperRuntime||{ScriptBasePath:"./",ScriptSkipAssemblyDir:!1};globalThis.WebSharperRuntime=ge;var Ce=ge;Ce.ScriptBasePath="/Scripts/";function q(e){return"Dispose"in e}function dn(){let e=Mt.Create_1(1),t=Mt.Create_1(1),n=U.Element("div",[O.Create("class","container")],[U.Element("p",[],[U.TextNode("x "),U.IntInputUnchecked([],e)]),U.Element("p",[],[U.TextNode("y "),U.IntInputUnchecked([],t)]),U.Element("p",[],[U.TextView(pn((r,s)=>"x + y = "+String(r+s),e.View,t.View))])]);Nn(""),U.RunById("main",n)}var V=class{Equals(t){return this===t}GetHashCode(){return-1}},Mt=G(e=>class extends V{static{Mt=e(this)}static Create_1(n){return new jt(!1,{s:kt(n,[])},n)}});function I(e){throw new Error(e)}function J(e){return[e.K,e.V]}function ve(e,t){let n=1+t-e;return n<=0?[]:ar(n,r=>r+e)}function pn(e,t,n){return ne(()=>wn(e,t(),n()))}function ne(e){let t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;let r=n.s;return r!=null&&r.$==0?t.o=null:Ve(n,()=>{t.c=null}),n}else return n}}function _t(e){let t={s:ht(e)};return()=>t}function ft(e,t){return ne(()=>ue(e,t()))}function $n(e,t){function n(){yn(t(),e,()=>{Q().Fork(n)})}Q().Fork(n)}function re(e,t){return ne(()=>Cn(e(),t()))}var Pt=class extends V{},jt=class extends Pt{isConst;current;snap;view;id;get View(){return this.view}Get(){return this.current}Set(t){this.isConst?(n=>n("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(n=>{console.log(n)}):(Vt(this.snap),this.current=t,this.snap={s:kt(t,[])})}UpdateMaybe(t){let n=t(this.Get());n!=null&&n.$==1&&this.Set(n.$0)}constructor(t,n,r){super(),this.isConst=t,this.current=r,this.snap=n,this.view=()=>this.snap,this.id=Ge()}};function wn(e,t,n){let r=t.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:ht(e(r.$0,s.$0))}:mn(e,r.$0,n);if(s!=null&&s.$==0)return bn(e,s.$0,t);{let o={s:Dt([],[])},u=()=>{let l=o.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){let i=gt(t),f=gt(n);i!=null&&i.$==1&&f!=null&&f.$==1&&(i.$0[1]&&f.$0[1]?se(o,e(i.$0[0],f.$0[0])):oe(o,e(i.$0[0],f.$0[0])))}};return R(t,u,o),R(n,u,o),o}}function Ve(e,t){let n=e.s;n==null?t():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(t)):n.$0}function mn(e,t,n){return ue(r=>e(t,r),n)}function bn(e,t,n){return ue(r=>e(r,t),n)}function gt(e){let t=e.s;return t!=null&&t.$==0?m([t.$0,!0]):t!=null&&t.$==2?m([t.$0,!1]):null}function se(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$0;e.s=ht(t);for(let s=0,o=g(r)-1;s<=o;s++)C(r,s)(t)}}function oe(e,t){let n=e.s;if(n!=null&&n.$==3){let r=n.$1,s=n.$0;e.s=kt(t,r);for(let o=0,u=g(s)-1;o<=u;o++)C(s,o)(t)}}function R(e,t,n){let r=e.s;if(r==null)Vt(n);else if(r!=null&&r.$==2){let s=r.$0;Ct(r.$1,n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),Ct(s,n)}else t(r.$0)}function ue(e,t){let n=t.s;if(n!=null&&n.$==0)return{s:ht(e(n.$0))};{let r={s:Dt([],[])};return R(t,s=>{Ie(r,t,e(s))},r),r}}function Ct(e,t){if(e.push(t),e.length%20===0){let n=e.slice(0);Os(e);for(let r=0,s=g(n)-1;r<=s;r++){let o=C(n,r);typeof o=="object"?(u=>{u.s&&e.push(u)})(o):(u=>{e.push(u)})(o)}}}function Ie(e,t,n){let r=t.s;r!=null&&r.$==0?se(e,n):oe(e,n)}function yn(e,t,n){let r=e.s;if(r==null)n();else if(r!=null&&r.$==2){let s=r.$0;r.$1.push(n),t(s)}else if(r!=null&&r.$==3){let s=r.$1;r.$0.push(t),s.push(n)}else t(r.$0)}function gn(e){let t=e.s;if(t==null)return e;if(t!=null&&t.$==2){let n={s:kt(t.$0,[])};return vn(e,n),n}else if(t!=null&&t.$==3){let n={s:Dt([],[])};return R(e,r=>{Ie(n,e,r)},n),n}else return e}function Cn(e,t){let n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:ht(null)}:t;if(r!=null&&r.$==0)return e;{let s={s:Dt([],[])},o=()=>{let u=s.s;if(!(u!=null&&u.$==0||u!=null&&u.$==2)){let l=gt(e),i=gt(t);l!=null&&l.$==1&&i!=null&&i.$==1&&(l.$0[1]&&i.$0[1]?se(s,null):oe(s,null))}};return R(e,o,s),R(t,o,s),s}}function vn(e,t){let n=e.s;n==null?Vt(t):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,Ct(n.$1,t)):n.$0}function Nn(e){Sn()||(xn(!0),An(globalThis.document.body,"")),it().set_Item(e,le(""))}function Sn(){return pt.LocalTemplatesLoaded}function xn(e){pt.LocalTemplatesLoaded=e}function An(e,t){let n=le(t),r=new Y("New_5"),s=e.querySelectorAll("[ws-template]");for(let h=0,v=s.length-1;h<=v;h++){let d=s[h],p=d.getAttribute("ws-template").toLowerCase();d.removeAttribute("ws-template"),r.set_Item(p,Fe(d))}let o=e.querySelectorAll("[ws-children-template]");for(let h=0,v=o.length-1;h<=v;h++){let d=o[h],p=d.getAttribute("ws-children-template").toLowerCase();d.removeAttribute("ws-children-template"),r.set_Item(p,Tn(d))}let u=e.querySelectorAll("template[id]");for(let h=0,v=u.length-1;h<=v;h++){let d=u[h];r.set_Item(d.getAttribute("id").toLowerCase(),Ne(d))}let l=e.querySelectorAll("template[name]");for(let h=0,v=l.length-1;h<=v;h++){let d=l[h];r.set_Item(d.getAttribute("name").toLowerCase(),Ne(d))}let i=new M("New_3");function f(h){if(!n.ContainsKey(h)){let v,d=(v=null,[r.TryGetValue(h,{get:()=>v,set:p=>{v=p}}),v]);d[0]?(i.SAdd(h),r.RemoveKey(h),ut(t,m(h),d[1],m(f))):console.warn(i.Contains(h)?"Encountered loop when instantiating "+h:"Local template does not exist: "+h)}}for(;r.count>0;)f(ur(r.Keys))}function it(){return pt.LoadedTemplates}function le(e){let t,n=(t=null,[it().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{let r=new Y("New_5");return it().set_Item(e,r),r}}function Fe(e){e.removeAttribute("ws-template");let t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");let r=e.parentNode;if(!w(r,null)){let s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}let n=globalThis.document.createElement("div");return n.appendChild(e),n}function Tn(e){let t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function Ne(e){let t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function ut(e,t,n,r){let s=new M("New_3");function o(d,p){for(;;)switch(d){case 0:if(p!==null){let a=p.nextSibling;w(p.nodeType,Node.TEXT_NODE)?us(p):w(p.nodeType,Node.ELEMENT_NODE)&&l(p),p=a}else return null;break;case 1:let N=X(p.nodeName,m(3),null).toLowerCase(),T=N.indexOf("."),E=T===-1?[e,N]:[X(N,null,m(T-1)),X(N,m(T+1),null)],b=E[1],c=E[0];if(c!=""&&!it().ContainsKey(c))return Ee(b);{c==""&&r!=null&&r.$0(b);let a=it().Item(c);if(a.ContainsKey(b)){let y=a.Item(b).cloneNode(!0),A=new M("New_3"),F=new Y("New_5"),Lt=p.attributes;for(let k=0,H=Lt.length-1;k<=H;k++){let D=Lt.item(k).name.toLowerCase(),K=Lt.item(k).nodeValue,z=K==""?D:K.toLowerCase();F.set_Item(D,z),A.SAdd(D)||console.warn("Hole mapped twice",D)}for(let k=0,H=p.childNodes.length-1;k<=H;k++){let D=p.childNodes[k];w(D.nodeType,Node.ELEMENT_NODE)&&(A.SAdd(D.nodeName.toLowerCase())||console.warn("Hole filled twice",b))}let ye=p.childNodes.length===1&&w(p.firstChild.nodeType,Node.TEXT_NODE);if(ye){let k=ls(y,p.firstChild.textContent,b),H=(K=>z=>K.SAdd(z))(A);(K=>z=>{z!=null&&K(z.$0)})(K=>{H(K)})(k)}if(is(y,A),!ye)for(let k=0,H=p.childNodes.length-1;k<=H;k++){let D=p.childNodes[k];w(D.nodeType,Node.ELEMENT_NODE)&&(D.hasAttributes()?cs(y,D):u(y,D))}as(y,F),ke(y,p.parentNode,p),p.parentNode.removeChild(p);return}else return Ee(b)}break}}function u(d,p){let N=p.nodeName.toLowerCase(),T=(b,c)=>{if(N=="title"&&p.hasChildNodes()){let a=Wn(p.textContent);for(p.removeChild(p.firstChild);a.hasChildNodes();)p.appendChild(a.firstChild)}return l(p),ke(p,b,c)};B(d,"[ws-attr-holes]",b=>{let c=Z(b.getAttribute("ws-attr-holes"),[" "],1);for(let a=0,$=c.length-1;a<=$;a++){let y=C(c,a),A=new RegExp("\\${"+N+"}","ig"),F=b.getAttribute(y).replace(A,p.textContent);b.setAttribute(y,F)}});let E=d.querySelector("[ws-hole="+N+"]");if(w(E,null)){let b=d.querySelector("[ws-replace="+N+"]");if(w(b,null)){let c=d.querySelector("slot[name="+N+"]");return d.tagName.toLowerCase()=="template"?(T(c.parentNode,c),void c.parentNode.removeChild(c)):null}else{T(b.parentNode,b),b.parentNode.removeChild(b);return}}else{for(;E.hasChildNodes();)E.removeChild(E.lastChild);return E.removeAttribute("ws-hole"),(b=>{let c=b;return a=>T(c,a)})(E)(null)}}function l(d){d.hasAttribute("ws-preserve")||(Zt(d.nodeName.toLowerCase(),"ws-")?f(d):(ze(d),i(d.firstChild)))}function i(d){return o(0,d)}function f(d){return o(1,d)}function h(d){for(;;){let p=d.querySelector("[ws-template]");if(w(p,null)){let N=d.querySelector("[ws-children-template]");if(w(N,null)){let T=d.querySelectorAll("template[id]");for(let b=1,c=T.length-1;b<=c;b++){let a=T[b];s.Contains(a)||(ut(e,m(a.getAttribute("id")),a,null),s.SAdd(a))}let E=d.querySelectorAll("template[name]");for(let b=1,c=E.length-1;b<=c;b++){let a=E[b];s.Contains(a)||(ut(e,m(a.getAttribute("name")),a,null),s.SAdd(a))}return null}else{let T=N.getAttribute("ws-children-template");N.removeAttribute("ws-children-template"),ut(e,m(T),N,null),d=d}}else{let N=p.getAttribute("ws-template");En(e,m(N),p)(null),d=d}}}let v=(t==null?"":t.$0).toLowerCase();le(e).set_Item(v,n),n.hasChildNodes()&&(h(n),i(n.firstChild))}function B(e,t,n){Rn(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function En(e,t,n){let r=Fe(n);return s=>{ut(e,t,r,s)}}function vt(){return pt.TextHoleRE}var U=class e extends V{docNode;updates;static RunById(t,n){let r=globalThis.document.getElementById(t);w(r,null)?I("invalid id: "+t):e.Run(r,n)}static TextNode(t){return e.Mk(er(globalThis.document.createTextNode(t)),_t())}static IntInputUnchecked(t,n){return e.InputInternal("input",()=>or(t,[n.Get()===0?O.Create("value","0"):ce(),br(n),O.Create("type","number")]))}static Run(t,n){Me(t,n.docNode),e.RunInPlace(!1,t,n)}static Element(t,n,r){let s=O.Concat(n),o=e.Concat(r);return xt.New(globalThis.document.createElement(t),s,o)}static Mk(t,n){return new e(t,n)}static InputInternal(t,n){let r=globalThis.document.createElement(t);return xt.New(r,O.Concat(n(r)),e.Empty)}static TextView(t){let n=Nr();return e.Mk(nr(n),ft(r=>{Sr(n,r)},t))}static RunInPlace(t,n,r){let s=xr(n,r.docNode);$n(Je()||Xe()?$s(Ar(t,s,r.docNode)):()=>{Tr(t,s,r.docNode)},r.updates)}static Concat(t){return de(e.Empty,e.Append,wt(t))}static get Empty(){return e.Mk(null,_t())}static Append(t,n){return e.Mk(sr(t.docNode,n.docNode),re(t.updates,n.updates))}constructor(t,n){super(),this.docNode=t,this.updates=n}};var O=class e{static Create(t,n){return e.A3(r=>{r.setAttribute(t,n)})}static Concat(t){let n=wt(t);return de(ce(),(r,s)=>Le(r,s),n)}static A3(t){return j(e,{$:3,$0:t})}static A2(t,n){return j(e,{$:2,$0:t,$1:n})}static A1(t){return j(e,{$:1,$0:t})}$;$0;$1};function Ge(){return kn(Se()+1),Se()}function kn(e){fe.counter=e}function Se(){return fe.counter}function kt(e,t){return{$:2,$0:e,$1:t}}function ht(e){return{$:0,$0:e}}function Dt(e,t){return{$:3,$0:e,$1:t}}function Dn(e){let t=[],n;for(var r in e)t.push(e[r]);return t}var Y=class extends V{equals;hash;count;data;set_Item(t,n){this.set(t,n)}ContainsKey(t){let n=this.data[this.hash(t)];return n==null?!1:He(r=>this.equals.apply(null,[J(r)[0],t]),n)}TryGetValue(t,n){let r=this.data[this.hash(t)];if(r==null)return!1;{let s=We(o=>{let u=J(o);return this.equals.apply(null,[u[0],t])?m(u[1]):null},r);return s!=null&&s.$==1&&(n.set(s.$0),!0)}}RemoveKey(t){return this.remove(t)}get Keys(){return new Ht(this)}set(t,n){let r=this.hash(t),s=this.data[r];if(s==null)this.count=this.count+1,this.data[r]=new Array({K:t,V:n});else{let o=Qr(u=>this.equals.apply(null,[J(u)[0],t]),s);o==null?(this.count=this.count+1,s.push({K:t,V:n})):s[o.$0]={K:t,V:n}}}remove(t){let n=this.hash(t),r=this.data[n];if(r==null)return!1;{let s=$t(o=>!this.equals.apply(null,[J(o)[0],t]),r);return g(s)<r.length&&(this.count=this.count-1,this.data[n]=s,!0)}}Item(t){return this.get(t)}get(t){let n=this.data[this.hash(t)];return n==null?Rr():ts(r=>{let s=J(r);return this.equals.apply(null,[s[0],t])?m(s[1]):null},n)}GetEnumerator(){return Ir(es(Dn(this.data)))}constructor(t,n,r,s){if(t=="New_5"&&(t="New_6",n=[],r=w,s=ct),t=="New_6"){let o=n,u=r,l=s;super(),this.equals=u,this.hash=l,this.count=0,this.data=[];let i=S(o);try{for(;i.MoveNext();){let f=i.Current;this.set(f.K,f.V)}}finally{let f=i;typeof f=="object"&&q(f)&&i.Dispose()}}}};function w(e,t){if(e===t)return!0;{let s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!w(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return xe(e,t);if(e instanceof Date&&t instanceof Date)return Un(e,t);{let o=e,u=t,l=[!0],i;for(var n in o)if((f=>(l[0]=!o.hasOwnProperty(f)||u.hasOwnProperty(f)&&w(o[f],u[f]),!l[0]))(n))break;if(l[0]){let f;for(var r in u)if((h=>(l[0]=!u.hasOwnProperty(h)||o.hasOwnProperty(h),!l[0]))(r))break}return l[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&xe(e.$Invokes,t.$Invokes))}}function xe(e,t){let n,r;if(g(e)===g(t)){for(n=!0,r=0;n&&r<g(e);)w(C(e,r),C(t,r))||(n=!1),r=r+1;return n}else return!1}function Un(e,t){return e.getTime()===t.getTime()}function ct(e){let t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?yt(e):t=="object"?e==null?0:e instanceof Array?Vn(e):In(e):t=="bigint"?yt(String(e)):t=="symbol"?yt(e.description):0}function yt(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=ie(t,e[n].charCodeAt());return t}function Vn(e){let t=-34948909;for(let n=0,r=g(e)-1;n<=r;n++)t=ie(t,ct(C(e,n)));return t}function In(e){if("GetHashCode"in e)return e.GetHashCode();{let n=ie,r=[0],s;for(var t in e)if((o=>(r[0]=n(n(r[0],yt(o)),ct(e[o])),!1))(t))break;return r[0]}}function ie(e,t){return(e<<5)+e+t}function Ut(e,t){if(e===t)return 0;{let s=typeof e;switch(s=="boolean"||s=="number"||s=="bigint"||s=="string"?1:s=="object"?2:s=="function"?3:s=="symbol"?4:0){case 0:return typeof t>"u"?0:-1;case 1:return e<t?-1:1;case 2:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Fn(e,t);if(e instanceof Date&&t instanceof Date)return Gn(e,t);{let o=e,u=t,l=[0],i;for(var n in o)if((f=>o.hasOwnProperty(f)?u.hasOwnProperty(f)?(l[0]=Ut(o[f],u[f]),l[0]!==0):(l[0]=1,!0):!1)(n))break;if(l[0]===0){let f;for(var r in u)if((h=>u.hasOwnProperty(h)?!o.hasOwnProperty(h)&&(l[0]=-1,!0):!1)(r))break}return l[0]}break;case 3:return I("Cannot compare function values.");case 4:return I("Cannot compare symbol values.")}}}function Fn(e,t){let n,r;if(g(e)<g(t))return-1;if(g(e)>g(t))return 1;for(n=0,r=0;n===0&&r<g(e);)n=Ut(C(e,r),C(t,r)),r=r+1;return n}function Gn(e,t){return Ut(e.getTime(),t.getTime())}function ce(){return x.EmptyAttr}function Ln(e){return ws(t=>t.NChanged,_t(),re,e.DynNodes)}function Le(e,t){if(e===null)return t;if(t===null)return e;{let n=O.A2(e,t);return Hn(n,Bt(e)|Bt(t)),n}}function On(e,t){return O.A1(new Jt(e,t))}function qn(e,t){let n=[],r=[];function s(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return n.push(l.$0);if(l!=null&&l.$==2){let i=l.$1,f=l.$0;s(f),l=i}else return l!=null&&l.$==3?l.$0(e):l!=null&&l.$==4?r.push(l.$0):null}else return null}s(t);let o=n.slice(0);return Cs(e,Bt(t),o,r.length===0?null:m(l=>{fr(i=>{i(l)},r)}))}function Mn(e){return(e.DynFlags&2)===2}function _n(e){return ae(e,(t,n)=>t.NGetExitAnim(n))}function Pn(e){return(e.DynFlags&1)===1}function jn(e){return ae(e,(t,n)=>t.NGetEnterAnim(n))}function Bn(e){return(e.DynFlags&4)===4}function Kn(e){return ae(e,(t,n)=>t.NGetChangeAnim(n))}function Hn(e,t){e.flags=t}function Bt(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function ae(e,t){return It(et(n=>t(n,e.DynElem),e.DynNodes))}function Oe(e,t){P(n=>{n.NSync(e)},t.DynNodes)}function Wn(e){let t=globalThis.document.createElement("div");if(Zn().test(e)){let u=function(l,i){for(;;){if(i===0)return l;{let f=i;l=l.lastChild,i=f-1}}},n=Xn().exec(e),r=w(n,null)?"":C(n,1).toLowerCase(),s=Yn()[r],o=s||zn();return t.innerHTML=o[1]+e.replace(Jn(),"<$1></$2>")+o[2],(l=>{let i=l;return f=>u(i,f)})(t)(o[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Zn(){return nt.rhtml}function Yn(){return nt.wrapMap}function zn(){return nt.defaultWrap}function Jn(){return nt.rxhtmlTag}function Xn(){return nt.rtagName}function Rn(e,t,n){let r=e.querySelectorAll(t);for(let s=0,o=r.length-1;s<=o;s++)n(r[s])}function Qn(e,t,n){let r;if(n.parentNode===e){let s=n.nextSibling,o=w(s,null)?null:s;r=t===o}else r=!1;r||e.insertBefore(n,t)}function tr(e,t){t.parentNode===e&&e.removeChild(t)}function er(e){return{$:5,$0:e}}function nr(e){return{$:4,$0:e}}function rr(e){return{$:1,$0:e}}function sr(e,t){return{$:0,$0:e,$1:t}}function or(e,t){return{GetEnumerator:()=>{let n=S(e),r=[!0];return new _(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{let o=s.s;return w(o,null)||o.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=S(t),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{let o=s.s;w(o,null)||o.Dispose()})}}}function ur(e){let t=S(e);try{return t.MoveNext()?t.Current:Kt()}finally{let n=t;typeof n=="object"&&q(n)&&t.Dispose()}}function lr(e,t,n){let r=t,s=S(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{let o=s;typeof o=="object"&&q(o)&&s.Dispose()}}function Ae(e){return{GetEnumerator:()=>S(e())}}function ir(e,t){return cr(dt(e,t))}function dt(e,t){return{GetEnumerator:()=>{let n=S(t);return new _(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function cr(e){return{GetEnumerator:()=>{let t=S(e);function n(r){for(;;){let s=r.s;if(w(s,null))if(t.MoveNext())r.s=S(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new _(null,null,n,r=>{let s=r.s;w(s,null)||s.Dispose();let o=t;w(o,null)||o.Dispose()})}}}function ar(e,t){return hr(e,dr(t))}function fr(e,t){let n=S(t);try{for(;n.MoveNext();)e(n.Current)}finally{let r=n;typeof r=="object"&&q(r)&&n.Dispose()}}function hr(e,t){return e<0&&hs(),{GetEnumerator:()=>{let n=[S(t)];return new _(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{let s=n[0];return w(s,null)?Kt():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Kt())}},()=>{let r=n[0];w(r,null)||r.Dispose()})}}}function dr(e){return{GetEnumerator:()=>new _(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function pr(e,t){return!wr(n=>!e(n),t)}function $r(e){let t=S(e);try{t.MoveNext()||mr();let n=t.Current;for(;t.MoveNext();){let r=t.Current;Ut(r,n)===1&&(n=r)}return n}finally{let n=t;typeof n=="object"&&q(n)&&t.Dispose()}}function wr(e,t){let n=S(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{let r=n;typeof r=="object"&&q(r)&&n.Dispose()}}function mr(){return I("The input sequence was empty.")}function br(e){return yr(Fr(),e)}function yr(e,t){let n=e(t);return Le(O.A3(n[0]),gr(n[1],n[2]))}function gr(e,t){return On(t,e)}function Vt(e){let t,n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=g(t)-1;r<=s;r++){let o=C(t,r);typeof o=="object"?(u=>{Vt(u)})(o):o()}}}function Cr(e,t){return Bs(e,-2147483648,2147483647,t)}var pt=G(e=>class{static{pt=e(this)}static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static{this.LoadedTemplates=new Y("New_5"),this.LocalTemplatesLoaded=!1,this.GlobalHoles=new Y("New_5"),this.TextHoleRE="\\${([^}]+)}",this.RenderedFullDocTemplate=null}});function C(e,t){return qe(e,t),e[t]}function g(e){return e.dims===2?e.length*e.length:e.length}function qe(e,t){(t<0||t>=e.length)&&I("Index was outside the bounds of the array.")}function vr(e,t,n){qe(e,t),e[t]=n}var M=class e extends V{equals;hash;data;count;SAdd(t){return this.add(t)}Contains(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrContains(t,n)}add(t){let n=this.hash(t),r=this.data[n];return r==null?(this.data[n]=[t],this.count=this.count+1,!0):this.arrContains(t,r)?!1:(r.push(t),this.count=this.count+1,!0)}arrContains(t,n){let r=!0,s=0,o=n.length;for(;r&&s<o;)this.equals.apply(null,[n[s],t])?r=!1:s=s+1;return!r}GetEnumerator(){return S(qt(this.data))}ExceptWith(t){let n=S(t);try{for(;n.MoveNext();)this.Remove(n.Current)}finally{let r=n;typeof r=="object"&&q(r)&&n.Dispose()}}get Count(){return this.count}IntersectWith(t){let n=new e("New_4",t,this.equals,this.hash),r=qt(this.data);for(let s=0,o=r.length-1;s<=o;s++){let u=r[s];n.Contains(u)||this.Remove(u)}}Remove(t){let n=this.data[this.hash(t)];return n==null?!1:this.arrRemove(t,n)&&(this.count=this.count-1,!0)}CopyTo(t,n){let r=qt(this.data);for(let s=0,o=r.length-1;s<=o;s++)vr(t,s+n,r[s])}arrRemove(t,n){let r=!0,s=0,o=n.length;for(;r&&s<o;)this.equals.apply(null,[n[s],t])?(n.splice(s,1),r=!1):s=s+1;return!r}constructor(t,n,r,s){t=="New_3"&&(t="New_4",n=[],r=w,s=ct);let o;if(t=="New_2"&&(o=n,t="New_4",n=o,r=w,s=ct),t=="New_4"){let u=n,l=r,i=s;super(),this.equals=l,this.hash=i,this.data=[],this.count=0;let f=S(u);try{for(;f.MoveNext();)this.add(f.Current)}finally{let h=f;typeof h=="object"&&q(h)&&f.Dispose()}}}};function m(e){return{$:1,$0:e}}function Me(e,t){Nt(e,t,null)}function Nr(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function Sr(e,t){e.Value=t,e.Dirty=!0}function Nt(e,t,n){for(;;){if(t!=null&&t.$==1)return bt(e,t.$0.El,n);if(t!=null&&t.$==2){let r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return bt(e,t.$0.Text,n);if(t!=null&&t.$==5)return bt(e,t.$0,n);if(t!=null&&t.$==6)return Ze((r,s)=>(o=>u=>l=>u==null||u.constructor===Object?Nt(o,u,l):bt(o,u,l))(e)(r)(s),t.$0.Els,n);{let r=t.$1;t=t.$0,n=Nt(e,r,n)}}}}function xr(e,t){return vs(Ns(),_e(e,ce(),t))}function Ar(e,t,n){return Je()?we(()=>{let r=Re(n),s=Dr(t,r),o=kr(t,r);return lt(De(ds(s,Er(t,r))),()=>lt(Te(e,t),()=>lt(De(o),()=>(t.PreviousNodes=r,Ft(null)))))}):Te(e,t)}function Tr(e,t,n){let r=Re(n);at(e,t.Top),t.PreviousNodes=r}function bt(e,t,n){return Qn(e,n,t),t}function _e(e,t,n){Me(e,n);let r=qn(e,t);return Wt.New(r,n,null,e,Ge(),rt(r.OnAfterRender))}function Te(e,t){if(Xe()){let n=r=>{requestAnimationFrame(()=>{at(e,t.Top),r()})};return tn((r,s,o)=>n.apply(null,[r,s,o]))}else return at(e,t.Top),Ft(null)}function Er(e,t){return It(et(n=>_n(n.Attr),$e(Qe(t,pe(n=>Mn(n.Attr),e.PreviousNodes)))))}function kr(e,t){return It(et(n=>jn(n.Attr),$e(Qe(e.PreviousNodes,pe(n=>Pn(n.Attr),t)))))}function Dr(e,t){let n=s=>Bn(s.Attr),r=s=>pe(n,s);return It(et(s=>Kn(s.Attr),$e(Ss(r(e.PreviousNodes),r(t)))))}function at(e,t){e||Ur(t),Pe(t.Children),je(t)}function Ur(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){let o=s.$1,u=s.$0;if(r(u))return!0;s=o}else if(s!=null&&s.$==2){let o=s.$0;if(o.Dirty)return!0;s=o.Current}else if(s!=null&&s.$==6){let o=s.$0;return o.Dirty||He(t,o.Holes)}else return!1}return r(n.Children)}Oe(e.El,e.Attr),t(e)&&Vr(e)}function Pe(e){for(;;){if(e!=null&&e.$==1)return at(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){let t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){let t=e.$0;return P(n=>{at(!1,n)},t.Holes),P(n=>{Oe(n[0],n[1])},t.Attrs),je(t)}else{let t=e.$1,n=e.$0;Pe(n),e=t}}}}function je(e){let t=rt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),st(e,"Render",null))}function Vr(e){let t=e.El;function n(l,i){for(;;){if(l!=null&&l.$==1)return l.$0.El;if(l!=null&&l.$==2){let f=l.$0;if(f.Dirty)return f.Dirty=!1,Nt(t,f.Current,i);l=f.Current}else{if(l==null)return i;if(l!=null&&l.$==4)return l.$0.Text;if(l!=null&&l.$==5)return l.$0;if(l!=null&&l.$==6){let f=l.$0;return f.Dirty&&(f.Dirty=!1),Ze((h,v)=>h==null||h.constructor===Object?n(h,v):h,f.Els,i)}else{let f=l.$1;l=l.$0,i=n(f,i)}}}}let r=e.El;Js(l=>{tr(r,l)},zs(Xs(e),Ys(e.El,rt(e.Delimiters))));let s=e.Children,o=rt(e.Delimiters),u=o!=null&&o.$==1?o.$0[1]:null;n(s,u)}function S(e){return e instanceof Array?Be(e):w(typeof e,"string")?Ke(e):e.GetEnumerator()}function Be(e){return new _(0,null,t=>{let n=t.s;return n<g(e)&&(t.c=C(e,n),t.s=n+1,!0)},void 0)}function Ke(e){return new _(0,null,t=>{let n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function Ir(e){return e instanceof Array?Be(e):w(typeof e,"string")?Ke(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}var _=class extends V{s;c;n;d;e;MoveNext(){let t=this.n(this);return this.e=t?1:2,t}get Current(){return this.e===1?this.c:this.e===0?I("Enumeration has not started. Call MoveNext."):I("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}constructor(t,n,r,s){super(),this.s=t,this.c=n,this.n=r,this.d=s,this.e=0}};function Fr(){return x.IntApplyUnchecked}function W(e,t,n){let r;return r=null,[s=>{let o=()=>{n.UpdateMaybe(u=>{let l;return r=e(s),r!=null&&r.$==1&&!w(r.$0,u)&&(l=[r,r.$0],!0)?l[0]:null})};s.addEventListener("change",o),s.addEventListener("input",o),s.addEventListener("keypress",o)},s=>{let o=t(s);return u=>u==null?null:o(u.$0)},ft(s=>{let o;return r!=null&&r.$==1&&w(r.$0,s)&&(o=r.$0,!0)?null:m(s)},n.View)]}function Gr(){return x.StringSet}function Lr(){return x.StringGet}function Or(){return x.StringListSet}function qr(){return x.StringListGet}function Mr(){return x.DateTimeSetUnchecked}function _r(){return x.DateTimeGetUnchecked}function Pr(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(o=>{let u;return r=e(s),r!=null&&r.$==1&&r.$0!==o&&(u=[r,r.$0],!0)?u[0]:null})})},s=>{let o=t(s);return u=>u==null?null:o(u.$0)},ft(s=>{let o;return r!=null&&r.$==1&&w(r.$0,s)&&(o=r.$0,!0)?null:m(s)},n.View)]}function jr(){return x.FileSetUnchecked}function Br(){return x.FileGetUnchecked}function Kr(){return x.IntSetUnchecked}function Hr(){return x.IntGetUnchecked}function Wr(){return x.IntSetChecked}function Zr(){return x.IntGetChecked}function Yr(){return x.FloatSetUnchecked}function zr(){return x.FloatGetUnchecked}function Jr(){return x.FloatSetChecked}function Xr(){return x.FloatGetChecked}var fe=G(e=>class{static{fe=e(this)}static counter;static{this.counter=0}});function Rr(){throw new Xt("New")}function He(e,t){let n=!1,r=0,s=g(t);for(;!n&&r<s;)e(t[r])?n=!0:r=r+1;return n}function We(e,t){let n=null,r=0;for(;r<t.length&&n==null;){let s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function Qr(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=m(r)),r=r+1;return n}function $t(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function et(e,t){let n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function P(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function Ze(e,t,n){let r=n,s=t.length;for(let o=1,u=s;o<=u;o++)r=e(t[s-o],r);return r}function Ye(e){let t=[],n=e;for(;n.$!=0;)t.push(Ms(n)),n=_s(n);return t}function ts(e,t){let n=We(e,t);return n==null?I("KeyNotFoundException"):n.$0}function St(e){if(e instanceof Array)return e.slice();if(e instanceof Tt)return Ye(e);{let t=[],n=S(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&q(r)&&n.Dispose()}}}function es(e){return Array.prototype.concat.apply([],St(e))}function ns(e,t){let n=[];for(let r=0,s=t.length-1;r<=s;r++){let o=e(t[r]);o==null||n.push(o.$0)}return n}function rs(e,t){let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function ss(e,t){e<0&&I("Negative size given.");let n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}function os(e,t){let n=!0,r=0,s=g(t);for(;n&&r<s;)e(t[r])?r=r+1:n=!1;return n}function us(e){let t=null,n=0,r=e.textContent,s=new RegExp(vt(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(X(r,m(n),m(s.lastIndex-C(t,0).length-1))),e),n=s.lastIndex;let o=globalThis.document.createElement("span");o.setAttribute("ws-replace",C(t,1).toLowerCase()),e.parentNode.insertBefore(o,e)}s.lastIndex=0,e.textContent=X(r,m(n),null)}function Ee(e){console.warn("Instantiating non-loaded template",e)}function ls(e,t,n){let r=e.querySelector("[ws-replace]");return w(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),m(r.getAttribute("ws-replace")))}function is(e,t){let n=r=>{B(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),B(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),B(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),B(e,"[ws-on]",r=>{r.setAttribute("ws-on",At(" ",$t(s=>t.Contains(C(Z(s,[":"],1),1)),Z(r.getAttribute("ws-on"),[" "],1))))}),B(e,"[ws-attr-holes]",r=>{let s=Z(r.getAttribute("ws-attr-holes"),[" "],1);for(let o=0,u=s.length-1;o<=u;o++){let l=C(s,o),i=new RegExp(vt(),"g"),f=r.getAttribute(l).replace(i,(h,v)=>t.Contains(v)?h:"");r.setAttribute(l,f)}})}function cs(e,t){ze(t);let n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(w(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,o=t.attributes.length-1;s<=o;s++){let u=t.attributes.item(s);u.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+u.nodeValue):r.setAttribute(u.name,u.nodeValue)}}}function as(e,t){let n=r=>{B(e,"["+r+"]",s=>{let o,u=(o=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>o,set:l=>{o=l}}),o]);u[0]&&s.setAttribute(r,u[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),B(e,"[ws-on]",r=>{r.setAttribute("ws-on",At(" ",et(s=>{let o,u=Z(s,[":"],1),l=(o=null,[t.TryGetValue(C(u,1),{get:()=>o,set:i=>{o=i}}),o]);return l[0]?C(u,0)+":"+l[1]:s},Z(r.getAttribute("ws-on"),[" "],1))))}),B(e,"[ws-attr-holes]",r=>{let s=Z(r.getAttribute("ws-attr-holes"),[" "],1);for(let o=0,u=s.length-1;o<=u;o++)(()=>{let l=C(s,o);return r.setAttribute(l,lr((i,f)=>{let h=J(f);return i.replace(new RegExp("\\${"+h[0]+"}","ig"),"${"+h[1]+"}")},r.getAttribute(l),t))})()})}function ke(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function ze(e){let t=e.attributes,n=[],r=[],s=[];for(let u=0,l=t.length-1;u<=l;u++){let i=t.item(u);if(Zt(i.nodeName,"ws-on")&&i.nodeName!="ws-onafterrender"&&i.nodeName!="ws-on")n.push(i.nodeName),r.push(X(i.nodeName,m(5),null)+":"+i.nodeValue.toLowerCase());else if(!Zt(i.nodeName,"ws-")&&new RegExp(vt()).test(i.nodeValue)){let f=new RegExp(vt(),"g"),h=i.nodeValue.replace(f,(v,d)=>"${"+d.toLowerCase()+"}");i.nodeValue=h,s.push(i.nodeName)}}r.length!=0&&e.setAttribute("ws-on",At(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",At(" ",s));let o=u=>{let l=e.getAttribute(u);l==null||e.setAttribute(u,l.toLowerCase())};o("ws-hole"),o("ws-replace"),o("ws-attr"),o("ws-onafterrender"),o("ws-var"),P(u=>{e.removeAttribute(u)},n)}function X(e,t,n){if(t==null)if(n!=null&&n.$==1){let r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{let r=n.$0,s=t.$0;return r<0?"":e.slice(s,r+1)}}}function Kt(){return I("The input sequence has an insufficient number of elements.")}function fs(e,t){let n=!0,r=0,s=g(t);for(;n&&r<s;)w(t[r],e)?n=!1:r=r+1;return!n}function hs(){return I("The input must be non-negative.")}var Ht=class extends V{d;GetEnumerator(){return S(dt(t=>t.K,this.d))}constructor(t){super(),this.d=t}},Wt=class e{Attr;Children;Delimiters;El;ElKey;Render;Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,o,u){let l={Attr:t,Children:n,El:s,ElKey:o},i=(st(l,"Delimiters",r),st(l,"Render",u),l);return j(e,i)}};function Je(){return Ds()}function De(e){return we(()=>lt(ps(()=>{},Us(e)),()=>(Vs(e),Ft(null))))}function ds(e,t){return he(sn(e.$0,t.$0))}function ps(e,t){let n=t.Duration;if(n===0)return Yt();{let r=s=>{function o(u){return l=>{let i=l-u;return t.Compute(i),e(),i<=n?void requestAnimationFrame(f=>{o(u)(f)}):s()}}requestAnimationFrame(u=>{o(u)(u)})};return tn((s,o,u)=>r.apply(null,[s,o,u]))}}function he(e){return{$:0,$0:e}}function It(e){return he(qs(dt(Fs,e)))}function Ot(){return he(un())}function Xe(){return nn.BatchUpdatesEnabled}function $s(e){let t=[0];function n(){return we(()=>lt(e,()=>{let r=t[0];return w(r,1)?(t[0]=0,Yt()):w(r,2)?(t[0]=1,n()):Yt()}))}return()=>{let r=t[0];w(r,0)?(t[0]=1,xs(n(),null)):w(r,1)&&(t[0]=2)}}var xt=class e extends U{docNode_1;updates_1;elt;rvUpdates;static New(t,n,r){let s=_e(t,n,r.docNode),o=zt.Create(r.updates);return new e(rr(s),re(Ln(s.Attr),o.v),t,o)}constructor(t,n,r,s){super(t,n),this.docNode_1=t,this.updates_1=n,this.elt=r,this.rvUpdates=s}};function wt(e){if(e instanceof Array)return e;if(e instanceof Tt)return Ye(e);if(e===null)return[];{let t=[],n=S(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{let r=n;typeof r=="object"&&q(r)&&n.Dispose()}}}function de(e,t,n){let r=g(n);function s(o){return u=>{let l;switch(u<=0?0:u===1&&o>=0&&o<r?1:(l=u,2)){case 0:return e;case 1:return C(n,o);case 2:let i=u/2>>0;return t(s(o)(i),s(o+i)(u-i))}}}return s(0)(r)}function ws(e,t,n,r){let s=g(r);function o(u){return l=>{let i;switch(l<=0?0:l===1&&u>=0&&u<s?1:(i=l,2)){case 0:return t;case 1:return e(C(r,u));case 2:let f=l/2>>0;return n(o(u)(f),o(u+f)(l-f))}}}return o(0)(s)}var x=G(e=>class{static{x=e(this)}static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static{this.EmptyAttr=null,this.BoolCheckedApply=c=>[a=>{a.addEventListener("change",()=>c.Get()!=a.checked?c.Set(a.checked):null)},a=>$=>$!=null&&$.$==1?void(a.checked=$.$0):null,ft(a=>m(a),c.View)],this.StringSet=c=>a=>{c.value=a},this.StringGet=c=>m(c.value);let n=Lr(),r=Gr();this.StringApply=c=>W(n,r,c),this.StringListSet=c=>a=>{let $=c.options;for(let y=0,A=$.length-1;y<=A;y++)(()=>{let F=$.item(y);F.selected=fs(F.value,a)})()},this.StringListGet=c=>{let a=c.selectedOptions;return m(St(Ae(()=>ir($=>[a.item($).value],ve(0,a.length-1)))))};let s=qr(),o=Or();this.StringListApply=c=>W(s,o,c),this.DateTimeSetUnchecked=c=>a=>{c.value=new Date(a).toLocaleString()},this.DateTimeGetUnchecked=c=>{let a,$,y=c.value;if(ot(y))return m(-864e13);{a=0;let A=js(y);return $=[A!=null&&A.$==1&&(a=A.$0,!0),a],$[0]?m($[1]):null}};let u=_r(),l=Mr();this.DateTimeApplyUnchecked=c=>W(u,l,c),this.FileSetUnchecked=()=>()=>null,this.FileGetUnchecked=c=>{let a=c.files;return m(St(Ae(()=>dt($=>a.item($),ve(0,a.length-1)))))};let i=Br(),f=jr();this.FileApplyUnchecked=c=>Pr(i,f,c),this.IntSetUnchecked=c=>a=>{c.value=String(a)},this.IntGetUnchecked=c=>{let a=c.value;if(ot(a))return m(0);{let $=+a;return $!==$>>0?null:m($)}};let h=Hr(),v=Kr();this.IntApplyUnchecked=c=>W(h,v,c),this.IntSetChecked=c=>a=>{let $=a.Input;return c.value!=$?void(c.value=$):null},this.IntGetChecked=c=>{let a,$,y=c.value;if(ot(y))a=!c.checkValidity||c.checkValidity()?L.Blank(y):L.Invalid(y);else{let A=($=0,[Cr(y,{get:()=>$,set:F=>{$=F}}),$]);a=A[0]?L.Valid(A[1],y):L.Invalid(y)}return m(a)};let d=Zr(),p=Wr();this.IntApplyChecked=c=>W(d,p,c),this.FloatSetUnchecked=c=>a=>{c.value=String(a)},this.FloatGetUnchecked=c=>{let a=c.value;if(ot(a))return m(0);{let $=+a;return isNaN($)?null:m($)}};let N=zr(),T=Yr();this.FloatApplyUnchecked=c=>W(N,T,c),this.FloatSetChecked=c=>a=>{let $=a.Input;return c.value!=$?void(c.value=$):null},this.FloatGetChecked=c=>{let a,$=c.value;if(ot($))a=!c.checkValidity||c.checkValidity()?L.Blank($):L.Invalid($);else{let y=+$;a=isNaN(y)?L.Invalid($):L.Valid(y,$)}return m(a)};let E=Xr(),b=Jr();this.FloatApplyChecked=c=>W(E,b,c)}});function At(e,t){return St(t).join(e)}function Z(e,t,n){return ms(e,new RegExp("["+bs(t.join(""))+"]"),n)}function Zt(e,t){return e.substring(0,t.length)==t}function ms(e,t,n){return n===1?$t(r=>r!=="",Ue(e,t)):Ue(e,t)}function bs(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function ys(e,t){return pr(e,gs(t))}function Ue(e,t){return e.split(t)}function gs(e){return e??""}function Cs(e,t,n,r){let s={DynElem:e,DynFlags:t,DynNodes:n};return st(s,"OnAfterRender",r),s}function vs(e,t){return{PreviousNodes:e,Top:t}}function Ns(){return mt(new M("New_3"))}function Re(e){let t=[];function n(o,u){for(;;)switch(o){case 0:if(u!=null&&u.$==0){let l=u.$1,i=u.$0;n(0,i),u=l}else if(u!=null&&u.$==1)u=u.$0,o=1;else if(u!=null&&u.$==2)u=u.$0.Current;else if(u!=null&&u.$==6){let l=u.$0.Holes;return(i=>f=>{P(i,f)})(s)(l)}else return null;break;case 1:t.push(u),u=u.Children,o=0;break}}function r(o){return n(0,o)}function s(o){return n(1,o)}return r(e),mt(new M("New_2",t))}function mt(e){return{$:0,$0:e}}function pe(e,t){return mt(Hs(e,t.$0))}function Qe(e,t){return mt(Ws(e.$0,t.$0))}function $e(e){return tt(e.$0)}function Ss(e,t){return mt(Zs(e.$0,t.$0))}function we(e){return t=>{try{e()(t)}catch(n){t.k(me(n))}}}function lt(e,t){return As(n=>{e(cn(r=>{if(r.$==0){let s=r.$0;Q().Fork(()=>{try{t(s)(n)}catch(o){n.k(me(o))}})}else Q().Fork(()=>{n.k(r)})},n.ct))})}function Yt(){return Gt.Zero}function xs(e,t){let n=Ts()[0],r=t==null?n:t.$0;Q().Fork(()=>{r.c||e(cn(s=>{s.$==1&&Es(s.$0)},r))})}function Ft(e){return t=>{t.k(be(e))}}function Q(){return Gt.scheduler}function As(e){return t=>{t.ct.c?ks(t):e(t)}}function Ts(){return Gt.defCTS}function Es(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function tn(e){return t=>{let n=[!1],r=s=>{n[0]?I("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,Q().Fork(s))};e(s=>{r(()=>{t.k(be(s))})},s=>{r(()=>{t.k(me(s))})},s=>{r(()=>{t.k(an(s))})})}}function ks(e){e.k(an(new ee("New",e.ct)))}function Ds(){return rn.UseAnimations}function Us(e){return Is(ns(t=>t.$==1?m(t.$0):null,on(e.$0)))}function Vs(e){P(t=>{t.$==0&&t.$0()},on(e.$0))}function Is(e){let t=wt(e),n=g(t);if(n===0)return Gs();if(n===1)return C(t,0);{let r=$r(dt(o=>o.Duration,t)),s=et(o=>Ls(r,o),t);return en(r,o=>{P(u=>{u.Compute(o)},s)})}}function Fs(e){return e.$0}function Gs(e){return en(0,()=>e)}function en(e,t){return{Compute:t,Duration:e}}function Ls(e,t){let n=t.Compute,r=t.Duration,s=Rs(()=>t.Compute(t.Duration));return{Compute:o=>o>=r?s.f():n(o),Duration:e}}var nn=G(e=>class{static{nn=e(this)}static BatchUpdatesEnabled;static{this.BatchUpdatesEnabled=!0}}),zt=class e{c;s;v;static Create(t){let n;return n=null,n=e.New(t,null,()=>{let r;return r=n.s,r===null&&(r=gn(n.c()),n.s=r,Ve(r,()=>{n.s=null})),r}),n}static New(t,n,r){return j(e,{c:t,s:n,v:r})}},Tt=class{GetEnumerator(){return new _(this,null,t=>{let n=t.s;if(n.$==0)return!1;{let r=n.$1;return t.c=n.$0,t.s=r,!0}},void 0)}$;$0;$1};function ot(e){return ys(Ps,e)}var L=class e{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return j(e,{$:2,$0:t})}static Invalid(t){return j(e,{$:1,$0:t})}static Valid(t,n){return j(e,{$:0,$0:t,$1:n})}$;$0;$1};function Os(e){e.splice(0,g(e))}var nt=G(e=>class{static{nt=e(this)}static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static{this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),this.rtagName=new RegExp("<([\\w:]+)"),this.rhtml=new RegExp("<|&#?\\w+;");let n=[1,"<table>","</table>"],r=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",n],["tbody",n],["tfoot",n],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);this.wrapMap=r,this.defaultWrap=[0,"",""]}}),rn=G(e=>class{static{rn=e(this)}static UseAnimations;static CubicInOut;static{this.CubicInOut=Qt.Custom(n=>{let r=n*n;return 3*r-2*(r*n)}),this.UseAnimations=!0}});function sn(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function on(e){let t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){let s=r.$1,o=r.$0;n(o),r=s}else return r.$==3?P(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function qs(e){let t=wt(e);return de(un(),sn,t)}function un(){return fn.Empty}function Ms(e){return e.$==1?e.$0:ln()}function _s(e){return e.$==1?e.$1:ln()}function ln(){return I("The input list was empty.")}function Ps(e){return e.match(new RegExp("\\s"))!==null}function js(e){let t=Date.parse(e);return isNaN(t)?null:m(t)}function Bs(e,t,n,r){let s=+e,o=s===s-s%1&&s>=t&&s<=n;return o&&r.set(s),o}var Jt=class extends V{push;value;dirty;updates;get NChanged(){return this.updates}NGetExitAnim(t){return Ot()}NGetEnterAnim(t){return Ot()}NGetChangeAnim(t){return Ot()}NSync(t){this.dirty&&(this.push(t)(this.value),this.dirty=!1)}constructor(t,n){super(),this.push=n,this.value=void 0,this.dirty=!1,this.updates=ft(r=>{this.value=r,this.dirty=!0},t)}};function qt(e){let t=[],n;for(var r in e)t.push.apply(t,e[r]);return t}var Xt=class extends Error{constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){let r=n;super(r)}}},Rt=class extends V{idle;robin;Fork(t){this.robin.push(t),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){let t=Date.now(),n=!0;for(;n;)this.robin.length===0?(this.idle=!0,n=!1):(this.robin.shift()(),Date.now()-t>40&&(setTimeout(()=>{this.tick()},0),n=!1))}constructor(){super(),this.idle=!0,this.robin=[]}},Qt=class e extends V{transformTime;static Custom(t){return new e(t)}constructor(t){super(),this.transformTime=t}};function cn(e,t){return{k:e,ct:t}}function me(e){return{$:1,$0:e}}function be(e){return{$:0,$0:e}}function an(e){return{$:2,$0:e}}var Gt=G(e=>class{static{Gt=e(this)}static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static{this.noneCT=Ks(!1,[]),this.scheduler=new Rt,this.defCTS=[new te],this.Zero=Ft(),this.GetCT=n=>{n.k(be(n.ct))}}});function Ks(e,t){return{c:e,r:t}}function Hs(e,t){return new M("New_2",$t(e,tt(t)))}function Ws(e,t){let n=new M("New_2",tt(t));return n.ExceptWith(tt(e)),n}function tt(e){let t=rs(e.Count,void 0);return e.CopyTo(t,0),t}function Zs(e,t){let n=new M("New_2",tt(e));return n.IntersectWith(tt(t)),n}var te=class extends V{init;c;pending;r;constructor(){super(),this.c=!1,this.pending=null,this.r=[],this.init=1}};function Ys(e,t){let n;if(t!=null&&t.$==1){let r=t.$0[1],s=t.$0[0],o=[];for(n=s.nextSibling;n!==r;)o.push(n),n=n.nextSibling;return Et(o)}else{let r=e.childNodes.length,s=e.childNodes,o=ss(r,u=>s[u]);return Et(o)}}function zs(e,t){let n=e.$0;return Et($t(r=>os(s=>r!==s,n),t.$0))}function Js(e,t){P(e,t.$0)}function Xs(e){let t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){let s=r.$0.Els;return(o=>u=>{P(o,u)})(o=>{o==null||o.constructor===Object?n(o):t.push(o)})(s)}else{let s=r.$1,o=r.$0;n(o),r=s}}}return n(e.Children),Et(wt(t))}function Et(e){return{$:0,$0:e}}var ee=class extends Error{ct;constructor(t,n,r,s){let o;if(t=="New"&&(o=n,t="New_1",n="The operation was canceled.",r=null,s=o),t=="New_1"){let u=n,l=r,i=s;super(u),this.inner=l,this.ct=i}}};function Rs(e){return eo(!1,e,Qs)}function Qs(){let e=this.v();return this.c=!0,this.v=e,this.f=to,e}function to(){return this.v}var fn=G(e=>class{static{fn=e(this)}static Empty;static{this.Empty={$:0}}});function eo(e,t,n){return{c:e,v:t,f:n}}dn();})();
