import { Start as fh } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fi, Create as fj, GetOptional as fk, SetOptional as fl, OnLoad as fm } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fn){ return"Dispose"in fn;}
function b(){ const fn=c();T("");S.RunById("main", fn);}
function c(){ return l((fn) =>(fo) =>(fp) => S.Element("form", [], [S.Element("div", [bm.Create("class", "input-field")], [S.Element("label", [], [S.TextNode("Username: ")]), S.Input([v("required", fn.View)], fn)]), S.Element("div", [bm.Create("class", "input-field")], [S.Element("label", [], [S.TextNode("Password:  ")]), S.PasswordBox([v("required", fo.View)], fo)]), S.Button("Log in", [bm.Create("type", "submit")], () => { fp.Trigger();}), S.Element("div", [], [B(fp.view, (fq) => S.Concat(C((fr) => S.Element("p", [], [S.TextNode(fr.message)]), fq)))])]), k((fn) => alert("Welcome, "+fn[0]+"!"), j(g(g(h((fn) =>(fo) =>[fn, fo]), q("Must enter a username", i(""))), q("Must enter a password", i(""))))));}
function d(fn){ throw new Error(fn);}
function e(fn){ return[fn.K, fn.V];}
function f(fn, fo){ const fp=1+fo-fn;return fp<=0?[]:J(fp, (fq) => fq+fn);}
function g(fn, fo){ return m(fn, fo);}
function h(fn){ return u0037(u0038(), $(bi(fn)), (fo) => fo);}
function i(fn){ return n(bk.Create_1(fn));}
function j(fn){ const fo=new A(fn.view, bj(bl.Empty));return u0037(u0038(), fo.view, (fp) =>(fn.render(fp))(fo));}
function k(fn, fo){ return o((fp) => { fn(fp);return fp;}, fo);}
function l(fn, fo){ const fp=fo.render(fn);return S.Append(S.EmbedView(ba(() => S.Empty, fo.view)), fp);}
function m(fn, fo){ let fp=u0038();let fq=bb(b6, fn.view, fo.view);const fr=fn.render;const fs=fo.render;return u0037(fp, fq, (ft) => fs(fr(ft)));}
function n(fn){ return u0037(fn.Id, ba(bi, fn.View), (fo) => fo(fn));}
function o(fn, fo){ return p((fp) => b7(fn, fp), fo);}
function p(fn, fo){ return u0037(fo.id, ba(fn, fo.view), fo.render);}
function q(fn, fo){ return r((fp) => fp!="", fn, fo);}
function r(fn, fo, fp){ return p((fq) => fq.$==1?fq:fn(fq.$0)?fq:bj(cp([new R(fp.id, fo)])), fp);}
function s(fn){ let fo=[];let fp;for(var fq in fn)fo.push(fn[fq]);return fo;}
class t { Equals(fn){ return this===fn;} GetHashCode(){ return -1;} }
class u extends t { }
function v(fn, fo){ return bn(fo, (fp) =>(fq) => fp.setAttribute(fn, fq));}
function w(fn){ return x(dl(), fn);}
function x(fn, fo){ const fp=fn(fo);return bm.Append(bo(fp[0]), y(fp[1], fp[2]));}
function y(fn, fo){ return bn(fo, fn);}
class z extends t { }
class A extends t { input;u0076ar;view;Trigger(){ this.u0076ar.Set(null);} constructor(fn, fo){ super();this.input=fn;this.u0076ar=bk.Create();this.view=be(fo, this.u0076ar.View, this.input);} }
function B(fn, fo){ return S.BindView((fp) => fp.$==1?fo(fp.$0):S.Empty, fn);}
function C(fn, fo){ return{GetEnumerator:() => { const fp=bM(fo);return new bQ(null, null, (fq) => fp.MoveNext()&&(fq.c=fn(fp.Current),true), () => { fp.Dispose();});}};}
function D(fn, fo){ return{GetEnumerator:() => { const fp=bM(fn);const fq=[true];return new bQ(fp, null, (fr) => { if(fr.s.MoveNext()){ fr.c=fr.s.Current;return true;} else { const fs=fr.s;if(!bV(fs, null))fs.Dispose();fr.s=null;return fq[0]&&(fq[0]=false,fr.s=bM(fo),fr.s.MoveNext()?(fr.c=fr.s.Current,true):(fr.s.Dispose(),fr.s=null,false));} }, (fr) => { const fs=fr.s;if(!bV(fs, null))fs.Dispose();});}};}
function E(fn){ const fo=bM(fn);try { return fo.MoveNext()?fo.Current:dS();} finally { if(typeof fo=="object"&&a(fo))fo.Dispose();} }
function F(fn, fo, fp){ let fq=fo;const fr=bM(fp);try { while(fr.MoveNext())fq=fn(fq, fr.Current);return fq;} finally { if(typeof fr=="object"&&a(fr))fr.Dispose();} }
function G(fn){ return{GetEnumerator:() => bM(fn())};}
function H(fn, fo){ return I(C(fn, fo));}
function I(fn){ return{GetEnumerator:() => { const fo=bM(fn);function fp(fq){ while(true){ const fr=fq.s;if(bV(fr, null)){ if(fo.MoveNext()){ fq.s=bM(fo.Current);fq=fq;} else { fo.Dispose();return false;} } else if(fr.MoveNext()){ fq.c=fr.Current;return true;} else { fq.Dispose();fq.s=null;fq=fq;} } } return new bQ(null, null, fp, (fq) => { const fr=fq.s;if(!bV(fr, null))fr.Dispose();if(!bV(fo, null))fo.Dispose();});}};}
function J(fn, fo){ return L(fn, M(fo));}
function K(fn, fo){ const fp=bM(fo);try { while(fp.MoveNext())fn(fp.Current);} finally { if(typeof fp=="object"&&a(fp))fp.Dispose();} }
function L(fn, fo){ fn<0?dU():void 0;return{GetEnumerator:() => { const fp=[bM(fo)];return new bQ(0, null, (fq) => { fq.s=fq.s+1;if(fq.s>fn)return false;else { const fr=fp[0];return bV(fr, null)?dS():fr.MoveNext()?(fq.c=fr.Current,fq.s===fn?(fr.Dispose(),fp[0]=null):void 0,true):(fr.Dispose(),fp[0]=null,dS());} }, () => { const fq=fp[0];if(!bV(fq, null))fq.Dispose();});}};}
function M(fn){ return{GetEnumerator:() => new bQ(0, null, (fo) => { fo.c=fn(fo.s);fo.s=fo.s+1;return true;}, void 0)};}
function N(fn, fo){ return!P((fp) =>!fn(fp), fo);}
function O(fn){ const fo=bM(fn);try { if(!fo.MoveNext())Q();let fp=fo.Current;while(fo.MoveNext()){ const fq=fo.Current;if(b3(fq, fp)===1)fp=fq;} return fp;} finally { if(typeof fo=="object"&&a(fo))fo.Dispose();} }
function P(fn, fo){ const fp=bM(fo);try { let fq=false;while(!fq&&fp.MoveNext())fq=fn(fp.Current);return fq;} finally { if(typeof fp=="object"&&a(fp))fp.Dispose();} }
function Q(){ return d("The input sequence was empty.");}
class R extends t { id;message;constructor(fn, fo){ super();this.id=fn;this.message=fo;} }
class S extends t { docNode;updates;static Concat(fn){ return bS(S.Empty, S.Append, bR(fn));} static RunById(fn, fo){ const fp=globalThis.document.getElementById(fn);if(bV(fp, null))d("invalid id: "+fn);else S.Run(fp, fo);} static Append(fn, fo){ return S.Mk(cv(fn.docNode, fo.docNode), bc(fn.updates, fo.updates));} static get Empty(){ return S.Mk(null, $());} static TextNode(fn){ return S.Mk(cw(globalThis.document.createTextNode(fn)), $());} static Input(fn, fo){ return S.InputInternal("input", () => D(fn, [w(fo)]));} static PasswordBox(fn, fo){ return S.InputInternal("input", () => D(fn, [w(fo), bm.Create("type", "password")]));} static Button(fn, fo, fp){ const fq=bm.Concat(fo);return dE.New(S.Clickable("button", fp), fq, S.TextNode(fn));} static Run(fn, fo){ cX(fn, fo.docNode);S.RunInPlace(false, fn, fo);} static Mk(fn, fo){ return new S(fn, fo);} static EmbedView(fn){ const fo=cY();return S.Mk(cx(fo), ba(() => { }, bf((fp) => { cZ(fo, fp.docNode);return fp.updates;}, fn)));} static Element(fn, fo, fp){ const fq=bm.Concat(fo);const fr=S.Concat(fp);return dE.New(globalThis.document.createElement(fn), fq, fr);} static InputInternal(fn, fo){ const fp=globalThis.document.createElement(fn);return dE.New(fp, bm.Concat(fo(fp)), S.Empty);} static Clickable(fn, fo){ const fp=globalThis.document.createElement(fn);fp.addEventListener("click", (fq) => { fq.preventDefault();return fo();}, false);return fp;} static RunInPlace(fn, fo, fp){ const fq=c1(fo, fp.docNode);bg(dW()||d3()?d4(c2(fn, fq, fp.docNode)):() => { c3(fn, fq, fp.docNode);}, fp.updates);} static BindView(fn, fo){ return S.EmbedView(ba(fn, fo));} constructor(fn, fo){ super();this.docNode=fn;this.updates=fo;} }
function T(fn){!U()?(V(true),W(globalThis.document.body, "")):void 0;X().set_Item(fn, Y(""));}
function U(){ return cT.LocalTemplatesLoaded;}
function V(fn){ cT.LocalTemplatesLoaded=fn;}
function W(fn, fo){ const fp=Y(fo);const fq=new bU("New_5");const fr=fn.querySelectorAll("[ws-template]");for(let fD=0, fE=fr.length-1;fD<=fE;fD++){ const fs=fr[fD];const ft=fs.getAttribute("ws-template").toLowerCase();fs.removeAttribute("ws-template");fq.set_Item(ft, Z(fs));} const fu=fn.querySelectorAll("[ws-children-template]");for(let fF=0, fG=fu.length-1;fF<=fG;fF++){ const fv=fu[fF];const fw=fv.getAttribute("ws-children-template").toLowerCase();fv.removeAttribute("ws-children-template");fq.set_Item(fw, u0030(fv));} const fx=fn.querySelectorAll("template[id]");for(let fH=0, fI=fx.length-1;fH<=fI;fH++){ const fy=fx[fH];fq.set_Item(fy.getAttribute("id").toLowerCase(), u0031(fy));} const fz=fn.querySelectorAll("template[name]");for(let fJ=0, fK=fz.length-1;fJ<=fK;fJ++){ const fA=fz[fJ];fq.set_Item(fA.getAttribute("name").toLowerCase(), u0031(fA));} const fB=new cU("New_3");function fC(fL){ if(!fp.ContainsKey(fL)){ let fM;const fN=(fM=null,[fq.TryGetValue(fL, {get:() => fM, set:(fO) => { fM=fO;}}), fM]);if(fN[0]){ fB.SAdd(fL);fq.RemoveKey(fL);u0032(fo, cV(fL), fN[1], cV(fC));} else console.warn(fB.Contains(fL)?"Encountered loop when instantiating "+fL:"Local template does not exist: "+fL);} } while(fq.count>0)fC(E(fq.Keys));}
function X(){ return cT.LoadedTemplates;}
function Y(fn){ let fo;const fp=(fo=null,[X().TryGetValue(fn, {get:() => fo, set:(fr) => { fo=fr;}}), fo]);if(fp[0])return fp[1];else { const fq=new bU("New_5");X().set_Item(fn, fq);return fq;} }
function Z(fn){ fn.removeAttribute("ws-template");const fo=fn.getAttribute("ws-replace");if(fo==null){ } else { fn.removeAttribute("ws-replace");const fp=fn.parentNode;if(bV(fp, null)){ } else { const fq=globalThis.document.createElement(fn.tagName);fq.setAttribute("ws-replace", fo);fp.replaceChild(fq, fn);} } const fr=globalThis.document.createElement("div");fr.appendChild(fn);return fr;}
function u0030(fn){ const fo=globalThis.document.createElement("div");while(fn.hasChildNodes())fo.appendChild(fn.firstChild);return fo;}
function u0031(fn){ const fo=globalThis.document.createElement("div");const fp=fn.content;for(let fq=0, fr=fp.childNodes.length-1;fq<=fr;fq++)fo.appendChild(fp.childNodes[fq].cloneNode(true));return fo;}
function u0032(fn, fo, fp, fq){ const fr=new cU("New_3");function fs(fz, fA){ while(true)switch(fz){ case 0:if(fA!==null){ const fB=fA.nextSibling;if(bV(fA.nodeType, Node.TEXT_NODE))dJ(fA);else if(bV(fA.nodeType, Node.ELEMENT_NODE))fu(fA);fA=fB;} else return null;break;case 1:const fC=dR(fA.nodeName, cV(3), null).toLowerCase();const fD=fC.indexOf(".");const fE=fD===-1?[fn, fC]:[dR(fC, null, cV(fD-1)), dR(fC, cV(fD+1), null)];const fF=fE[1];const fG=fE[0];if(fG!=""&&!X().ContainsKey(fG))return dK(fF);else { if(fG==""&&fq!=null)fq.$0(fF);const fH=X().Item(fG);if(!fH.ContainsKey(fF))return dK(fF);else { const fI=fH.Item(fF);const fJ=fI.cloneNode(true);const fK=new cU("New_3");const fL=new bU("New_5");const fM=fA.attributes;for(let fW=0, fX=fM.length-1;fW<=fX;fW++){ const fN=fM.item(fW).name.toLowerCase();const fO=fM.item(fW).nodeValue;let fP=fO==""?fN:fO.toLowerCase();fL.set_Item(fN, fP);if(!fK.SAdd(fN))console.warn("Hole mapped twice", fN);} for(let fY=0, fZ=fA.childNodes.length-1;fY<=fZ;fY++){ const fQ=fA.childNodes[fY];if(bV(fQ.nodeType, Node.ELEMENT_NODE))if(!fK.SAdd(fQ.nodeName.toLowerCase()))console.warn("Hole filled twice", fF);} const fR=fA.childNodes.length===1&&bV(fA.firstChild.nodeType, Node.TEXT_NODE);if(fR){ const fS=dL(fJ, fA.firstChild.textContent, fF);const fT=((f0) =>(f1) => f0.SAdd(f1))(fK);let fU=((f0) =>(f1) => { if(f1!=null)f0(f1.$0);})((f0) => { fT(f0);});fU(fS);} dM(fJ, fK);if(!fR){ for(let f0=0, f1=fA.childNodes.length-1;f0<=f1;f0++){ const fV=fA.childNodes[f0];if(bV(fV.nodeType, Node.ELEMENT_NODE))if(fV.hasAttributes())dN(fJ, fV);else ft(fJ, fV);} } dO(fJ, fL);dP(fJ, fA.parentNode, fA);fA.parentNode.removeChild(fA);return;} } break;} } function ft(fz, fA){ const fB=fA.nodeName.toLowerCase();const fC=(fG, fH) => { if(fB=="title"&&fA.hasChildNodes()){ const fI=bD(fA.textContent);fA.removeChild(fA.firstChild);while(fI.hasChildNodes())fA.appendChild(fI.firstChild);} fu(fA);return dP(fA, fG, fH);};u0033(fz, "[ws-attr-holes]", (fG) => { const fH=d9(fG.getAttribute("ws-attr-holes"), [" "], 1);for(let fL=0, fM=fH.length-1;fL<=fM;fL++){ const fI=cA(fH, fL);let fJ=new RegExp("\\${"+fB+"}", "ig");let fK=fG.getAttribute(fI).replace(fJ, fA.textContent);fG.setAttribute(fI, fK);} });const fD=fz.querySelector("[ws-hole="+fB+"]");if(bV(fD, null)){ const fE=fz.querySelector("[ws-replace="+fB+"]");if(bV(fE, null)){ const fF=fz.querySelector("slot[name="+fB+"]");return fz.tagName.toLowerCase()=="template"?(fC(fF.parentNode, fF),void fF.parentNode.removeChild(fF)):null;} else { fC(fE.parentNode, fE);fE.parentNode.removeChild(fE);return;} } else { while(fD.hasChildNodes())fD.removeChild(fD.lastChild);fD.removeAttribute("ws-hole");return fC(fD, null);} } function fu(fz){ if(!fz.hasAttribute("ws-preserve"))if(d_(fz.nodeName.toLowerCase(), "ws-"))fw(fz);else { dQ(fz);fv(fz.firstChild);} } function fv(fz){ return fs(0, fz);} function fw(fz){ return fs(1, fz);} function fx(fz){ while(true){ const fA=fz.querySelector("[ws-template]");if(bV(fA, null)){ const fB=fz.querySelector("[ws-children-template]");if(bV(fB, null)){ const fC=fz.querySelectorAll("template[id]");for(let fI=1, fJ=fC.length-1;fI<=fJ;fI++){ const fD=fC[fI];if(fr.Contains(fD)){ } else { u0032(fn, cV(fD.getAttribute("id")), fD, null);fr.SAdd(fD);} } const fE=fz.querySelectorAll("template[name]");for(let fK=1, fL=fE.length-1;fK<=fL;fK++){ const fF=fE[fK];if(fr.Contains(fF)){ } else { u0032(fn, cV(fF.getAttribute("name")), fF, null);fr.SAdd(fF);} } return null;} else { const fG=fB.getAttribute("ws-children-template");fB.removeAttribute("ws-children-template");u0032(fn, cV(fG), fB, null);fz=fz;} } else { const fH=fA.getAttribute("ws-template");(u0034(fn, cV(fH), fA))(null);fz=fz;} } } const fy=(fo==null?"":fo.$0).toLowerCase();Y(fn).set_Item(fy, fp);if(fp.hasChildNodes()){ fx(fp);fv(fp.firstChild);} }
function u0033(fn, fo, fp){ bJ(fn, fo, (fq) => { if(fq.closest("[ws-preserve]")==null)fp(fq);});}
function u0034(fn, fo, fp){ const fq=Z(fp);return(fr) => { u0032(fn, fo, fq, fr);};}
function u0035(){ return cT.TextHoleRE;}
function u0036(fn){ const fo={};const fp=bM(fn);try { while(fp.MoveNext()){ const fq=fp.Current;fo[fq[0]]=fq[1];} } finally { if(typeof fp=="object"&&a(fp))fp.Dispose();} return fo;}
function u0037(fn, fo, fp){ return{id:fn, view:fo, render:fp};}
function u0038(){(u0039())[0]++;return"Form"+String((u0039())[0]);}
function u0039(){ return dd.lastId;}
function $(fn){ const fo={s:de(fn)};return() => fo;}
function ba(fn, fo){ return bd(() => b8(fn, fo()));}
function bb(fn, fo, fp){ return bd(() => b9(fn, fo(), fp()));}
function bc(fn, fo){ return bd(() => b_(fn(), fo()));}
function bd(fn){ const fo={c:null, o:fn};return() => { let fp=fo.c;if(fp===null){ fp=fo.o();fo.c=fp;const fq=fp.s;if(fq!=null&&fq.$==0)fo.o=null;else b$(fp, () => { fo.c=null;});return fp;} else return fp;};}
function be(fn, fo, fp){ const fq={s:df(fn, [])};return bd(() => fq.s==null?ch(fo(), fp()):(ci(fo(), fq),fq));}
function bf(fn, fo){ return bh(ba(fn, fo));}
function bg(fn, fo){ function fp(){ ck(fo(), fn, () => { er().Fork(fp);});} er().Fork(fp);}
function bh(fn){ return bd(() => cm(fn()));}
function bi(fn){ return{$:0, $0:fn};}
function bj(fn){ return{$:1, $0:fn};}
let bk=fi((fn) => class fo extends t { static { bk=fn(this);} static Create_1(fp){ return new co(false, {s:df(fp, [])}, fp);} static Create(){ return new co(false, {s:df(null, [])}, null);} static { } });
class bl { static Empty=fj(bl, {$:0});static Cons(fn, fo){ return fj(bl, {$:1, $0:fn, $1:fo});} GetEnumerator(){ return new bQ(this, null, (fn) => { const fo=fn.s;return fo.$==0?false:(fn.c=fo.$0,fn.s=fo.$1,true);}, void 0);} }
class bm { static Create(fn, fo){ return bo((fp) => { fp.setAttribute(fn, fo);});} static A1(fn){ return fj(bm, {$:1, $0:fn});} static Concat(fn){ const fo=bR(fn);return bS(br(), bm.Append, fo);} static A3(fn){ return fj(bm, {$:3, $0:fn});} static Append(fn, fo){ return bq(fn, fo);} static A2(fn, fo){ return fj(bm, {$:2, $0:fn, $1:fo});} }
function bn(fn, fo){ return bm.A1(new cz(fn, fo));}
function bo(fn){ return bm.A3(fn);}
function bp(fn){ return bT((fo) => fo.NChanged, $(), bc, fn.DynNodes);}
function bq(fn, fo){ if(fn===null)return fo;else if(fo===null)return fn;else { const fp=bm.A2(fn, fo);bt(fp, bu(fn)|bu(fo));return fp;} }
function br(){ return d5.EmptyAttr;}
function bs(fn, fo){ const fp=[];const fq=[];function fr(fu){ while(true){ if(!(fu===null)){ if(fu!=null&&fu.$==1)return fp.push(fu.$0);else if(fu!=null&&fu.$==2){ const fv=fu.$1;const fw=fu.$0;fr(fw);fu=fv;} else return fu!=null&&fu.$==3?fu.$0(fn):fu!=null&&fu.$==4?fq.push(fu.$0):null;} else return null;} } fr(fo);const fs=fp.slice(0);let ft=d7(fn, bu(fo), fs, fq.length===0?null:cV((fu) => { K((fv) => { fv(fu);}, fq);}));return ft;}
function bt(fn, fo){ fn.flags=fo;}
function bu(fn){ return fn!==null&&fn.hasOwnProperty("flags")?fn.flags:0;}
function bv(fn){ const fo=2;return(fn.DynFlags&fo)===fo;}
function bw(fn){ return bB(fn, (fo, fp) => fo.NGetExitAnim(fp));}
function bx(fn){ const fo=1;return(fn.DynFlags&fo)===fo;}
function by(fn){ return bB(fn, (fo, fp) => fo.NGetEnterAnim(fp));}
function bz(fn){ const fo=4;return(fn.DynFlags&fo)===fo;}
function bA(fn){ return bB(fn, (fo, fp) => fo.NGetChangeAnim(fp));}
function bB(fn, fo){ return d1(cJ((fp) => fo(fp, fn.DynElem), fn.DynNodes));}
function bC(fn, fo){ cK((fp) => { fp.NSync(fn);}, fo.DynNodes);}
function bD(fn){ const fo=globalThis.document.createElement("div");if(!bE().test(fn)){ fo.appendChild(globalThis.document.createTextNode(fn));return fo;} else { const fp=bI().exec(fn);const fq=bV(fp, null)?"":cA(fp, 1).toLowerCase();const fr=(bF())[fq];const fs=fr?fr:bG();fo.innerHTML=fs[1]+fn.replace(bH(), "<$1></$2>")+fs[2];function ft(fu, fv){ while(true){ if(fv===0)return fu;else { const fw=fv;fu=fu.lastChild;fv=fw-1;} } } return ft(fo, fs[0]);} }
function bE(){ return eJ.rhtml;}
function bF(){ return eJ.wrapMap;}
function bG(){ return eJ.defaultWrap;}
function bH(){ return eJ.rxhtmlTag;}
function bI(){ return eJ.rtagName;}
function bJ(fn, fo, fp){ const fq=fn.querySelectorAll(fo);for(let fr=0, fs=fq.length-1;fr<=fs;fr++)fp(fq[fr]);}
function bK(fn, fo, fp){ let fq;if(fp.parentNode===fn){ const fr=fp.nextSibling;let fs=bV(fr, null)?null:fr;fq=fo===fs;} else fq=false;if(!fq)fn.insertBefore(fp, fo);}
function bL(fn, fo){ if(fo.parentNode===fn)fn.removeChild(fo);}
function bM(fn){ return fn instanceof Array?bN(fn):bV(typeof fn, "string")?bO(fn):fn.GetEnumerator();}
function bN(fn){ return new bQ(0, null, (fo) => { const fp=fo.s;return fp<cB(fn)&&(fo.c=cA(fn, fp),fo.s=fp+1,true);}, void 0);}
function bO(fn){ return new bQ(0, null, (fo) => { const fp=fo.s;return fp<fn.length&&(fo.c=fn[fp],fo.s=fp+1,true);}, void 0);}
function bP(fn){ return fn instanceof Array?bN(fn):bV(typeof fn, "string")?bO(fn):"GetEnumerator0"in fn?fn.GetEnumerator0():fn.GetEnumerator();}
class bQ extends t { s;c;n;d;e;Dispose(){ if(this.d)this.d(this);} MoveNext(){ const fn=this.n(this);this.e=fn?1:2;return fn;} get Current(){ return this.e===1?this.c:this.e===0?d("Enumeration has not started. Call MoveNext."):d("Enumeration already finished.");} constructor(fn, fo, fp, fq){ super();this.s=fn;this.c=fo;this.n=fp;this.d=fq;this.e=0;} }
function bR(fn){ if(fn instanceof Array)return fn;else if(fn instanceof bl)return cE(fn);else if(fn===null)return[];else { const fo=[];const fp=bM(fn);try { while(fp.MoveNext())fo.push(fp.Current);return fo;} finally { if(typeof fp=="object"&&a(fp))fp.Dispose();} } }
function bS(fn, fo, fp){ const fq=cB(fp);function fr(fs){ return(ft) => { let fu;switch(ft<=0?0:ft===1?fs>=0&&fs<fq?1:(fu=ft,2):(fu=ft,2)){ case 0:return fn;case 1:return cA(fp, fs);case 2:const fv=ft/2>>0;return fo((fr(fs))(fv), (fr(fs+fv))(ft-fv));} };} return(fr(0))(fq);}
function bT(fn, fo, fp, fq){ const fr=cB(fq);function fs(ft){ return(fu) => { let fv;switch(fu<=0?0:fu===1?ft>=0&&ft<fr?1:(fv=fu,2):(fv=fu,2)){ case 0:return fo;case 1:return fn(cA(fq, ft));case 2:const fw=fu/2>>0;return fp((fs(ft))(fw), (fs(ft+fw))(fu-fw));} };} return(fs(0))(fr);}
class bU extends t { equals;hash;count;data;set_Item(fn, fo){ this.set(fn, fo);} ContainsKey(fn){ const fo=this.data[this.hash(fn)];return fo==null?false:cF((fp) => this.equals.apply(null, [(e(fp))[0], fn]), fo);} TryGetValue(fn, fo){ const fp=this.data[this.hash(fn)];if(fp==null)return false;else { const fq=cG((fr) => { const fs=e(fr);return this.equals.apply(null, [fs[0], fn])?cV(fs[1]):null;}, fp);return fq!=null&&fq.$==1&&(fo.set(fq.$0),true);} } RemoveKey(fn){ return this.remove(fn);} get Keys(){ return new dV(this);} set(fn, fo){ const fp=this.hash(fn);const fq=this.data[fp];if(fq==null){ this.count=this.count+1;this.data[fp]=new Array({K:fn, V:fo});} else { const fr=cH((fs) => this.equals.apply(null, [(e(fs))[0], fn]), fq);if(fr==null){ this.count=this.count+1;fq.push({K:fn, V:fo});} else fq[fr.$0]={K:fn, V:fo};} } remove(fn){ const fo=this.hash(fn);const fp=this.data[fo];if(fp==null)return false;else { const fq=cI((fr) =>!this.equals.apply(null, [(e(fr))[0], fn]), fp);return cB(fq)<fp.length&&(this.count=this.count-1,this.data[fo]=fq,true);} } Item(fn){ return this.get(fn);} GetEnumerator(){ return bP(cM(s(this.data)));} get(fn){ const fo=this.data[this.hash(fn)];return fo==null?dI():cN((fp) => { const fq=e(fp);return this.equals.apply(null, [fq[0], fn])?cV(fq[1]):null;}, fo);} static New_5(){ return new this("New_5");} static New_6(fn, fo, fp){ return new this("New_6", fn, fo, fp);} constructor(fn, fo, fp, fq){ if(fn=="New_5"){ fn="New_6";fo=[];fp=bV;fq=bY;} if(fn=="New_6"){ const fr=fo;const fs=fp;const ft=fq;super();this.equals=fs;this.hash=ft;this.count=0;this.data=[];const fu=bM(fr);try { while(fu.MoveNext()){ const fv=fu.Current;this.set(fv.K, fv.V);} } finally { if(typeof fu=="object"&&a(fu))fu.Dispose();} } } }
function bV(fn, fo){ if(fn===fo)return true;else { const fp=typeof fn;if(fp=="object"){ if(fn===null||fn===void 0||fo===null||fo===void 0||!bV(typeof fo, "object"))return false;else if("Equals"in fn)return fn.Equals(fo);else if("Equals"in fo)return false;else if(fn instanceof Array&&fo instanceof Array)return bW(fn, fo);else if(fn instanceof Date&&fo instanceof Date)return bX(fn, fo);else { const fq=[true];let fr;for(var ft in fn)if(((fu) => { fq[0]=!fn.hasOwnProperty(fu)||fo.hasOwnProperty(fu)&&bV(fn[fu], fo[fu]);return!fq[0];})(ft))break;if(fq[0]){ let fs;for(var fu in fo)if(((fv) => { fq[0]=!fo.hasOwnProperty(fv)||fn.hasOwnProperty(fv);return!fq[0];})(fu))break;} return fq[0];} } else return fp=="function"&&("$Func"in fn?fn.$Func===fo.$Func&&fn.$Target===fo.$Target:"$Invokes"in fn&&"$Invokes"in fo&&bW(fn.$Invokes, fo.$Invokes));} }
function bW(fn, fo){ let fp;let fq;if(cB(fn)===cB(fo)){ fp=true;fq=0;while(fp&&fq<cB(fn)){!bV(cA(fn, fq), cA(fo, fq))?fp=false:void 0;fq=fq+1;} return fp;} else return false;}
function bX(fn, fo){ return fn.getTime()===fo.getTime();}
function bY(fn){ const fo=typeof fn;return fo=="function"?0:fo=="boolean"?fn?1:0:fo=="number"?fn:fo=="string"?bZ(fn):fo=="object"?fn==null?0:fn instanceof Array?b0(fn):b1(fn):0;}
function bZ(fn){ let fo;if(fn===null)return 0;else { fo=5381;for(let fp=0, fq=fn.length-1;fp<=fq;fp++)fo=b2(fo, fn[fp].charCodeAt());return fo;} }
function b0(fn){ let fo=-34948909;for(let fp=0, fq=cB(fn)-1;fp<=fq;fp++)fo=b2(fo, bY(cA(fn, fp)));return fo;}
function b1(fn){ if("GetHashCode"in fn)return fn.GetHashCode();else { const fo=[0];let fp;for(var fq in fn)if(((fr) => { fo[0]=b2(b2(fo[0], bZ(fr)), bY(fn[fr]));return false;})(fq))break;return fo[0];} }
function b2(fn, fo){ return(fn<<5)+fn+fo;}
function b3(fn, fo){ if(fn===fo)return 0;else { const fp=typeof fn;switch(fp=="function"?1:fp=="boolean"?2:fp=="number"?2:fp=="string"?2:fp=="object"?3:0){ case 0:return typeof fo=="undefined"?0:-1;case 1:return d("Cannot compare function values.");case 2:return fn<fo?-1:1;case 3:if(fn===null)return -1;else if(fo===null)return 1;else if("CompareTo"in fn)return fn.CompareTo(fo);else if("CompareTo0"in fn)return fn.CompareTo0(fo);else if(fn instanceof Array&&fo instanceof Array)return b4(fn, fo);else if(fn instanceof Date&&fo instanceof Date)return b5(fn, fo);else { const fq=[0];let fr;for(var ft in fn)if(((fu) =>!fn.hasOwnProperty(fu)?false:!fo.hasOwnProperty(fu)?(fq[0]=1,true):(fq[0]=b3(fn[fu], fo[fu]),fq[0]!==0))(ft))break;if(fq[0]===0){ let fs;for(var fu in fo)if(((fv) =>!fo.hasOwnProperty(fv)?false:!fn.hasOwnProperty(fv)&&(fq[0]=-1,true))(fu))break;} return fq[0];} break;} } }
function b4(fn, fo){ let fp;let fq;if(cB(fn)<cB(fo))return -1;else if(cB(fn)>cB(fo))return 1;else { fp=0;fq=0;while(fp===0&&fq<cB(fn)){ fp=b3(cA(fn, fq), cA(fo, fq));fq=fq+1;} return fp;} }
function b5(fn, fo){ return b3(fn.getTime(), fo.getTime());}
function b6(fn, fo){ return fn.$==0?fo.$==0?bi(fn.$0(fo.$0)):bj(fo.$0):fo.$==0?bj(fn.$0):bj(cq(fn.$0, fo.$0));}
function b7(fn, fo){ return fo.$==1?bj(fo.$0):bi(fn(fo.$0));}
function b8(fn, fo){ const fp=fo.s;if(fp!=null&&fp.$==0)return{s:de(fn(fp.$0))};else { const fq={s:dg([], [])};ca(fo, (fr) => { cb(fq, fo, fn(fr));}, fq);return fq;} }
function b9(fn, fo, fp){ const fq=fo.s;const fr=fp.s;if(fq!=null&&fq.$==0)return fr!=null&&fr.$==0?{s:de(fn(fq.$0, fr.$0))}:cc(fn, fq.$0, fp);else if(fr!=null&&fr.$==0)return cd(fn, fr.$0, fo);else { const fs={s:dg([], [])};const ft=() => { const fu=fs.s;if(!(fu!=null&&fu.$==0||fu!=null&&fu.$==2)){ const fv=ce(fo);const fw=ce(fp);if(fv!=null&&fv.$==1)if(fw!=null&&fw.$==1)if(fv.$0[1]&&fw.$0[1])cf(fs, fn(fv.$0[0], fw.$0[0]));else cg(fs, fn(fv.$0[0], fw.$0[0]));} };ca(fo, ft, fs);ca(fp, ft, fs);return fs;} }
function b_(fn, fo){ const fp=fn.s;const fq=fo.s;if(fp!=null&&fp.$==0)return fq!=null&&fq.$==0?{s:de(null)}:fo;else if(fq!=null&&fq.$==0)return fn;else { const fr={s:dg([], [])};const fs=() => { const ft=fr.s;if(!(ft!=null&&ft.$==0||ft!=null&&ft.$==2)){ const fu=ce(fn);const fv=ce(fo);if(fu!=null&&fu.$==1)if(fv!=null&&fv.$==1)if(fu.$0[1]&&fv.$0[1])cf(fr, null);else cg(fr, null);} };ca(fn, fs, fr);ca(fo, fs, fr);return fr;} }
function b$(fn, fo){ const fp=fn.s;if(fp==null)fo();else fp!=null&&fp.$==2?fp.$1.push(fo):fp!=null&&fp.$==3?fp.$1.push(fo):void 0;}
function ca(fn, fo, fp){ const fq=fn.s;if(fq==null)dk(fp);else fq!=null&&fq.$==2?(cj(fq.$1, fp),fo(fq.$0)):fq!=null&&fq.$==3?(fq.$0.push(fo),cj(fq.$1, fp)):fo(fq.$0);}
function cb(fn, fo, fp){ const fq=fo.s;if(fq!=null&&fq.$==0)cf(fn, fp);else cg(fn, fp);}
function cc(fn, fo, fp){ return b8((fq) => fn(fo, fq), fp);}
function cd(fn, fo, fp){ return b8((fq) => fn(fq, fo), fp);}
function ce(fn){ const fo=fn.s;return fo!=null&&fo.$==0?cV([fo.$0, true]):fo!=null&&fo.$==2?cV([fo.$0, false]):null;}
function cf(fn, fo){ const fp=fn.s;if(fp!=null&&fp.$==3){ fn.s=de(fo);const fq=fp.$0;for(let fr=0, fs=cB(fq)-1;fr<=fs;fr++)(cA(fq, fr))(fo);} else void 0;}
function cg(fn, fo){ const fp=fn.s;if(fp!=null&&fp.$==3){ fn.s=df(fo, fp.$1);const fq=fp.$0;for(let fr=0, fs=cB(fq)-1;fr<=fs;fr++)(cA(fq, fr))(fo);} else void 0;}
function ch(fn, fo){ const fp={s:dg([], [])};const fq=() => { const fr=fp.s;if(!(fr!=null&&fr.$==0||fr!=null&&fr.$==2)){ const fs=ce(fn);const ft=ce(fo);if(fs!=null&&fs.$==1)ft!=null&&ft.$==1?fs.$0[1]||ft.$0[1]?cf(fp, ft.$0[0]):cg(fp, ft.$0[0]):void 0;} };ca(fn, fq, fp);cl(fo, fq);return fp;}
function ci(fn, fo){ const fp=fn.s;if(fp==null)dk(fo);else fp!=null&&fp.$==2?cj(fp.$1, fo):fp!=null&&fp.$==3?cj(fp.$1, fo):void 0;}
function cj(fn, fo){ fn.push(fo);if(fn.length%20===0){ const fp=fn.slice(0);eQ(fn);for(let fr=0, fs=cB(fp)-1;fr<=fs;fr++){ const fq=cA(fp, fr);if(typeof fq=="object")(((ft) => { if(ft.s)fn.push(ft);})(fq));else(((ft) => { fn.push(ft);})(fq));} } else void 0;}
function ck(fn, fo, fp){ const fq=fn.s;if(fq==null)fp();else fq!=null&&fq.$==2?(fq.$1.push(fp),fo(fq.$0)):fq!=null&&fq.$==3?(fq.$0.push(fo),fq.$1.push(fp)):fo(fq.$0);}
function cl(fn, fo){ let fp;const fq=fn.s;switch(fq!=null&&fq.$==2?(fp=fq.$0,0):fq==null?1:fq!=null&&fq.$==3?2:(fp=fq.$0,0)){ case 0:fo(fp);break;case 1:null;break;case 2:fq.$0.push(fo);break;} }
function cm(fn){ const fo={s:dg([], [])};ca(fn, (fp) => { const fq=fp();ca(fq, (fr) => { let fs;const ft=fq.s;if(ft!=null&&ft.$==0){ const fu=fn.s;fs=fu!=null&&fu.$==0;} else fs=false;if(fs)cf(fo, fr);else cg(fo, fr);}, fo);}, fo);return fo;}
function cn(fn){ const fo=fn.s;if(fo==null)return fn;else if(fo!=null&&fo.$==2){ const fp={s:df(fo.$0, [])};ci(fn, fp);return fp;} else if(fo!=null&&fo.$==3){ const fq={s:dg([], [])};ca(fn, (fr) => { cb(fq, fn, fr);}, fq);return fq;} else return fn;}
class co extends z { isConst;current;snap;view;id;get View(){ return this.view;} get Id(){ return"uinref"+String(this.id);} Set(fn){ if(this.isConst)(((fo) => fo("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fo) => { console.log(fo);}));else { dk(this.snap);this.current=fn;this.snap={s:df(fn, [])};} } Get(){ return this.current;} UpdateMaybe(fn){ const fo=fn(this.Get());if(fo!=null&&fo.$==1)this.Set(fo.$0);} constructor(fn, fo, fp){ super();this.isConst=fn;this.current=fp;this.snap=fo;this.view=() => this.snap;this.id=dh();} }
function cp(fn){ let fo=bl.Empty;for(let fp=cB(fn)-1, fq=0;fp>=fq;fp--)fo=bl.Cons(cA(fn, fp), fo);return fo;}
function cq(fn, fo){ let fp;let fq;let fr;if(fn.$==0)return fo;else if(fo.$==0)return fn;else { const fs=fj(bl, {$:1});fp=fs;fq=fn;fr=true;while(fr){ fp.$0=fq.$0;fq=fq.$1;if(fq.$==0)fr=false;else { const ft=fj(bl, {$:1});fp=(fp.$1=ft,ft);} } fp.$1=fo;return fs;} }
function cr(fn){ return fn.$==1?fn.$0:ct();}
function cs(fn){ return fn.$==1?fn.$1:ct();}
function ct(){ return d("The input list was empty.");}
class cu { }
function cv(fn, fo){ return{$:0, $0:fn, $1:fo};}
function cw(fn){ return{$:5, $0:fn};}
function cx(fn){ return{$:2, $0:fn};}
function cy(fn){ return{$:1, $0:fn};}
class cz extends t { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fn){ return d2();} NGetEnterAnim(fn){ return d2();} NGetChangeAnim(fn){ return d2();} NSync(fn){ if(this.dirty){(this.push(fn))(this.value);this.dirty=false;} } constructor(fn, fo){ super();this.push=fo;this.value=void 0;this.dirty=false;this.updates=ba((fp) => { this.value=fp;this.dirty=true;}, fn);} }
function cA(fn, fo){ cC(fn, fo);return fn[fo];}
function cB(fn){ return fn.dims===2?fn.length*fn.length:fn.length;}
function cC(fn, fo){ if(fo<0||fo>=fn.length)d("Index was outside the bounds of the array.");}
function cD(fn, fo, fp){ cC(fn, fo);fn[fo]=fp;}
function cE(fn){ const fo=[];let fp=fn;while(!(fp.$==0)){ fo.push(cr(fp));fp=cs(fp);} return fo;}
function cF(fn, fo){ let fp=false;let fq=0;while(!fp&&fq<cB(fo))if(fn(fo[fq]))fp=true;else fq=fq+1;return fp;}
function cG(fn, fo){ let fp=null;let fq=0;while(fq<fo.length&&fp==null){ const fr=fn(fo[fq]);if(fr!=null&&fr.$==1)fp=fr;fq=fq+1;} return fp;}
function cH(fn, fo){ let fp=null;let fq=0;while(fq<fo.length&&fp==null){ fn(fo[fq])?fp=cV(fq):void 0;fq=fq+1;} return fp;}
function cI(fn, fo){ const fp=[];for(let fq=0, fr=fo.length-1;fq<=fr;fq++)if(fn(fo[fq]))fp.push(fo[fq]);return fp;}
function cJ(fn, fo){ const fp=new Array(fo.length);for(let fq=0, fr=fo.length-1;fq<=fr;fq++)fp[fq]=fn(fo[fq]);return fp;}
function cK(fn, fo){ for(let fp=0, fq=fo.length-1;fp<=fq;fp++)fn(fo[fp]);}
function cL(fn, fo, fp){ let fq=fp;const fr=fo.length;for(let fs=1, ft=fr;fs<=ft;fs++)fq=fn(fo[fr-fs], fq);return fq;}
function cM(fn){ return Array.prototype.concat.apply([], cO(fn));}
function cN(fn, fo){ const fp=cG(fn, fo);return fp==null?d("KeyNotFoundException"):fp.$0;}
function cO(fn){ if(fn instanceof Array)return fn.slice();else if(fn instanceof bl)return cE(fn);else { const fo=[];const fp=bM(fn);try { while(fp.MoveNext())fo.push(fp.Current);return fo;} finally { if(typeof fp=="object"&&a(fp))fp.Dispose();} } }
function cP(fn, fo){ const fp=[];for(let fr=0, fs=fo.length-1;fr<=fs;fr++){ const fq=fn(fo[fr]);if(fq==null){ } else fp.push(fq.$0);} return fp;}
function cQ(fn, fo){ const fp=new Array(fn);for(let fq=0, fr=fn-1;fq<=fr;fq++)fp[fq]=fo;return fp;}
function cR(fn, fo){ if(fn<0)d("Negative size given.");else null;const fp=new Array(fn);for(let fq=0, fr=fn-1;fq<=fr;fq++)fp[fq]=fo(fq);return fp;}
function cS(fn, fo){ let fp=true;let fq=0;while(fp&&fq<cB(fo))if(fn(fo[fq]))fq=fq+1;else fp=false;return fp;}
let cT=fi((fn) => class fo { static { cT=fn(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bU("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bU("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
class cU extends t { equals;hash;data;count;SAdd(fn){ return this.add(fn);} Contains(fn){ const fo=this.data[this.hash(fn)];return fo==null?false:this.arrContains(fn, fo);} add(fn){ const fo=this.hash(fn);const fp=this.data[fo];return fp==null?(this.data[fo]=[fn],this.count=this.count+1,true):this.arrContains(fn, fp)?false:(fp.push(fn),this.count=this.count+1,true);} arrContains(fn, fo){ let fp=true;let fq=0;const fr=fo.length;while(fp&&fq<fr)if(this.equals.apply(null, [fo[fq], fn]))fp=false;else fq=fq+1;return!fp;} GetEnumerator(){ return bM(eP(this.data));} ExceptWith(fn){ const fo=bM(fn);try { while(fo.MoveNext())this.Remove(fo.Current);} finally { if(typeof fo=="object"&&a(fo))fo.Dispose();} } get Count(){ return this.count;} IntersectWith(fn){ const fo=new cU("New_4", fn, this.equals, this.hash);const fp=eP(this.data);for(let fr=0, fs=fp.length-1;fr<=fs;fr++){ const fq=fp[fr];if(!fo.Contains(fq))this.Remove(fq);} } Remove(fn){ const fo=this.data[this.hash(fn)];return fo==null?false:this.arrRemove(fn, fo)&&(this.count=this.count-1,true);} CopyTo(fn, fo){ const fp=eP(this.data);for(let fq=0, fr=fp.length-1;fq<=fr;fq++)cD(fn, fq+fo, fp[fq]);} arrRemove(fn, fo){ let fp=true;let fq=0;const fr=fo.length;while(fp&&fq<fr)if(this.equals.apply(null, [fo[fq], fn])){ fo.splice(fq, 1);fp=false;} else fq=fq+1;return!fp;} static New_3(){ return new this("New_3");} static New_4(fn, fo, fp){ return new this("New_4", fn, fo, fp);} static New_2(fn){ return new this("New_2", fn);} constructor(fn, fo, fp, fq){ if(fn=="New_3"){ fn="New_4";fo=[];fp=bV;fq=bY;} let fr;if(fn=="New_2"){ fr=fo;fn="New_4";fo=fr;fp=bV;fq=bY;} if(fn=="New_4"){ const fs=fo;const ft=fp;const fu=fq;super();this.equals=ft;this.hash=fu;this.data=[];this.count=0;const fv=bM(fs);try { while(fv.MoveNext())this.add(fv.Current);} finally { if(typeof fv=="object"&&a(fv))fv.Dispose();} } } }
function cV(fn){ return{$:1, $0:fn};}
class cW extends t { }
function cX(fn, fo){ c0(fn, fo, null);}
function cY(){ return{Current:null, Dirty:false};}
function cZ(fn, fo){ fn.Current=fo;fn.Dirty=true;}
function c0(fn, fo, fp){ while(true){ if(fo!=null&&fo.$==1)return c5(fn, fo.$0.El, fp);else if(fo!=null&&fo.$==2){ const fq=fo.$0;fq.Dirty=false;fo=fq.Current;} else if(fo==null)return fp;else if(fo!=null&&fo.$==4)return c5(fn, fo.$0.Text, fp);else if(fo!=null&&fo.$==5)return c5(fn, fo.$0, fp);else if(fo!=null&&fo.$==6)return cL((ft, fu) =>((((fv) =>(fw) =>(fx) => fw==null||fw.constructor===Object?c0(fv, fw, fx):c5(fv, fw, fx))(fn))(ft))(fu), fo.$0.Els, fp);else { const fr=fo.$1;const fs=fo.$0;fo=fs;fp=c0(fn, fr, fp);} } }
function c1(fn, fo){ return ee(ef(), c4(fn, br(), fo));}
function c2(fn, fo, fp){ if(dW()){ const fq=null;return em(() => { const fr=eg(fp);const fs=c9(fo, fr);const ft=c8(fo, fr);return en(dX(dY(fs, c7(fo, fr))), () => en(c6(fn, fo), () => en(dX(ft), () => { fo.PreviousNodes=fr;return eq(null);})));});} else return c6(fn, fo);}
function c3(fn, fo, fp){ const fq=eg(fp);c_(fn, fo.Top);fo.PreviousNodes=fq;}
function c4(fn, fo, fp){ cX(fn, fp);const fq=bs(fn, fo);return dG.New(fq, fp, null, fn, dh(), fk(fq.OnAfterRender));}
function c5(fn, fo, fp){ bK(fn, fp, fo);return fo;}
function c6(fn, fo){ if(d3()){ const fp=(fq) => { requestAnimationFrame(() => { c_(fn, fo.Top);fq();});};return ev((fq, fr, fs) => fp.apply(null, [fq, fr, fs]));} else { c_(fn, fo.Top);return eq(null);} }
function c7(fn, fo){ return d1(cJ((fp) => bw(fp.Attr), ek(ej(fo, ei((fp) => bv(fp.Attr), fn.PreviousNodes)))));}
function c8(fn, fo){ return d1(cJ((fp) => by(fp.Attr), ek(ej(fn.PreviousNodes, ei((fp) => bx(fp.Attr), fo)))));}
function c9(fn, fo){ const fp=(fr) => bz(fr.Attr);const fq=(fr) => ei(fp, fr);return d1(cJ((fr) => bA(fr.Attr), ek(el(fq(fn.PreviousNodes), fq(fo)))));}
function c_(fn, fo){!fn?c$(fo):void 0;da(fo.Children);db(fo);}
function c$(fn){ function fo(fp){ function fq(fr){ while(true){ if(fr!=null&&fr.$==0){ const fs=fr.$1;const ft=fr.$0;if(fq(ft))return true;else fr=fs;} else if(fr!=null&&fr.$==2){ const fu=fr.$0;if(fu.Dirty)return true;else fr=fu.Current;} else if(fr!=null&&fr.$==6){ const fv=fr.$0;return fv.Dirty||cF(fo, fv.Holes);} else return false;} } return fq(fp.Children);} bC(fn.El, fn.Attr);if(fo(fn))dc(fn);}
function da(fn){ while(true){ if(fn!=null&&fn.$==1)return c_(false, fn.$0);else if(fn!=null&&fn.$==2){ const fo=fn.$0;fn=fo.Current;} else if(fn==null)return null;else if(fn!=null&&fn.$==5)return null;else if(fn!=null&&fn.$==4){ const fp=fn.$0;return fp.Dirty?(fp.Text.nodeValue=fp.Value,fp.Dirty=false):null;} else if(fn!=null&&fn.$==6){ const fq=fn.$0;cK((ft) => { c_(false, ft);}, fq.Holes);cK((ft) => { bC(ft[0], ft[1]);}, fq.Attrs);return db(fq);} else { const fr=fn.$1;const fs=fn.$0;da(fs);fn=fr;} } }
function db(fn){ const fo=fk(fn.Render);if(fo!=null&&fo.$==1){ fo.$0(fn.El);fl(fn, "Render", null);} }
function dc(fn){ const fo=fn.El;function fp(ft, fu){ while(true){ if(ft!=null&&ft.$==1)return ft.$0.El;else if(ft!=null&&ft.$==2){ const fv=ft.$0;if(fv.Dirty){ fv.Dirty=false;return c0(fo, fv.Current, fu);} else ft=fv.Current;} else if(ft==null)return fu;else if(ft!=null&&ft.$==4)return ft.$0.Text;else if(ft!=null&&ft.$==5)return ft.$0;else if(ft!=null&&ft.$==6){ const fw=ft.$0;if(fw.Dirty)fw.Dirty=false;return cL((fz, fA) => fz==null||fz.constructor===Object?fp(fz, fA):fz, fw.Els, fu);} else { const fx=ft.$1;const fy=ft.$0;ft=fy;fu=fp(fx, fu);} } } const fq=fn.El;e_((ft) => { bL(fq, ft);}, e9(e$(fn), e8(fn.El, fk(fn.Delimiters))));let fr=fn.Children;const fs=fk(fn.Delimiters);fp(fr, fs!=null&&fs.$==1?fs.$0[1]:null);}
let dd=fi((fn) => class fo { static { dd=fn(this);} static Int;static lastId;static { this.lastId=[0];const fp=[0];this.Int=() => { fp[0]++;return fp[0];};} });
function de(fn){ return{$:0, $0:fn};}
function df(fn, fo){ return{$:2, $0:fn, $1:fo};}
function dg(fn, fo){ return{$:3, $0:fn, $1:fo};}
function dh(){ di(dj()+1);return dj();}
function di(fn){ eG.counter=fn;}
function dj(){ return eG.counter;}
function dk(fn){ let fo;const fp=fn.s;if(fp==null||(fp!=null&&fp.$==2?(fo=fp.$1,false):fp!=null&&fp.$==3?(fo=fp.$1,false):true))void 0;else { fn.s=null;for(let fr=0, fs=cB(fo)-1;fr<=fs;fr++){ const fq=cA(fo, fr);if(typeof fq=="object")(((ft) => { dk(ft);})(fq));else fq();} } }
function dl(){ return d5.StringApply;}
function dm(fn, fo, fp){ let fq;fq=null;return[(fr) => { const fs=() => { fp.UpdateMaybe((ft) => { let fu;fq=fn(fr);return fq!=null&&fq.$==1&&(!bV(fq.$0, ft)&&(fu=[fq, fq.$0],true))?fu[0]:null;});};fr.addEventListener("change", fs);fr.addEventListener("input", fs);fr.addEventListener("keypress", fs);}, (fr) => { const fs=fo(fr);return(ft) => ft==null?null:fs(ft.$0);}, ba((fr) => { let fs;return fq!=null&&fq.$==1&&(bV(fq.$0, fr)&&(fs=fq.$0,true))?null:cV(fr);}, fp.View)];}
function dn(){ return d5.StringSet;}
function do_1(){ return d5.StringGet;}
function dp(){ return d5.StringListSet;}
function dq(){ return d5.StringListGet;}
function dr(){ return d5.DateTimeSetUnchecked;}
function ds(){ return d5.DateTimeGetUnchecked;}
function dt(fn, fo, fp){ let fq;fq=null;return[(fr) => { fr.addEventListener("change", () => { fp.UpdateMaybe((fs) => { let ft;fq=fn(fr);return fq!=null&&fq.$==1&&(fq.$0!==fs&&(ft=[fq, fq.$0],true))?ft[0]:null;});});}, (fr) => { const fs=fo(fr);return(ft) => ft==null?null:fs(ft.$0);}, ba((fr) => { let fs;return fq!=null&&fq.$==1&&(bV(fq.$0, fr)&&(fs=fq.$0,true))?null:cV(fr);}, fp.View)];}
function du(){ return d5.FileSetUnchecked;}
function dv(){ return d5.FileGetUnchecked;}
function dw(){ return d5.IntSetUnchecked;}
function dx(){ return d5.IntGetUnchecked;}
function dy(){ return d5.IntSetChecked;}
function dz(){ return d5.IntGetChecked;}
function dA(){ return d5.FloatSetUnchecked;}
function dB(){ return d5.FloatGetUnchecked;}
function dC(){ return d5.FloatSetChecked;}
function dD(){ return d5.FloatGetChecked;}
class dE extends S { docNode_1;updates_1;elt;rvUpdates;static New(fn, fo, fp){ const fq=c4(fn, fo, fp.docNode);const fr=d6.Create(fp.updates);return new dE(cy(fq), bc(bp(fq.Attr), fr.v), fn, fr);} constructor(fn, fo, fp, fq){ super(fn, fo);this.docNode_1=fn;this.updates_1=fo;this.elt=fp;this.rvUpdates=fq;} }
function dF(fn, fo){ return eT(fn, -2147483648, 2147483647, fo);}
class dG { Attr;Children;Delimiters;El;ElKey;Render;Equals(fn){ return this.ElKey===fn.ElKey;} GetHashCode(){ return this.ElKey;} static New(fn, fo, fp, fq, fr, fs){ const ft={Attr:fn, Children:fo, El:fq, ElKey:fr};let fu=(fl(ft, "Delimiters", fp),fl(ft, "Render", fs),ft);return fj(dG, fu);} }
class dH extends t { }
function dI(){ throw new eU("New");}
function dJ(fn){ let fo=null;let fp=0;const fq=fn.textContent;const fr=new RegExp(u0035(), "g");while(fo=fr.exec(fq),fo!==null){ fn.parentNode.insertBefore(globalThis.document.createTextNode(dR(fq, cV(fp), cV(fr.lastIndex-cA(fo, 0).length-1))), fn);fp=fr.lastIndex;const fs=globalThis.document.createElement("span");fs.setAttribute("ws-replace", cA(fo, 1).toLowerCase());fn.parentNode.insertBefore(fs, fn);} fr.lastIndex=0;fn.textContent=dR(fq, cV(fp), null);}
function dK(fn){ console.warn("Instantiating non-loaded template", fn);}
function dL(fn, fo, fp){ const fq=fn.querySelector("[ws-replace]");return bV(fq, null)?(console.warn("Filling non-existent text hole", fp),null):(fq.parentNode.replaceChild(globalThis.document.createTextNode(fo), fq),cV(fq.getAttribute("ws-replace")));}
function dM(fn, fo){ const fp=(fq) => { u0033(fn, "["+fq+"]", (fr) => { if(!fo.Contains(fr.getAttribute(fq)))fr.removeAttribute(fq);});};fp("ws-attr");fp("ws-onafterrender");fp("ws-var");u0033(fn, "[ws-hole]", (fq) => { if(!fo.Contains(fq.getAttribute("ws-hole"))){ fq.removeAttribute("ws-hole");while(fq.hasChildNodes())fq.removeChild(fq.lastChild);} });u0033(fn, "[ws-replace]", (fq) => { if(!fo.Contains(fq.getAttribute("ws-replace")))fq.parentNode.removeChild(fq);});u0033(fn, "[ws-on]", (fq) => { fq.setAttribute("ws-on", d8(" ", cI((fr) => fo.Contains(cA(d9(fr, [":"], 1), 1)), d9(fq.getAttribute("ws-on"), [" "], 1))));});u0033(fn, "[ws-attr-holes]", (fq) => { const fr=d9(fq.getAttribute("ws-attr-holes"), [" "], 1);for(let fv=0, fw=fr.length-1;fv<=fw;fv++){ const fs=cA(fr, fv);let ft=new RegExp(u0035(), "g");let fu=fq.getAttribute(fs).replace(ft, (fx, fy) => fo.Contains(fy)?fx:"");fq.setAttribute(fs, fu);} });}
function dN(fn, fo){ dQ(fo);const fp=fo.nodeName.toLowerCase();const fq=fn.querySelector("[ws-attr="+fp+"]");if(bV(fq, null))console.warn("Filling non-existent attr hole", fp);else { fq.removeAttribute("ws-attr");for(let fs=0, ft=fo.attributes.length-1;fs<=ft;fs++){ const fr=fo.attributes.item(fs);if(fr.name=="class"&&fq.hasAttribute("class"))fq.setAttribute("class", fq.getAttribute("class")+" "+fr.nodeValue);else fq.setAttribute(fr.name, fr.nodeValue);} } }
function dO(fn, fo){ const fp=(fq) => { u0033(fn, "["+fq+"]", (fr) => { let fs;const ft=(fs=null,[fo.TryGetValue(fr.getAttribute(fq).toLowerCase(), {get:() => fs, set:(fu) => { fs=fu;}}), fs]);if(ft[0])fr.setAttribute(fq, ft[1]);});};fp("ws-hole");fp("ws-replace");fp("ws-attr");fp("ws-onafterrender");fp("ws-var");u0033(fn, "[ws-on]", (fq) => { fq.setAttribute("ws-on", d8(" ", cJ((fr) => { let fs;const ft=d9(fr, [":"], 1);const fu=(fs=null,[fo.TryGetValue(cA(ft, 1), {get:() => fs, set:(fv) => { fs=fv;}}), fs]);return fu[0]?cA(ft, 0)+":"+fu[1]:fr;}, d9(fq.getAttribute("ws-on"), [" "], 1))));});u0033(fn, "[ws-attr-holes]", (fq) => { const fr=d9(fq.getAttribute("ws-attr-holes"), [" "], 1);for(let fs=0, ft=fr.length-1;fs<=ft;fs++)((() => { const fu=cA(fr, fs);return fq.setAttribute(fu, F((fv, fw) => { const fx=e(fw);return fv.replace(new RegExp("\\${"+fx[0]+"}", "ig"), "${"+fx[1]+"}");}, fq.getAttribute(fu), fo));})());});}
function dP(fn, fo, fp){ while(true){ if(fn.hasChildNodes())fp=fo.insertBefore(fn.lastChild, fp);else return null;} }
function dQ(fn){ const fo=fn.attributes;const fp=[];const fq=[];const fr=[];for(let fw=0, fx=fo.length-1;fw<=fx;fw++){ const fs=fo.item(fw);if(d_(fs.nodeName, "ws-on")&&fs.nodeName!="ws-onafterrender"&&fs.nodeName!="ws-on"){ fp.push(fs.nodeName);fq.push(dR(fs.nodeName, cV("ws-on".length), null)+":"+fs.nodeValue.toLowerCase());} else if(!d_(fs.nodeName, "ws-")&&(new RegExp(u0035())).test(fs.nodeValue)){ let ft=new RegExp(u0035(), "g");let fu=fs.nodeValue.replace(ft, (fy, fz) =>"${"+fz.toLowerCase()+"}");fs.nodeValue=fu;fr.push(fs.nodeName);} else void 0;} if(!(fq.length==0))fn.setAttribute("ws-on", d8(" ", fq));if(!(fr.length==0))fn.setAttribute("ws-attr-holes", d8(" ", fr));const fv=(fy) => { const fz=fn.getAttribute(fy);if(fz==null){ } else fn.setAttribute(fy, fz.toLowerCase());};fv("ws-hole");fv("ws-replace");fv("ws-attr");fv("ws-onafterrender");fv("ws-var");cK((fy) => { fn.removeAttribute(fy);}, fp);}
function dR(fn, fo, fp){ if(fo==null){ if(fp!=null&&fp.$==1){ const fq=fp.$0;return fq<0?"":fn.slice(0, fq+1);} else return"";} else if(fp==null)return fn.slice(fo.$0);else { const fr=fp.$0;return fr<0?"":fn.slice(fo.$0, fr+1);} }
function dS(){ return d("The input sequence has an insufficient number of elements.");}
function dT(fn, fo){ let fp=true;let fq=0;while(fp&&fq<cB(fo))if(bV(fo[fq], fn))fp=false;else fq=fq+1;return!fp;}
function dU(){ return d("The input must be non-negative.");}
class dV extends t { d;GetEnumerator(){ return bM(C((fn) => fn.K, this.d));} constructor(fn){ super();this.d=fn;} }
function dW(){ return ex();}
function dX(fn){ const fo=null;return em(() => en(dZ(() => { }, ey(fn)), () => { ez(fn);return eq(null);}));}
function dY(fn, fo){ return d0(eL(fn.$0, fo.$0));}
function dZ(fn, fo){ const fp=fo.Duration;if(fp===0)return eo();else { const fq=(fr) => { function fs(ft){ return(fu) => { const fv=fu-ft;fo.Compute(fv);fn();return fv<=fp?void requestAnimationFrame((fw) => {(fs(ft))(fw);}):fr();};} requestAnimationFrame((ft) => {(fs(ft))(ft);});};return ev((fr, fs, ft) => fq.apply(null, [fr, fs, ft]));} }
function d0(fn){ return{$:0, $0:fn};}
function d1(fn){ return d0(eN(C(eB, fn)));}
function d2(){ return d0(eO());}
function d3(){ return eF.BatchUpdatesEnabled;}
function d4(fn){ const fo=[0];function fp(){ const fq=null;return em(() => en(fn, () => { const fr=fo[0];return bV(fr, 1)?(fo[0]=0,eo()):bV(fr, 2)?(fo[0]=1,fp()):eo();}));} return() => { const fq=fo[0];if(bV(fq, 0)){ fo[0]=1;ep(fp(), null);} else bV(fq, 1)?fo[0]=2:void 0;};}
let d5=fi((fn) => class fo { static { d5=fn(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(fF) =>[(fG) => { fG.addEventListener("change", () => fF.Get()!=fG.checked?fF.Set(fG.checked):null);}, (fG) =>(fH) => fH!=null&&fH.$==1?void(fG.checked=fH.$0):null, ba(cV, fF.View)];this.StringSet=(fF) =>(fG) => { fF.value=fG;};this.StringGet=(fF) => cV(fF.value);const fp=do_1();const fq=dn();this.StringApply=(fF) => dm(fp, fq, fF);this.StringListSet=(fF) =>(fG) => { const fH=fF.options;for(let fI=0, fJ=fH.length-1;fI<=fJ;fI++)((() => { const fK=fH.item(fI);fK.selected=dT(fK.value, fG);})());};this.StringListGet=(fF) => { const fG=fF.selectedOptions;return cV(cO(G(() => H((fH) =>[fG.item(fH).value], f(0, fG.length-1)))));};const fr=dq();const fs=dp();this.StringListApply=(fF) => dm(fr, fs, fF);this.DateTimeSetUnchecked=(fF) =>(fG) => { fF.value=(new Date(fG)).toLocaleString();};this.DateTimeGetUnchecked=(fF) => { let fG;let fH;const fI=fF.value;if(eH(fI))return cV(-8640000000000000);else { fG=0;const fJ=eS(fI);let fK=fJ!=null&&fJ.$==1&&(fG=fJ.$0,true);fH=[fK, fG];return fH[0]?cV(fH[1]):null;} };const ft=ds();const fu=dr();this.DateTimeApplyUnchecked=(fF) => dm(ft, fu, fF);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(fF) => { const fG=fF.files;return cV(cO(G(() => C((fH) => fG.item(fH), f(0, fG.length-1)))));};const fv=dv();const fw=du();this.FileApplyUnchecked=(fF) => dt(fv, fw, fF);this.IntSetUnchecked=(fF) =>(fG) => { fF.value=String(fG);};this.IntGetUnchecked=(fF) => { const fG=fF.value;if(eH(fG))return cV(0);else { const fH=+fG;return fH!==fH>>0?null:cV(fH);} };const fx=dx();const fy=dw();this.IntApplyUnchecked=(fF) => dm(fx, fy, fF);this.IntSetChecked=(fF) =>(fG) => { const fH=fG.Input;return fF.value!=fH?void(fF.value=fH):null;};this.IntGetChecked=(fF) => { let fG;let fH;const fI=fF.value;if(eH(fI))fG=(fF.checkValidity?fF.checkValidity():true)?eI.Blank(fI):eI.Invalid(fI);else { const fJ=(fH=0,[dF(fI, {get:() => fH, set:(fK) => { fH=fK;}}), fH]);fG=fJ[0]?eI.Valid(fJ[1], fI):eI.Invalid(fI);} return cV(fG);};const fz=dz();const fA=dy();this.IntApplyChecked=(fF) => dm(fz, fA, fF);this.FloatSetUnchecked=(fF) =>(fG) => { fF.value=String(fG);};this.FloatGetUnchecked=(fF) => { const fG=fF.value;if(eH(fG))return cV(0);else { const fH=+fG;return isNaN(fH)?null:cV(fH);} };const fB=dB();const fC=dA();this.FloatApplyUnchecked=(fF) => dm(fB, fC, fF);this.FloatSetChecked=(fF) =>(fG) => { const fH=fG.Input;return fF.value!=fH?void(fF.value=fH):null;};this.FloatGetChecked=(fF) => { let fG;const fH=fF.value;if(eH(fH))fG=(fF.checkValidity?fF.checkValidity():true)?eI.Blank(fH):eI.Invalid(fH);else { const fI=+fH;fG=isNaN(fI)?eI.Invalid(fH):eI.Valid(fI, fH);} return cV(fG);};const fD=dD();const fE=dC();this.FloatApplyChecked=(fF) => dm(fD, fE, fF);} });
class d6 { c;s;v;static Create(fn){ let fo;fo=null;fo=d6.New(fn, null, () => { let fp;fp=fo.s;return fp===null?(fp=cn(fo.c()),fo.s=fp,b$(fp, () => { fo.s=null;}),fp):fp;});return fo;} static New(fn, fo, fp){ return fj(d6, {c:fn, s:fo, v:fp});} }
function d7(fn, fo, fp, fq){ const fr={DynElem:fn, DynFlags:fo, DynNodes:fp};fl(fr, "OnAfterRender", fq);return fr;}
function d8(fn, fo){ return cO(fo).join(fn);}
function d9(fn, fo, fp){ return d$(fn, new RegExp("["+ea(fo.join(""))+"]"), fp);}
function d_(fn, fo){ return fn.substring(0, fo.length)==fo;}
function d$(fn, fo, fp){ return fp===1?cI((fq) => fq!=="", ec(fn, fo)):ec(fn, fo);}
function ea(fn){ return fn.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function eb(fn, fo){ return N(fn, ed(fo));}
function ec(fn, fo){ return fn.split(fo);}
function ed(fn){ return fn==null?"":fn;}
function ee(fn, fo){ return{PreviousNodes:fn, Top:fo};}
function ef(){ return eh(new cU("New_3"));}
function eg(fn){ const fo=[];function fp(fs, ft){ while(true)switch(fs){ case 0:if(ft!=null&&ft.$==0){ const fu=ft.$1;const fv=ft.$0;fp(0, fv);ft=fu;} else if(ft!=null&&ft.$==1){ const fw=ft.$0;ft=fw;fs=1;} else if(ft!=null&&ft.$==2){ const fx=ft.$0;ft=fx.Current;} else if(ft!=null&&ft.$==6){ const fy=ft.$0.Holes;return(((fz) =>(fA) => { cK(fz, fA);})(fr))(fy);} else return null;break;case 1:fo.push(ft);ft=ft.Children;fs=0;break;} } function fq(fs){ return fp(0, fs);} function fr(fs){ return fp(1, fs);} fq(fn);return eh(new cU("New_2", fo));}
function eh(fn){ return{$:0, $0:fn};}
function ei(fn, fo){ return eh(e3(fn, fo.$0));}
function ej(fn, fo){ return eh(e4(fn.$0, fo.$0));}
function ek(fn){ return e5(fn.$0);}
function el(fn, fo){ return eh(e6(fn.$0, fo.$0));}
function em(fn){ return(fo) => { try {(fn())(fo);} catch(fp){ fo.k(eY(fp));} };}
function en(fn, fo){ return es((fp) => { fn(eX((fq) => { if(fq.$==0){ const fr=fq.$0;er().Fork(() => { try {(fo(fr))(fp);} catch(fs){ fp.k(eY(fs));} });} else er().Fork(() => { fp.k(fq);});}, fp.ct));});}
function eo(){ return e1.Zero;}
function ep(fn, fo){ const fp=(et())[0];const fq=fo==null?fp:fo.$0;er().Fork(() => { if(!fq.c)fn(eX((fr) => { if(fr.$==1)eu(fr.$0);}, fq));});}
function eq(fn){ return(fo) => { fo.k(eZ(fn));};}
function er(){ return e1.scheduler;}
function es(fn){ return(fo) => { if(fo.ct.c)ew(fo);else fn(fo);};}
function et(){ return e1.defCTS;}
function eu(fn){ console.log("WebSharper: Uncaught asynchronous exception", fn);}
function ev(fn){ return(fo) => { const fp=[false];const fq=(fr) => { if(fp[0])d("A continuation provided by Async.FromContinuations was invoked multiple times");else { fp[0]=true;er().Fork(fr);} };fn((fr) => { fq(() => { fo.k(eZ(fr));});}, (fr) => { fq(() => { fo.k(eY(fr));});}, (fr) => { fq(() => { fo.k(e0(fr));});});};}
function ew(fn){ fn.k(e0(new fb("New", fn.ct)));}
function ex(){ return eK.UseAnimations;}
function ey(fn){ return eA(cP((fo) => fo.$==1?cV(fo.$0):null, eM(fn.$0)));}
function ez(fn){ cK((fo) => { if(fo.$==0)fo.$0();}, eM(fn.$0));}
function eA(fn){ const fo=bR(fn);const fp=cB(fo);if(fp===0)return eC();else if(fp===1)return cA(fo, 0);else { const fq=O(C((fs) => fs.Duration, fo));const fr=cJ((fs) => eE(fq, fs), fo);return eD(fq, (fs) => { cK((ft) => { ft.Compute(fs);}, fr);});} }
function eB(fn){ return fn.$0;}
function eC(fn){ return eD(0, () => fn);}
function eD(fn, fo){ return{Compute:fo, Duration:fn};}
function eE(fn, fo){ const fp=fo.Compute;const fq=fo.Duration;const fr=fc(() => fo.Compute(fo.Duration));return{Compute:(fs) => fs>=fq?fr.f():fp(fs), Duration:fn};}
let eF=fi((fn) => class fo { static { eF=fn(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
let eG=fi((fn) => class fo { static { eG=fn(this);} static counter;static { this.counter=0;} });
function eH(fn){ return eb(eR, fn);}
class eI { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fn){ return fj(eI, {$:2, $0:fn});} static Invalid(fn){ return fj(eI, {$:1, $0:fn});} static Valid(fn, fo){ return fj(eI, {$:0, $0:fn, $1:fo});} }
let eJ=fi((fn) => class fo { static { eJ=fn(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fp=[1, "<table>", "</table>"];let fq=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fp], ["tbody", fp], ["tfoot", fp], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fq;this.defaultWrap=[0, "", ""];} });
let eK=fi((fn) => class fo { static { eK=fn(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eW.Custom((fp) => { const fq=fp*fp;return 3*fq-2*(fq*fp);});this.UseAnimations=true;} });
function eL(fn, fo){ return fn.$==0?fo:fo.$==0?fn:{$:2, $0:fn, $1:fo};}
function eM(fn){ const fo=[];function fp(fq){ while(true){ if(fq.$==1)return fo.push(fq.$0);else if(fq.$==2){ const fr=fq.$1;const fs=fq.$0;fp(fs);fq=fr;} else return fq.$==3?cK((ft) => { fo.push(ft);}, fq.$0):null;} } fp(fn);return fo.slice(0);}
function eN(fn){ const fo=bR(fn);return bS(eO(), eL, fo);}
function eO(){ return ff.Empty;}
function eP(fn){ let fo=[];let fp;for(var fq in fn)fo.push.apply(fo, fn[fq]);return fo;}
function eQ(fn){ fn.splice(0, cB(fn));}
function eR(fn){ return fn.match(new RegExp("\\s"))!==null;}
function eS(fn){ const fo=Date.parse(fn);return isNaN(fo)?null:cV(fo);}
function eT(fn, fo, fp, fq){ const fr=+fn;const fs=fr===fr-fr%1&&fr>=fo&&fr<=fp;if(fs)fq.set(fr);return fs;}
class eU extends Error { static New(){ return new this("New");} static New_1(fn){ return new this("New_1", fn);} constructor(fn, fo){ if(fn=="New"){ fn="New_1";fo="The given key was not present in the dictionary.";} if(fn=="New_1"){ const fp=fo;super(fp);} } }
class eV extends t { idle;robin;Fork(fn){ this.robin.push(fn);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fn=Date.now();let fo=true;while(fo)if(this.robin.length===0){ this.idle=true;fo=false;} else {(this.robin.shift())();Date.now()-fn>40?(setTimeout(() => { this.tick();}, 0),fo=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class eW extends t { transformTime;static Custom(fn){ return new eW(fn);} constructor(fn){ super();this.transformTime=fn;} }
function eX(fn, fo){ return{k:fn, ct:fo};}
function eY(fn){ return{$:1, $0:fn};}
function eZ(fn){ return{$:0, $0:fn};}
function e0(fn){ return{$:2, $0:fn};}
let e1=fi((fn) => class fo { static { e1=fn(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=e2(false, []);this.scheduler=new eV();this.defCTS=[new e7()];this.Zero=eq();this.GetCT=(fp) => { fp.k(eZ(fp.ct));};} });
function e2(fn, fo){ return{c:fn, r:fo};}
function e3(fn, fo){ return new cU("New_2", cI(fn, e5(fo)));}
function e4(fn, fo){ const fp=new cU("New_2", e5(fo));fp.ExceptWith(e5(fn));return fp;}
function e5(fn){ const fo=cQ(fn.Count, void 0);fn.CopyTo(fo, 0);return fo;}
function e6(fn, fo){ const fp=new cU("New_2", e5(fn));fp.IntersectWith(e5(fo));return fp;}
class e7 extends t { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function e8(fn, fo){ let fp;if(fo!=null&&fo.$==1){ const fq=[];fp=fo.$0[0].nextSibling;while(fp!==fo.$0[1]){ fq.push(fp);fp=fp.nextSibling;} return fa(fq);} else { let fr=fn.childNodes.length;const fs=fn.childNodes;let ft=cR(fr, (fu) => fs[fu]);return fa(ft);} }
function e9(fn, fo){ const fp=fn.$0;return fa(cI((fq) => cS((fr) =>!(fq===fr), fp), fo.$0));}
function e_(fn, fo){ cK(fn, fo.$0);}
function e$(fn){ const fo=[];function fp(fq){ while(true){ if(fq!=null&&fq.$==2){ const fr=fq.$0;fq=fr.Current;} else if(fq!=null&&fq.$==1)return fo.push(fq.$0.El);else if(fq==null)return null;else if(fq!=null&&fq.$==5)return fo.push(fq.$0);else if(fq!=null&&fq.$==4)return fo.push(fq.$0.Text);else if(fq!=null&&fq.$==6){ const fs=fq.$0.Els;return(((fv) =>(fw) => { cK(fv, fw);})((fv) => { if(fv==null||fv.constructor===Object)fp(fv);else fo.push(fv);}))(fs);} else { const ft=fq.$1;const fu=fq.$0;fp(fu);fq=ft;} } } fp(fn.Children);return fa(bR(fo));}
function fa(fn){ return{$:0, $0:fn};}
class fb extends Error { ct;static New(fn){ return new this("New", fn);} static New_1(fn, fo, fp){ return new this("New_1", fn, fo, fp);} constructor(fn, fo, fp, fq){ let fr;if(fn=="New"){ fr=fo;fn="New_1";fo="The operation was canceled.";fp=null;fq=fr;} if(fn=="New_1"){ const fs=fo;const ft=fp;const fu=fq;super(fs);this.inner=ft;this.ct=fu;} } }
function fc(fn){ return fg(false, fn, fd);}
function fd(){ const fn=this.v();this.c=true;this.v=fn;this.f=fe;return fn;}
function fe(){ return this.v;}
let ff=fi((fn) => class fo { static { ff=fn(this);} static Empty;static { this.Empty={$:0};} });
function fg(fn, fo, fp){ return{c:fn, v:fo, f:fp};}
fm(() => { b();});
fh();

